import{a as v,d as k,t as P}from"./mixins-CToSDW15.js";import{_ as R}from"./ProfileSiswa-BoXX9sbX.js";import{_ as z}from"./AppSelect-DbfGRlpP.js";import{_ as B}from"./AppTextField-BYQvWqvk.js";import{$ as D}from"./api-CqoQuUrQ.js";import{V as F,c as K,a as N,b as $}from"./VCard-CHmpSx-c.js";import{V as w}from"./VDivider-gWeRf3Xl.js";import{V as g,a as p}from"./VRow-BacuoGYF.js";import{r as h,f as V,e as l,o as s,b as t,t as S,d as o,m as e,c as d,am as A,F as x,y as f,h as I,aa as c}from"./main-BpmS5yjl.js";import{V as U}from"./VTable-DH5oZuZ_.js";import"./VImg-1iDcvPVu.js";import"./VAvatar-CwdAusxZ.js";import"./VLabel-D6Y69236.js";import"./VSelect-D2E-ncti.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-CAazeH9Z.js";import"./ssrBoot-C9ygE__7.js";import"./VOverlay-yY7p8is2.js";import"./scopeId-DiP191uI.js";import"./VMenu-RpUw0xGr.js";import"./VSelectionControl-Bjw4k3ug.js";import"./VChip-Ce3c0jwR.js";import"./VSlideGroup-ZqIn0ESw.js";/* empty css                   */import"./VField-Cktymv3Q.js";import"./index-BxkgbwWS.js";/* empty css              */const E={key:0,class:"text-center"},H={key:1,class:"text-center"},L={class:"text-center"},M={key:0,class:"text-center"},O={key:1,class:"text-center"},q={key:2,class:"text-center"},G={key:3,class:"text-center"},J={key:4,class:"text-center"},Q={class:"text-center"},we={__name:"cetak-rapor",setup(W){const a=h({tingkat:null,rombongan_belajar_id:null,semester_id:v.semester_id,user_id:k.user_id,guru_id:k.guru_id,sekolah_id:k.sekolah_id,merdeka:!1,rapor_pts:!1,is_ppa:!1,is_new_ppa:!0}),_=h({rombel:[],siswa:[]}),u=h({rombel:!1,body:!1}),y=async i=>{const r={...i,...a.value};await D("/monitoring/get-data",{method:"POST",body:r,onResponse({response:b}){let m=b._data;i.data=="rombel"&&(_.value.rombel=m),i.data=="siswa"&&(_.value.siswa=m.data_siswa,a.value.merdeka=m.merdeka,a.value.rapor_pts=m.rapor_pts,a.value.is_ppa=m.is_ppa,a.value.is_new_ppa=m.is_new_ppa)}})},T=async i=>{a.value.rombongan_belajar_id=null,_.value.rombel=[],_.value.siswa=[],i&&(u.value.rombel=!0,await y({data:"rombel"}).then(()=>{u.value.rombel=!1}))},j=async i=>{_.value.siswa=[],i&&(u.value.body=!0,await y({data:"siswa"}).then(()=>{u.value.body=!1}))};return(i,r)=>{const b=B,m=z,C=R;return s(),V(F,{class:"mb-6"},{default:l(()=>[t(N,{class:"pb-4"},{default:l(()=>[t(K,null,{default:l(()=>r[2]||(r[2]=[S("Monitoring Â» Cetak Rapor")])),_:1})]),_:1}),t(w),t($,null,{default:l(()=>[t(g,null,{default:l(()=>[t(p,{cols:"12"},{default:l(()=>[t(g,{"no-gutters":""},{default:l(()=>[t(p,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[3]||(r[3]=[o("label",{class:"v-label text-body-2 text-high-emphasis",for:"semester_id"},"Tahun Pelajaran",-1)])),_:1}),t(p,{cols:"12",md:"9"},{default:l(()=>[t(b,{id:"semester_id",value:("$semester"in i?i.$semester:e(v)).nama,disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(p,{cols:"12"},{default:l(()=>[t(g,{"no-gutters":""},{default:l(()=>[t(p,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[4]||(r[4]=[o("label",{class:"v-label text-body-2 text-high-emphasis",for:"tingkat"},"Tingkat Kelas",-1)])),_:1}),t(p,{cols:"12",md:"9"},{default:l(()=>[t(m,{modelValue:e(a).tingkat,"onUpdate:modelValue":[r[0]||(r[0]=n=>e(a).tingkat=n),T],placeholder:"== Pilih Tingkat kelas ==",items:"tingkatKelas"in i?i.tingkatKelas:e(P),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),t(p,{cols:"12"},{default:l(()=>[t(g,{"no-gutters":""},{default:l(()=>[t(p,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[5]||(r[5]=[o("label",{class:"v-label text-body-2 text-high-emphasis",for:"rombonganBelajarId"},"Rombongan Belajar",-1)])),_:1}),t(p,{cols:"12",md:"9"},{default:l(()=>[t(m,{modelValue:e(a).rombongan_belajar_id,"onUpdate:modelValue":[r[1]||(r[1]=n=>e(a).rombongan_belajar_id=n),j],placeholder:"== Pilih Rombongan Belajar == ",items:e(_).rombel,clearable:"","clear-icon":"tabler-x","item-value":"rombongan_belajar_id","item-title":"nama",loading:e(u).rombel,disabled:e(u).rombel},null,8,["modelValue","items","loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(u).body?(s(),d(x,{key:0},[t(w),t($,{class:"text-center"},{default:l(()=>[t(A,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})],64)):(s(),d(x,{key:1},[e(_).siswa.length?(s(),V(U,{key:0,class:"text-no-wrap"},{default:l(()=>[o("thead",null,[o("tr",null,[r[6]||(r[6]=o("th",{class:"text-center"},"Peserta Didik",-1)),r[7]||(r[7]=o("th",{class:"text-center"},"Halaman Depan",-1)),r[8]||(r[8]=o("th",{class:"text-center"},"Rapor Akademik",-1)),e(a).rapor_pts?(s(),d("th",E,"Rapor Tengah Semester")):f("",!0),e(a).merdeka&&!e(a).is_new_ppa?(s(),d("th",H,"Rapor P5")):f("",!0),r[9]||(r[9]=o("th",{class:"text-center"},"Dokumen Pendukung",-1))])]),o("tbody",null,[(s(!0),d(x,null,I(e(_).siswa,n=>(s(),d("tr",null,[o("td",null,[t(C,{item:n},null,8,["item"])]),o("td",L,[t(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"success",variant:"text",href:`/cetak/rapor-cover/${n.peserta_didik_id}/${e(a).sekolah_id}/${e(a).semester_id}`,target:"_blank"},null,8,["href"])]),e(a).is_new_ppa?(s(),d("td",M,[t(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-akademik/${n.peserta_didik_id}/${e(a).sekolah_id}/${e(a).semester_id}`,target:"_blank"},null,8,["href"])])):e(a).merdeka||e(a).is_ppa?(s(),d("td",O,[t(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-nilai-akhir/${n.anggota_rombel.anggota_rombel_id}/${e(a).sekolah_id}/${e(a).semester_id}`,target:"_blank"},null,8,["href"])])):(s(),d("td",q,[t(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-semester/${n.peserta_didik_id}/${e(a).sekolah_id}/${e(a).semester_id}`,target:"_blank"},null,8,["href"])])),e(a).rapor_pts?(s(),d("td",G,[t(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"primary",variant:"text",href:`/cetak/rapor-tengah-semester/${n.peserta_didik_id}/${e(a).semester_id}`,target:"_blank"},null,8,["href"])])):f("",!0),e(a).merdeka&&!e(a).is_new_ppa?(s(),d("td",J,[t(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"info",variant:"text",href:`/cetak/rapor-p5/${n.anggota_rombel.anggota_rombel_id}/${e(a).semester_id}`,target:"_blank"},null,8,["href"])])):f("",!0),o("td",Q,[t(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"error",variant:"text",href:`/cetak/rapor-pelengkap/${n.peserta_didik_id}/${e(a).sekolah_id}/${e(a).semester_id}`,target:"_blank"},null,8,["href"])])]))),256))])]),_:1})):f("",!0)],64))]),_:1})}}};export{we as default};
