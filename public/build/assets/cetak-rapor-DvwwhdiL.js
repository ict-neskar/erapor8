import{_ as b}from"./ProfileSiswa-CNtxoAVM.js";import{d as k,a as g}from"./mixins-D9sK_GNK.js";import{u as v,c as $}from"./createUrl-DDCDdC1v.js";import{V as w,c as V,a as z,b as C}from"./VCard-DP6R80QM.js";import{V as D}from"./VDivider-AdngBwQk.js";import{G as B,r as f,f as h,e as d,o as r,b as s,t as P,m as a,c as l,am as T,F as m,d as i,y as _,h as N,aa as n}from"./main-BbIknAU_.js";import{V as R}from"./VTable-D6I1NIoz.js";import"./VImg-C0bob0hg.js";import"./VAvatar-DhWlB6rZ.js";import"./index-BxkgbwWS.js";const F={key:0,class:"text-center"},A={key:1,class:"text-center"},S={class:"text-center"},q={key:0,class:"text-center"},E={key:1,class:"text-center"},G={key:2,class:"text-center"},H={key:3,class:"text-center"},I={key:4,class:"text-center"},L={class:"text-center"},ee={__name:"cetak-rapor",setup(M){B(async()=>{await x()});const p=f({body:!1}),e=f({user_id:k.user_id,guru_id:k.guru_id,sekolah_id:k.sekolah_id,semester_id:g.semester_id,periode_aktif:g.nama,aksi:"cetak-rapor",rapor_pts:!1,merdeka:!1,is_ppa:!1,is_new_ppa:!0}),c=f({siswa:[]}),x=async()=>{p.value.body=!0;try{let t=(await v($("/walas",{query:{user_id:e.value.user_id,guru_id:e.value.guru_id,sekolah_id:e.value.sekolah_id,semester_id:e.value.semester_id,periode_aktif:e.value.nama,aksi:e.value.aksi}}))).data.value;e.value.rapor_pts=t.rapor_pts,e.value.merdeka=t.merdeka,e.value.is_ppa=t.is_ppa,e.value.is_new_ppa=t.is_new_ppa,c.value.siswa=t.data_siswa}catch(u){console.error(u)}finally{p.value.body=!1}};return(u,t)=>{const y=b;return r(),h(w,null,{default:d(()=>[s(z,{class:"pb-4"},{default:d(()=>[s(V,null,{default:d(()=>t[0]||(t[0]=[P("Cetak Rapor")])),_:1})]),_:1}),a(p).body?(r(),l(m,{key:0},[s(D),s(C,{class:"text-center"},{default:d(()=>[s(T,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})],64)):(r(),l(m,{key:1},[a(c).siswa.length?(r(),h(R,{key:0,class:"text-no-wrap"},{default:d(()=>[i("thead",null,[i("tr",null,[t[1]||(t[1]=i("th",{class:"text-center"},"Peserta Didik",-1)),t[2]||(t[2]=i("th",{class:"text-center"},"Halaman Depan",-1)),t[3]||(t[3]=i("th",{class:"text-center"},"Rapor Akademik",-1)),a(e).rapor_pts?(r(),l("th",F,"Rapor Tengah Semester")):_("",!0),a(e).merdeka&&!a(e).is_new_ppa?(r(),l("th",A,"Rapor P5")):_("",!0),t[4]||(t[4]=i("th",{class:"text-center"},"Dokumen Pendukung",-1))])]),i("tbody",null,[(r(!0),l(m,null,N(a(c).siswa,o=>(r(),l("tr",null,[i("td",null,[s(y,{item:o},null,8,["item"])]),i("td",S,[s(n,{size:"x-large",icon:"tabler-file-type-pdf",color:"success",variant:"text",href:`/cetak/rapor-cover/${o.peserta_didik_id}/${a(e).sekolah_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])]),a(e).is_new_ppa?(r(),l("td",q,[s(n,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-akademik/${o.peserta_didik_id}/${a(e).sekolah_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])):a(e).merdeka||a(e).is_ppa?(r(),l("td",E,[s(n,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-nilai-akhir/${o.anggota_rombel.anggota_rombel_id}/${a(e).sekolah_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])):(r(),l("td",G,[s(n,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-semester/${o.peserta_didik_id}/${a(e).sekolah_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])),a(e).rapor_pts?(r(),l("td",H,[s(n,{size:"x-large",icon:"tabler-file-type-pdf",color:"primary",variant:"text",href:`/cetak/rapor-tengah-semester/${o.peserta_didik_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])):_("",!0),a(e).merdeka&&!a(e).is_new_ppa?(r(),l("td",I,[s(n,{size:"x-large",icon:"tabler-file-type-pdf",color:"info",variant:"text",href:`/cetak/rapor-p5/${o.anggota_rombel.anggota_rombel_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])):_("",!0),i("td",L,[s(n,{size:"x-large",icon:"tabler-file-type-pdf",color:"error",variant:"text",href:`/cetak/rapor-pelengkap/${o.peserta_didik_id}/${a(e).sekolah_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])]))),256))])]),_:1})):_("",!0)],64))]),_:1})}}};export{ee as default};
