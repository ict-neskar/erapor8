import{_ as $}from"./ProfileSiswa-BPofQdjj.js";import{$ as j}from"./api-DGas9VfV.js";import{d as u,a as f}from"./mixins-CKlf8GuV.js";import{V as v,c as P,a as B,b as D}from"./VCard-BpJLDfhD.js";import{V as N}from"./VDivider-BnEsdsgF.js";import{r as V,G as T,f as k,e as r,o as l,b as n,t as g,m as h,c as d,am as S,F as o,y as _,d as e,h as x,v as s,aa as C}from"./main-BUumBu6a.js";import{V as z}from"./VTable-BUsnUoL5.js";import"./VImg-D2Juqgex.js";import"./VAvatar-Ba-Ggnm6.js";import"./index-BxkgbwWS.js";const F=["rowspan"],K=["rowspan"],L={class:"text-no-wrap border-right py-2"},E={class:"text-center"},X={__name:"nilai",setup(G){const m=V(!1),c=V([]);T(async()=>{m.value=!0,await j("/praktik-kerja-lapangan/get-data",{method:"POST",body:{data:"rapor",user_id:u.user_id,guru_id:u.guru_id,sekolah_id:u.sekolah_id,semester_id:f.semester_id,periode_aktif:f.nama},onResponse({response:p}){let a=p._data;m.value=!1,c.value=a}})});const b=(p,a)=>{window.open(`/cetak/rapor-pkl/${p}/${a}/${u.guru_id}/${f.semester_id}`,"_blank")};return(p,a)=>{const y=$;return l(),k(v,{class:"mb-6"},{default:r(()=>[n(B,{class:"pb-4"},{default:r(()=>[n(P,null,{default:r(()=>a[0]||(a[0]=[g("Daftar Nilai PKL")])),_:1})]),_:1}),h(m)?(l(),d(o,{key:0},[n(N),n(D,{class:"text-center"},{default:r(()=>[n(S,{size:60,indeterminate:"",color:"error"})]),_:1})],64)):_("",!0),h(c).length?(l(),k(z,{key:1},{default:r(()=>[a[3]||(a[3]=e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"Nama Peserta Didik"),e("th",{class:"text-center"},"Kelas"),e("th",{class:"text-center"},"Prakerin"),e("th",{class:"text-center"},"Dudi"),e("th",{class:"text-center"},"Cetak")])],-1)),e("tbody",null,[(l(!0),d(o,null,x(h(c),t=>(l(),d(o,null,[e("tr",null,[t.all_pd_pkl.length>1?(l(),d(o,{key:0},[e("td",{class:"text-no-wrap border-right py-2",rowspan:t.all_pd_pkl.length+1},[n(y,{item:t},null,8,["item"])],8,F),e("td",{rowspan:t.all_pd_pkl.length+1,class:"border-right"},s(t.kelas.nama),9,K)],64)):(l(),d(o,{key:1},[e("td",L,[n(y,{item:t},null,8,["item"])]),e("td",null,s(t.kelas.nama),1),e("td",null,s(t.all_pd_pkl[0].praktik_kerja_lapangan.dudi.judul_mou),1),e("td",null,s(t.all_pd_pkl[0].praktik_kerja_lapangan.nama_dudi),1),e("td",E,[t.all_pd_pkl[0].nilai_pkl_count?(l(),k(C,{key:0,"prepend-icon":"tabler-printer",color:"success",size:"small",onClick:i=>b(t.peserta_didik_id,t.all_pd_pkl[0].pkl_id),target:"_blank"},{default:r(()=>a[1]||(a[1]=[g("Cetak")])),_:2},1032,["onClick"])):_("",!0)])],64))]),t.all_pd_pkl.length>1?(l(!0),d(o,{key:0},x(t.all_pd_pkl,i=>(l(),d("tr",null,[e("td",null,s(i.praktik_kerja_lapangan.dudi.judul_mou),1),e("td",null,s(i.praktik_kerja_lapangan.nama_dudi),1),e("td",null,[i.nilai_pkl_count?(l(),k(C,{key:0,"prepend-icon":"tabler-printer",color:"success",size:"small",onClick:I=>b(t.peserta_didik_id,i.pkl_id),target:"_blank"},{default:r(()=>a[2]||(a[2]=[g(" Cetak")])),_:2},1032,["onClick"])):_("",!0)])]))),256)):_("",!0)],64))),256))])]),_:1})):_("",!0)]),_:1})}}};export{X as default};
