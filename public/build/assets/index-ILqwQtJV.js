import{_ as ce}from"./ConfirmDialog-CoWyGp8W.js";import{$ as L}from"./api-zDHFqD3S.js";import{a as G,d as te}from"./mixins-D9sK_GNK.js";import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as T,V as E}from"./VRow-BRHNHyL4.js";import{V as R,b as X,a as _e,c as ke}from"./VCard-DP6R80QM.js";import{a3 as ge,a6 as ye,ae as oe,af as Ve,r as o,ag as xe,Y as ie,ah as he,a7 as De,ai as je,b as a,q as re,F as K,aj as we,ak as Se,$ as Ce,al as Pe,am as H,G as fe,a as $e,o as c,f as x,e as i,m as l,c as k,h as le,d as e,I as Ae,v as m,a2 as z,t as ee,a9 as Ne,x as Te,aa as Be,y as ne}from"./main-BbIknAU_.js";import{V as Ie}from"./VAvatar-DhWlB6rZ.js";import{V as ae}from"./VDivider-AdngBwQk.js";import{V as se}from"./VTable-D6I1NIoz.js";import{m as Me,u as Re,V as ue}from"./VLabel-BKB7GbBW.js";import{m as Ke,V as de}from"./VSelectionControl-BTie8rgs.js";import{_ as Ue}from"./DetilNilaiDialog-BQ9NqX5n.js";import"./VDialog-AuNDjXN_.js";import"./VOverlay-CegGukY1.js";import"./forwardRefs-DWGaNmQL.js";import"./scopeId-Cm6oLMEy.js";import"./VImg-C0bob0hg.js";import"./index-BxkgbwWS.js";/* empty css              */import"./AlertDialog-ceVDBxZt.js";import"./DialogCloseBtn-BgUVzq6p.js";const qe=ge({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Me(),...Ke()},"VSwitch"),pe=ye()({name:"VSwitch",inheritAttrs:!1,props:qe(),emits:{"update:focused":r=>!0,"update:modelValue":r=>!0,"update:indeterminate":r=>!0},setup(r,f){let{attrs:h,slots:d}=f;const _=oe(r,"indeterminate"),D=oe(r,"modelValue"),{loaderClasses:j}=Ve(r),{isFocused:v,focus:U,blur:w}=Re(r),S=o(),y=xe&&window.matchMedia("(forced-colors: active)").matches,$=ie(()=>typeof r.loading=="string"&&r.loading!==""?r.loading:r.color),A=he(),B=ie(()=>r.id||`switch-${A}`);function N(){_.value&&(_.value=!1)}function V(t){var g,b;t.stopPropagation(),t.preventDefault(),(b=(g=S.value)==null?void 0:g.input)==null||b.click()}return De(()=>{const[t,g]=je(h),b=ue.filterProps(r),u=de.filterProps(r);return a(ue,re({class:["v-switch",{"v-switch--flat":r.flat},{"v-switch--inset":r.inset},{"v-switch--indeterminate":_.value},j.value,r.class]},t,b,{modelValue:D.value,"onUpdate:modelValue":I=>D.value=I,id:B.value,focused:v.value,style:r.style}),{...d,default:I=>{let{id:F,messagesId:J,isDisabled:Z,isReadonly:Q,isValid:Y}=I;const O={model:D,isValid:Y};return a(de,re({ref:S},u,{modelValue:D.value,"onUpdate:modelValue":[q=>D.value=q,N],id:F.value,"aria-describedby":J.value,type:"checkbox","aria-checked":_.value?"mixed":void 0,disabled:Z.value,readonly:Q.value,onFocus:U,onBlur:w},g),{...d,default:q=>{let{backgroundColorClasses:W,backgroundColorStyles:C}=q;return a("div",{class:["v-switch__track",y?void 0:W.value],style:C.value,onClick:V},[d["track-true"]&&a("div",{key:"prepend",class:"v-switch__track-true"},[d["track-true"](O)]),d["track-false"]&&a("div",{key:"append",class:"v-switch__track-false"},[d["track-false"](O)])])},input:q=>{let{inputNode:W,icon:C,backgroundColorClasses:p,backgroundColorStyles:s}=q;return a(K,null,[W,a("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":C||r.loading},r.inset||y?void 0:p.value],style:r.inset?void 0:s.value},[d.thumb?a(we,{defaults:{VIcon:{icon:C,size:"x-small"}}},{default:()=>[d.thumb({...O,icon:C})]}):a(Se,null,{default:()=>[r.loading?a(Pe,{name:"v-switch",active:!0,color:Y.value===!1?void 0:$.value},{default:P=>d.loader?d.loader(P):a(H,{active:P.isActive,color:P.color,indeterminate:!0,size:"16",width:"2"},null)}):C&&a(Ce,{key:String(C),icon:C,size:"x-small"},null)]})])])}})}})}),{}}}),ze={class:"d-flex align-center gap-x-4 mb-1"},Fe={class:"text-h4"},Ge={class:"text-body-1 mb-1"},Oe={__name:"Administrator",setup(r){fe(async()=>{await $()});const f=o(!1),h=o([]),d=o(),_=o(),D=o([]),j=o(),v=o(!0),U=o(""),w=o(!1),S=o(!1),y=o({color:"",title:"",text:""}),$=async()=>{try{await L("/dashboard",{method:"POST",body:{periode_aktif:G.nama,sekolah_id:te.sekolah_id,semester_id:G.semester_id},onResponse({request:V,response:t,options:g}){let b=t._data;f.value=b.app.status_penilaian,h.value=b.rekap,d.value=b.sekolah,_.value=b.app,D.value=b.helpdesk,j.value=b.text_wa}})}catch(V){console.error(V)}finally{v.value=!1}},A=V=>{V?U.value="Penilaian akan di aktifkan":U.value="Penilaian akan di nonaktifkan",w.value=!0},B=async V=>{V||(f.value=!f.value),await L("/dashboard/status-penilaian",{method:"POST",body:{status:f.value,sekolah_id:te.sekolah_id,semester_id:G.semester_id},onResponse({request:t,response:g,options:b}){let u=g._data;S.value=!0,y.value=u}})},N=()=>{S.value=!1,setTimeout(()=>{y.value={color:"",title:"",text:""}},300),$()};return(V,t)=>{const g=$e("font-awesome-icon"),b=ce;return c(),x(E,null,{default:i(()=>[a(T,{cols:"12"},{default:i(()=>[a(E,{class:"match-height"},{default:i(()=>[l(v)?(c(),k(K,{key:0},le(6,u=>a(T,{key:u,cols:"6",sm:"2"},{default:i(()=>[e("div",null,[a(R,{class:"text-center"},{default:i(()=>[a(H,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})])]),_:2},1024)),64)):(c(!0),k(K,{key:1},le(l(h),(u,I)=>(c(),x(T,{key:I,cols:"6",sm:"2"},{default:i(()=>[e("div",null,[a(R,{class:"logistics-card-statistics cursor-pointer",style:Ae(u.isHover?`border-block-end-color: rgb(var(--v-theme-${u.color}))`:`border-block-end-color: rgba(var(--v-theme-${u.variant}),0.38)`),onMouseenter:F=>u.isHover=!0,onMouseleave:F=>u.isHover=!1},{default:i(()=>[a(X,null,{default:i(()=>[e("div",ze,[a(Ie,{variant:"tonal",color:u.variant,rounded:""},{default:i(()=>[a(g,{icon:["fas",u.icon],size:"lg"},null,8,["icon"])]),_:2},1032,["color"]),e("h4",Fe,m(u.jml),1)]),e("div",Ge,m(u.data),1)]),_:2},1024)]),_:2},1032,["style","onMouseenter","onMouseleave"])])]),_:2},1024))),128))]),_:1})]),_:1}),a(T,{cols:"12"},{default:i(()=>[a(E,null,{default:i(()=>[a(T,{cols:"7",md:"7",sm:"12"},{default:i(()=>[l(v)?(c(),x(R,{key:0,title:"Data Sekolah"},{default:i(()=>[a(X,{class:"text-center"},{default:i(()=>[a(H,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(c(),x(R,{key:1,title:"Data Sekolah",class:"mb-10"},{default:i(()=>[a(ae),a(se,{class:"text-no-wrap"},{default:i(()=>{var u;return[e("tbody",null,[e("tr",null,[t[3]||(t[3]=e("td",null,"Nama Sekolah",-1)),e("td",null,m(l(d).nama),1)]),e("tr",null,[t[4]||(t[4]=e("td",null,"NPSN",-1)),e("td",null,m(l(d).npsn),1)]),e("tr",null,[t[5]||(t[5]=e("td",null,"Alamat",-1)),e("td",null,m(l(d).alamat),1)]),e("tr",null,[t[6]||(t[6]=e("td",null,"Kodepos",-1)),e("td",null,m(l(d).kode_pos),1)]),e("tr",null,[t[7]||(t[7]=e("td",null,"Desa/Kelurahan",-1)),e("td",null,m(l(d).desa_kelurahan),1)]),e("tr",null,[t[8]||(t[8]=e("td",null,"Kecamatan",-1)),e("td",null,m(l(d).kecamatan),1)]),e("tr",null,[t[9]||(t[9]=e("td",null,"Kabupaten/Kota",-1)),e("td",null,m(l(d).kabupaten),1)]),e("tr",null,[t[10]||(t[10]=e("td",null,"Provinsi",-1)),e("td",null,m(l(d).provinsi),1)]),e("tr",null,[t[11]||(t[11]=e("td",null,"Email",-1)),e("td",null,m(l(d).email),1)]),e("tr",null,[t[12]||(t[12]=e("td",null,"Website",-1)),e("td",null,m(l(d).website),1)]),e("tr",null,[t[13]||(t[13]=e("td",null,"Kepala Sekolah",-1)),e("td",null,m((u=l(d).kepala_sekolah)==null?void 0:u.nama_lengkap),1)])])]}),_:1})]),_:1}))]),_:1}),a(T,{cols:"5",md:"5",sm:"12"},{default:i(()=>[l(v)?(c(),x(R,{key:0,title:"Informasi Aplikasi"},{default:i(()=>[a(X,{class:"text-center"},{default:i(()=>[a(H,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(c(),x(R,{key:1,title:"Informasi Aplikasi",class:"pb-2"},{default:i(()=>[a(ae),a(se,{class:"text-no-wrap"},{default:i(()=>[e("tbody",null,[e("tr",null,[t[14]||(t[14]=e("td",null,"Nama Aplikasi",-1)),e("td",null,m(l(_).app_name),1)]),e("tr",null,[t[15]||(t[15]=e("td",null,"Versi Aplikasi",-1)),e("td",null,m(l(_).app_version),1)]),e("tr",null,[t[16]||(t[16]=e("td",null,"Versi Database",-1)),e("td",null,m(l(_).db_version),1)]),e("tr",null,[t[17]||(t[17]=e("td",null,"Status Penilaian",-1)),e("td",null,[a(pe,{modelValue:l(f),"onUpdate:modelValue":[t[0]||(t[0]=u=>z(f)?f.value=u:null),A],label:`${l(f)?"Aktif":"Non Aktif"}`},null,8,["modelValue","label"])])]),t[18]||(t[18]=e("tr",null,[e("td",null,"Link Group Diskusi"),e("td",null,[e("a",{href:"https://chat.whatsapp.com/DASJrtiDNF5LI45QoKEB8Z",target:"_blank",rel:"noopener noreferrer"}," Group WA 1"),e("br"),e("a",{href:"https://chat.whatsapp.com/FkkPKImP5ZI0kRqPOrSL1M",target:"_blank",rel:"noopener noreferrer"},"Group WA 2"),e("br"),e("a",{href:"https://t.me/eRaporSMK",target:"_blank",rel:"noopener noreferrer"},"Group Telegram"),ee(),e("br")])],-1))])]),_:1}),a(ae),a(X,null,{default:i(()=>t[19]||(t[19]=[e("p",null,null,-1),e("p",null,"Aplikasi ini dibuat dan dikembangkan oleh SMK, dari SMK, untuk SMK",-1)])),_:1})]),_:1}))]),_:1})]),_:1})]),_:1}),a(b,{isDialogVisible:l(w),"onUpdate:isDialogVisible":t[1]||(t[1]=u=>z(w)?w.value=u:null),isNotifVisible:l(S),"onUpdate:isNotifVisible":t[2]||(t[2]=u=>z(S)?S.value=u:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":l(U),"confirm-color":l(y).color,"confirm-title":l(y).title,"confirm-msg":l(y).text,onConfirm:B,onClose:N},null,8,["isDialogVisible","isNotifVisible","confirmation-text","confirm-color","confirm-title","confirm-msg"])]),_:1})}}},We=ve(Oe,[["__scopeId","data-v-69748090"]]),Le={class:"d-flex align-center text-disabled text-subtitle-2"},Ee={key:0,class:"text-center"},He={class:"text-center"},Je={key:0},Ze={class:"text-center"},Qe={class:"text-center"},Ye={class:"text-center"},Xe={class:"text-center"},ea={class:"text-center"},aa={class:"text-center"},ta={key:1},me={__name:"CardPembelajaran",props:{cardTitle:{type:String,required:!1},cardSubTitle:{type:Boolean,default:!1},cardUrl:{type:String,required:!0}},setup(r){const f=r,h=o(f.cardTitle);fe(async()=>{await V()});const d=o(!0),_=o(!1),D=o(""),j=o(),v=o(!1),U=o(),w=o([]),S=o([]),y=o(""),$=o(!1),A=o(!1),B=o([]),N=o({color:"",title:"",text:""}),V=async()=>{try{await L(f.cardUrl,{method:"POST",body:{guru_id:te.guru_id,periode_aktif:G.nama,sekolah_id:te.sekolah_id,semester_id:G.semester_id},onResponse({request:p,response:s,options:P}){var n;let M=s._data;j.value=M.rombel,h.value=h.value??`Anda adalah Wali Kelas Rombongan Belajar ${j.value.nama}`,v.value=!((n=j.value)!=null&&n.kunci_nilai),U.value=M.rombel_pilihan,w.value=M.pembelajaran,S.value=M.pembelajaran_pilihan}})}catch(p){console.error(p)}finally{d.value=!1}},t=o(),g=o(),b=o([]),u=o(!1),I=o(!1),F=o({}),J=async p=>{B.value[p.pembelajaran_id]=!0,await L("/dashboard/detil-penilaian",{method:"POST",body:{pembelajaran_id:p.pembelajaran_id,rombongan_belajar_id:p.rombongan_belajar_id},onResponse({request:s,response:P,options:M}){let n=P._data;B.value[p.pembelajaran_id]=!1,_.value=!0,F.value=n.pembelajaran,D.value=`Detil Penilaian Mata Pelajaran ${n.pembelajaran.nama_mata_pelajaran}`,t.value=n.pembelajaran.induk,n.pembelajaran.mata_pelajaran_id==800001e3?g.value=1:g.value=n.pembelajaran.tema_count,b.value=n.data_siswa,u.value=n.merdeka,I.value=n.is_ppa}})},Z=o(),Q=o(),Y=async p=>{Z.value=p.pembelajaran_id,Q.value=p.rombongan_belajar_id,J({pembelajaran_id:p.pembelajaran_id,rombongan_belajar_id:p.rombongan_belajar_id})},O=p=>{p?y.value="Penilaian akan di aktifkan":y.value="Penilaian akan di nonaktifkan",$.value=!0},q=async p=>{p||(v.value=!v.value),await L("/dashboard/status-penilaian",{method:"POST",body:{status:v.value,rombongan_belajar_id:j.value.rombongan_belajar_id},onResponse({request:s,response:P,options:M}){let n=P._data;A.value=!0,N.value=n}})},W=()=>{A.value=!1,setTimeout(()=>{N.value={color:"",title:"",text:""}},300),V()},C=()=>{console.log("refreshNilai"),J({pembelajaran_id:Z.value,rombongan_belajar_id:Q.value})};return(p,s)=>{const P=Ue,M=ce;return c(),k("div",null,[a(E,null,{default:i(()=>[a(T,{cols:"12"},{default:i(()=>[l(d)?(c(),x(R,{key:0,class:"text-center mb-10"},{default:i(()=>[a(H,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})):(c(),x(R,{key:1},{default:i(()=>[a(_e,{class:"pb-4"},Ne({default:i(()=>[a(ke,null,{default:i(()=>[ee(m(l(h)),1)]),_:1})]),_:2},[r.cardSubTitle?{name:"append",fn:i(()=>[e("div",Le,[s[4]||(s[4]=ee("Status Penilaian di Rombongan Belajar ini :     ")),a(pe,{modelValue:l(v),"onUpdate:modelValue":[s[0]||(s[0]=n=>z(v)?v.value=n:null),O],label:`${l(v)?"Aktif":"Non Aktif"}`},null,8,["modelValue","label"])])]),key:"0"}:void 0]),1024),a(ae),a(se,{class:"text-no-wrap"},{default:i(()=>[e("thead",null,[e("tr",null,[s[7]||(s[7]=e("th",{class:"text-center"},"No",-1)),s[8]||(s[8]=e("th",{class:"text-center"},"Mata Pelajaran",-1)),l(j)?(c(),k("th",Ee,"Guru Mata Pelajaran")):(c(),k(K,{key:1},[s[5]||(s[5]=e("th",{class:"text-center"},"Rombel",-1)),s[6]||(s[6]=e("th",{class:"text-center"},"Wali Kelas",-1))],64)),s[9]||(s[9]=e("th",{class:"text-center"},"Jml PD",-1)),s[10]||(s[10]=e("th",{class:"text-center"},"Jml PD Dinilai",-1)),s[11]||(s[11]=e("th",{class:"text-center"},"Detil",-1))])]),e("tbody",null,[l(w).length?(c(!0),k(K,{key:0},le(l(w),(n,be)=>(c(),k("tr",{class:Te({"bg-light-warning":n.induk_pembelajaran_id})},[e("td",He,m(be+1),1),e("td",null,m(n.nama_mata_pelajaran),1),l(j)?(c(),k("td",Je,m(n.guru),1)):(c(),k(K,{key:1},[e("td",Ze,m(n.rombel),1),e("td",null,m(n.wali_kelas),1)],64)),n.mata_pelajaran_id===800001e3?(c(),k(K,{key:2},[e("td",Qe,m(n.pd_pkl_count),1),e("td",Ye,m(n.pd_pkl_dinilai),1)],64)):(c(),k(K,{key:3},[e("td",Xe,m(n.pd),1),e("td",ea,m(n.pd_dinilai),1)],64)),e("td",aa,[a(Be,{size:"x-small",color:"success",onClick:na=>Y(n),loading:l(B)[n.pembelajaran_id],disabled:l(B)[n.pembelajaran_id]},{default:i(()=>s[12]||(s[12]=[ee(" Detil ")])),_:2},1032,["onClick","loading","disabled"])])],2))),256)):(c(),k("tr",ta,s[13]||(s[13]=[e("td",{colspan:"7",class:"text-center"},"Tidak ada data untuk ditampilkan",-1)])))])]),_:1})]),_:1}))]),_:1}),a(P,{isDialogVisible:l(_),"onUpdate:isDialogVisible":s[1]||(s[1]=n=>z(_)?_.value=n:null),"item-data":l(F),"title-detil-nilai":l(D),merdeka:l(u),"is-ppa":l(I),"data-siswa":l(b),"sub-mapel":l(g),onRefresh:C},null,8,["isDialogVisible","item-data","title-detil-nilai","merdeka","is-ppa","data-siswa","sub-mapel"]),a(M,{isDialogVisible:l($),"onUpdate:isDialogVisible":s[2]||(s[2]=n=>z($)?$.value=n:null),isNotifVisible:l(A),"onUpdate:isNotifVisible":s[3]||(s[3]=n=>z(A)?A.value=n:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":l(y),"confirm-color":l(N).color,"confirm-title":l(N).title,"confirm-msg":l(N).text,onConfirm:q,onClose:W},null,8,["isDialogVisible","isNotifVisible","confirmation-text","confirm-color","confirm-title","confirm-msg"])]),_:1})])}}},la={__name:"Guru",setup(r){return(f,h)=>(c(),k("div",null,[a(E,null,{default:i(()=>[a(T,{cols:"12"},{default:i(()=>[a(me,{"card-title":`Mata Pelajaran yang diampu di Tahun Pelajaran ${("$semester"in f?f.$semester:l(G)).nama}`,"card-url":"/dashboard"},null,8,["card-title"])]),_:1}),f.$can("read","Wali")?(c(),x(T,{key:0,cols:"12"},{default:i(()=>[a(me,{"card-url":"/dashboard/wali",cardSubTitle:!0})]),_:1})):ne("",!0)]),_:1})]))}},Sa={__name:"index",setup(r){return(f,h)=>(c(),k("div",null,[f.$can("read","Administrator")||f.$can("read","TataUsaha")?(c(),x(We,{key:0})):ne("",!0),f.$can("read","Guru")?(c(),x(la,{key:1})):ne("",!0)]))}};export{Sa as default};
