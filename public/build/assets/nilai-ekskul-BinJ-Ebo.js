import{_ as w}from"./TablePagination-DmP15-SC.js";import{_ as C}from"./ProfilePtk-yFCkMEAk.js";import{_ as D}from"./AppTextField-BkZ8OLsx.js";import{_ as x}from"./AppSelect-DwS2KVgh.js";import{d,a as g}from"./mixins-CKlf8GuV.js";import{u as T,c as $}from"./createUrl-C1_Sm4N7.js";import{V as A,c as Q,a as S,b as U}from"./VCard-BpJLDfhD.js";import{V as B}from"./VDivider-BnEsdsgF.js";import{V as j,a as f}from"./VRow-D5VnEZ_i.js";import{V as E}from"./VDataTableServer-ndkNIZXv.js";import{r as m,G as N,w as b,f as q,e as o,o as F,b as t,t as k,m as r,v as G}from"./main-BUumBu6a.js";import"./VImg-D2Juqgex.js";import"./VAvatar-Ba-Ggnm6.js";import"./VLabel-BS4UTjHC.js";/* empty css                   */import"./VField-BQoKA9XH.js";import"./forwardRefs-DWGaNmQL.js";import"./VSelect-CUZzVBlY.js";import"./VList-DzyT1C46.js";import"./ssrBoot-BYz6_xqb.js";import"./VOverlay-Bb4CDEq4.js";import"./scopeId-CDzN2yrl.js";import"./VMenu-CW6Pdemc.js";import"./VSelectionControl-C5g1YuyM.js";import"./VChip-BQa_6tD-.js";import"./VSlideGroup-DCwY19Ye.js";import"./index-BxkgbwWS.js";/* empty css              */import"./VTable-BUsnUoL5.js";import"./filter-Bl82YR7N.js";const ke={__name:"nilai-ekskul",setup(J){const e=m({itemsPerPage:10,searchQuery:null,page:1,sortby:"updated_at",sortbydesc:"DESC",rombongan_belajar_id:null}),v=i=>{var a,n;e.value.sortby=(a=i[0])==null?void 0:a.key,e.value.sortbydesc=(n=i[0])==null?void 0:n.order};m([]);const _=m([]),u=m(0),p=m(!1),y=[{key:"nama_ekskul",title:"Nama Ekstrakurikuler",sortable:!1},{key:"pembina",title:"Guru Pembina",sortable:!1},{key:"anggota_rombel_count",title:"Jumlah Anggota",sortable:!1,align:"center"},{key:"dinilai",title:"Jml Anggota Dinilai",sortable:!1,align:"center"}];N(async()=>{await c()}),b(e,async()=>{await c()},{deep:!0}),b(()=>e.value.searchQuery,()=>{e.value.page=1});const l=m({user_id:d.user_id,guru_id:d.guru_id,sekolah_id:d.sekolah_id,semester_id:g.semester_id,periode_aktif:g.nama,data:"nilai-ekskul"}),c=async()=>{p.value=!0;try{let a=(await T($("/monitoring",{query:{user_id:l.value.user_id,guru_id:l.value.guru_id,sekolah_id:l.value.sekolah_id,semester_id:l.value.semester_id,periode_aktif:l.value.nama,data:l.value.data,q:e.value.searchQuery,page:e.value.page,per_page:e.value.itemsPerPage,sortby:e.value.sortby,sortbydesc:e.value.sortbydesc,rombongan_belajar_id:e.value.rombongan_belajar_id}}))).data.value;_.value=a.data,u.value=a.total}catch(i){console.error(i)}finally{p.value=!1}};return(i,a)=>{const n=x,V=D,P=C,h=w;return F(),q(A,{class:"mb-6"},{default:o(()=>[t(S,{class:"pb-4"},{default:o(()=>[t(Q,null,{default:o(()=>a[3]||(a[3]=[k("Monitoring Â» Penilaian Ekstrakurikuler")])),_:1})]),_:1}),t(B),t(U,null,{default:o(()=>[t(j,null,{default:o(()=>[t(f,{cols:"12",md:"4"},{default:o(()=>[t(n,{modelValue:r(e).itemsPerPage,"onUpdate:modelValue":a[0]||(a[0]=s=>r(e).itemsPerPage=s),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"}]},null,8,["modelValue"])]),_:1}),t(f,{cols:"12",md:"4","offset-md":"4"},{default:o(()=>[t(V,{modelValue:r(e).searchQuery,"onUpdate:modelValue":a[1]||(a[1]=s=>r(e).searchQuery=s),placeholder:"Cari Data"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(E,{items:r(_),"server-items-length":r(u),headers:y,options:r(e),loading:r(p),"loading-text":"Loading...","onUpdate:sortBy":v},{"item.nama_ekskul":o(({item:s})=>[k(G(s.nama),1)]),"item.pembina":o(({item:s})=>[t(P,{item:s.wali_kelas},null,8,["item"])]),bottom:o(()=>[t(h,{page:r(e).page,"onUpdate:page":a[2]||(a[2]=s=>r(e).page=s),"items-per-page":r(e).itemsPerPage,"total-items":r(u)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items","server-items-length","options","loading"])]),_:1})}}};export{ke as default};
