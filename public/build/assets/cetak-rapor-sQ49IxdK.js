import{a as v,d as k,t as P}from"./mixins-B3UHDqO3.js";import{_ as R}from"./ProfileSiswa-Oaws0S5b.js";import{_ as z}from"./AppSelect-Cd9HFhsW.js";import{_ as B}from"./AppTextField-BTba3qr2.js";import{$ as D}from"./api-KcMzrp4S.js";import{V as F,c as K,a as N,b as w}from"./VCard-2_qp3Vvc.js";import{V as $}from"./VDivider-DOshNxjC.js";import{V as f,a as _}from"./VRow-90jB0EEo.js";import{r as x,f as V,e as l,o as s,b as e,t as S,d as n,m as a,c as d,am as A,F as h,y as c,h as I,aa as g}from"./main-BLR2YNPc.js";import{V as U}from"./VTable-DC5yuf29.js";import"./VImg-C5whf5xb.js";import"./VAvatar-BZJqyIb4.js";import"./VLabel-QfOIbUGb.js";import"./VSelect-DTXlVIl9.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-DhBNZzgQ.js";import"./ssrBoot-Cfszeb4X.js";import"./VOverlay-CiGj4qAf.js";import"./scopeId-LkyyTvVZ.js";import"./VMenu-IOUSI9rL.js";import"./VSelectionControl-Cco01M7z.js";import"./VChip-CM7CTnjc.js";import"./VSlideGroup-CtUoo4jB.js";/* empty css                   */import"./VField-BZSU_Yhz.js";import"./index-BxkgbwWS.js";/* empty css              */const E={key:0,class:"text-center"},H={key:1,class:"text-center"},L={class:"text-center"},M={key:0,class:"text-center"},O={key:1,class:"text-center"},q={key:2,class:"text-center"},G={key:3,class:"text-center"},J={key:4,class:"text-center"},Q={class:"text-center"},$e={__name:"cetak-rapor",setup(W){const t=x({tingkat:null,rombongan_belajar_id:null,semester_id:v.semester_id,user_id:k.user_id,guru_id:k.guru_id,sekolah_id:k.sekolah_id,merdeka:!1,rapor_pts:!1,is_ppa:!1,is_new_ppa:!0}),p=x({rombel:[],siswa:[]}),u=x({rombel:!1,body:!1}),y=async i=>{const r={...i,...t.value};await D("/monitoring/get-data",{method:"POST",body:r,onResponse({response:b}){let m=b._data;i.data=="rombel"&&(p.value.rombel=m),i.data=="siswa"&&(p.value.siswa=m.data_siswa,t.value.merdeka=m.merdeka,t.value.rapor_pts=m.rapor_pts,t.value.is_ppa=m.is_ppa,t.value.is_new_ppa=m.is_new_ppa)}})},T=async i=>{t.value.rombongan_belajar_id=null,p.value.rombel=[],p.value.siswa=[],i&&(u.value.rombel=!0,await y({data:"rombel"}).then(()=>{u.value.rombel=!1}))},j=async i=>{p.value.siswa=[],i&&(u.value.body=!0,await y({data:"siswa"}).then(()=>{u.value.body=!1}))};return(i,r)=>{const b=B,m=z,C=R;return s(),V(F,{class:"mb-6"},{default:l(()=>[e(N,{class:"pb-4"},{default:l(()=>[e(K,null,{default:l(()=>r[2]||(r[2]=[S("Monitoring Â» Cetak Rapor")])),_:1})]),_:1}),e($),e(w,null,{default:l(()=>[e(f,null,{default:l(()=>[e(_,{cols:"12"},{default:l(()=>[e(f,{"no-gutters":""},{default:l(()=>[e(_,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[3]||(r[3]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"semester_id"},"Tahun Pelajaran",-1)])),_:1}),e(_,{cols:"12",md:"9"},{default:l(()=>[e(b,{id:"semester_id",value:("$semester"in i?i.$semester:a(v)).nama,disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(_,{cols:"12"},{default:l(()=>[e(f,{"no-gutters":""},{default:l(()=>[e(_,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[4]||(r[4]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"tingkat"},"Tingkat Kelas",-1)])),_:1}),e(_,{cols:"12",md:"9"},{default:l(()=>[e(m,{modelValue:a(t).tingkat,"onUpdate:modelValue":[r[0]||(r[0]=o=>a(t).tingkat=o),T],placeholder:"== Pilih Tingkat kelas ==",items:"tingkatKelas"in i?i.tingkatKelas:a(P),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(_,{cols:"12"},{default:l(()=>[e(f,{"no-gutters":""},{default:l(()=>[e(_,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[5]||(r[5]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"rombonganBelajarId"},"Rombongan Belajar",-1)])),_:1}),e(_,{cols:"12",md:"9"},{default:l(()=>[e(m,{modelValue:a(t).rombongan_belajar_id,"onUpdate:modelValue":[r[1]||(r[1]=o=>a(t).rombongan_belajar_id=o),j],placeholder:"== Pilih Rombongan Belajar == ",items:a(p).rombel,clearable:"","clear-icon":"tabler-x","item-value":"rombongan_belajar_id","item-title":"nama",loading:a(u).rombel,disabled:a(u).rombel},null,8,["modelValue","items","loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(u).body?(s(),d(h,{key:0},[e($),e(w,{class:"text-center"},{default:l(()=>[e(A,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})],64)):(s(),d(h,{key:1},[a(p).siswa.length?(s(),V(U,{key:0,class:"text-no-wrap"},{default:l(()=>[n("thead",null,[n("tr",null,[r[6]||(r[6]=n("th",{class:"text-center"},"Peserta Didik",-1)),r[7]||(r[7]=n("th",{class:"text-center"},"Halaman Depan",-1)),r[8]||(r[8]=n("th",{class:"text-center"},"Rapor Akademik",-1)),a(t).rapor_pts?(s(),d("th",E,"Rapor Tengah Semester")):c("",!0),a(t).merdeka&&!a(t).is_new_ppa?(s(),d("th",H,"Rapor P5")):c("",!0),r[9]||(r[9]=n("th",{class:"text-center"},"Dokumen Pendukung",-1))])]),n("tbody",null,[(s(!0),d(h,null,I(a(p).siswa,o=>(s(),d("tr",null,[n("td",null,[e(C,{item:o},null,8,["item"])]),n("td",L,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"success",variant:"text",href:`/cetak/rapor-cover/${o.anggota_rombel.anggota_rombel_id}`,target:"_blank"},null,8,["href"])]),a(t).is_new_ppa?(s(),d("td",M,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-akademik/${o.anggota_rombel.anggota_rombel_id}/${a(t).sekolah_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):a(t).merdeka||a(t).is_ppa?(s(),d("td",O,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-nilai-akhir/${o.anggota_rombel.anggota_rombel_id}/${a(t).sekolah_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):(s(),d("td",q,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-semester/${o.anggota_rombel.anggota_rombel_id}/${a(t).sekolah_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])),a(t).rapor_pts?(s(),d("td",G,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"primary",variant:"text",href:`/cetak/rapor-tengah-semester/${o.anggota_rombel.anggota_rombel_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):c("",!0),a(t).merdeka&&!a(t).is_new_ppa?(s(),d("td",J,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"info",variant:"text",href:`/cetak/rapor-p5/${o.anggota_rombel.anggota_rombel_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):c("",!0),n("td",Q,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"error",variant:"text",href:`/cetak/rapor-pelengkap/${o.anggota_rombel.anggota_rombel_id}/${o.anggota_rombel.rombongan_belajar_id}`,target:"_blank"},null,8,["href"])])]))),256))])]),_:1})):c("",!0)],64))]),_:1})}}};export{$e as default};
