import{_ as fe}from"./ConfirmDialog-BLscZHWo.js";import{u as be,c as _e}from"./createUrl-8zoAcX36.js";import{a as F,d as le}from"./mixins-BjVJEZvR.js";import{$ as ee}from"./api-Bkbcc4ec.js";import{_ as ke}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as T,V as L}from"./VRow-C9aDKUvo.js";import{V as M,b as X,a as ge,c as ye}from"./VCard-CswHtBsG.js";import{a3 as Ve,a6 as xe,ae as ie,af as he,r as s,ag as De,Y as re,ah as je,a7 as we,ai as Se,b as t,q as ue,F as R,aj as Ce,ak as Pe,$ as Ae,al as $e,am as O,G as pe,a as Ne,o as c,f as x,e as o,m as l,c as _,h as ne,d as e,I as Te,v as m,a2 as q,t as ae,a9 as Be,x as Ie,aa as Me,y as se}from"./main-4ibPTuoX.js";import{V as Re}from"./VAvatar-DuOErqu_.js";import{V as te}from"./VDivider-DBczu0Ow.js";import{V as oe}from"./VTable-CFJBDt5I.js";import{m as Ke,u as Ue,V as de}from"./VLabel-B0eCB5jg.js";import{m as qe,V as me}from"./VSelectionControl-Dw3cA4UE.js";import{_ as ze}from"./DetilNilaiDialog-Bad9Klhn.js";import"./VDialog-BkAb0UEZ.js";import"./VOverlay-Dt1Dy2Gr.js";import"./forwardRefs-DWGaNmQL.js";import"./scopeId-DgdHYkHx.js";import"./VImg-B9UUOYt7.js";import"./index-BxkgbwWS.js";/* empty css              */import"./AlertDialog-CuzkofM7.js";import"./DialogCloseBtn-EZZA6T1w.js";const Fe=Ve({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ke(),...qe()},"VSwitch"),ve=xe()({name:"VSwitch",inheritAttrs:!1,props:Fe(),emits:{"update:focused":r=>!0,"update:modelValue":r=>!0,"update:indeterminate":r=>!0},setup(r,f){let{attrs:h,slots:d}=f;const b=ie(r,"indeterminate"),D=ie(r,"modelValue"),{loaderClasses:j}=he(r),{isFocused:v,focus:K,blur:w}=Ue(r),S=s(),k=De&&window.matchMedia("(forced-colors: active)").matches,A=re(()=>typeof r.loading=="string"&&r.loading!==""?r.loading:r.color),$=je(),B=re(()=>r.id||`switch-${$}`);function N(){b.value&&(b.value=!1)}function g(a){var y,C;a.stopPropagation(),a.preventDefault(),(C=(y=S.value)==null?void 0:y.input)==null||C.click()}return we(()=>{const[a,y]=Se(h),C=de.filterProps(r),u=me.filterProps(r);return t(de,ue({class:["v-switch",{"v-switch--flat":r.flat},{"v-switch--inset":r.inset},{"v-switch--indeterminate":b.value},j.value,r.class]},a,C,{modelValue:D.value,"onUpdate:modelValue":I=>D.value=I,id:B.value,focused:v.value,style:r.style}),{...d,default:I=>{let{id:z,messagesId:E,isDisabled:H,isReadonly:J,isValid:Z}=I;const G={model:D,isValid:Z};return t(me,ue({ref:S},u,{modelValue:D.value,"onUpdate:modelValue":[U=>D.value=U,N],id:z.value,"aria-describedby":E.value,type:"checkbox","aria-checked":b.value?"mixed":void 0,disabled:H.value,readonly:J.value,onFocus:K,onBlur:w},y),{...d,default:U=>{let{backgroundColorClasses:W,backgroundColorStyles:P}=U;return t("div",{class:["v-switch__track",k?void 0:W.value],style:P.value,onClick:g},[d["track-true"]&&t("div",{key:"prepend",class:"v-switch__track-true"},[d["track-true"](G)]),d["track-false"]&&t("div",{key:"append",class:"v-switch__track-false"},[d["track-false"](G)])])},input:U=>{let{inputNode:W,icon:P,backgroundColorClasses:p,backgroundColorStyles:i}=U;return t(R,null,[W,t("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":P||r.loading},r.inset||k?void 0:p.value],style:r.inset?void 0:i.value},[d.thumb?t(Ce,{defaults:{VIcon:{icon:P,size:"x-small"}}},{default:()=>[d.thumb({...G,icon:P})]}):t(Pe,null,{default:()=>[r.loading?t($e,{name:"v-switch",active:!0,color:Z.value===!1?void 0:A.value},{default:V=>d.loader?d.loader(V):t(O,{active:V.isActive,color:V.color,indeterminate:!0,size:"16",width:"2"},null)}):P&&t(Ae,{key:String(P),icon:P,size:"x-small"},null)]})])])}})}})}),{}}}),Ge={class:"d-flex align-center gap-x-4 mb-1"},We={class:"text-h4"},Le={class:"text-body-1 mb-1"},Oe={__name:"Administrator",setup(r){pe(async()=>{await A()});const f=s(!1),h=s([]),d=s(),b=s(),D=s([]),j=s(),v=s(!0),K=s(""),w=s(!1),S=s(!1),k=s({color:"",title:"",text:""}),A=async()=>{try{let a=(await be(_e("/dashboard",{query:{periode_aktif:F.nama,sekolah_id:le.sekolah_id,semester_id:F.semester_id}}))).data;f.value=a.value.app.status_penilaian,h.value=a.value.rekap,d.value=a.value.sekolah,b.value=a.value.app,D.value=a.value.helpdesk,j.value=a.value.text_wa}catch(g){console.error(g)}finally{v.value=!1}},$=g=>{g?K.value="Penilaian akan di aktifkan":K.value="Penilaian akan di nonaktifkan",w.value=!0},B=async g=>{g||(f.value=!f.value),await ee("/dashboard/status-penilaian",{method:"POST",body:{status:f.value,sekolah_id:le.sekolah_id,semester_id:F.semester_id},onResponse({request:a,response:y,options:C}){let u=y._data;S.value=!0,k.value=u}})},N=()=>{S.value=!1,setTimeout(()=>{k.value={color:"",title:"",text:""}},300),A()};return(g,a)=>{const y=Ne("font-awesome-icon"),C=fe;return c(),x(L,null,{default:o(()=>[t(T,{cols:"12"},{default:o(()=>[t(L,{class:"match-height"},{default:o(()=>[l(v)?(c(),_(R,{key:0},ne(6,u=>t(T,{key:u,cols:"6",sm:"2"},{default:o(()=>[e("div",null,[t(M,{class:"text-center"},{default:o(()=>[t(O,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})])]),_:2},1024)),64)):(c(!0),_(R,{key:1},ne(l(h),(u,I)=>(c(),x(T,{key:I,cols:"6",sm:"2"},{default:o(()=>[e("div",null,[t(M,{class:"logistics-card-statistics cursor-pointer",style:Te(u.isHover?`border-block-end-color: rgb(var(--v-theme-${u.color}))`:`border-block-end-color: rgba(var(--v-theme-${u.variant}),0.38)`),onMouseenter:z=>u.isHover=!0,onMouseleave:z=>u.isHover=!1},{default:o(()=>[t(X,null,{default:o(()=>[e("div",Ge,[t(Re,{variant:"tonal",color:u.variant,rounded:""},{default:o(()=>[t(y,{icon:["fas",u.icon],size:"lg"},null,8,["icon"])]),_:2},1032,["color"]),e("h4",We,m(u.jml),1)]),e("div",Le,m(u.data),1)]),_:2},1024)]),_:2},1032,["style","onMouseenter","onMouseleave"])])]),_:2},1024))),128))]),_:1})]),_:1}),t(T,{cols:"12"},{default:o(()=>[t(L,null,{default:o(()=>[t(T,{cols:"7",md:"7",sm:"12"},{default:o(()=>[l(v)?(c(),x(M,{key:0,title:"Data Sekolah"},{default:o(()=>[t(X,{class:"text-center"},{default:o(()=>[t(O,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(c(),x(M,{key:1,title:"Data Sekolah",class:"mb-10"},{default:o(()=>[t(te),t(oe,{class:"text-no-wrap"},{default:o(()=>{var u;return[e("tbody",null,[e("tr",null,[a[3]||(a[3]=e("td",null,"Nama Sekolah",-1)),e("td",null,m(l(d).nama),1)]),e("tr",null,[a[4]||(a[4]=e("td",null,"NPSN",-1)),e("td",null,m(l(d).npsn),1)]),e("tr",null,[a[5]||(a[5]=e("td",null,"Alamat",-1)),e("td",null,m(l(d).alamat),1)]),e("tr",null,[a[6]||(a[6]=e("td",null,"Kodepos",-1)),e("td",null,m(l(d).kode_pos),1)]),e("tr",null,[a[7]||(a[7]=e("td",null,"Desa/Kelurahan",-1)),e("td",null,m(l(d).desa_kelurahan),1)]),e("tr",null,[a[8]||(a[8]=e("td",null,"Kecamatan",-1)),e("td",null,m(l(d).kecamatan),1)]),e("tr",null,[a[9]||(a[9]=e("td",null,"Kabupaten/Kota",-1)),e("td",null,m(l(d).kabupaten),1)]),e("tr",null,[a[10]||(a[10]=e("td",null,"Provinsi",-1)),e("td",null,m(l(d).provinsi),1)]),e("tr",null,[a[11]||(a[11]=e("td",null,"Email",-1)),e("td",null,m(l(d).email),1)]),e("tr",null,[a[12]||(a[12]=e("td",null,"Website",-1)),e("td",null,m(l(d).website),1)]),e("tr",null,[a[13]||(a[13]=e("td",null,"Kepala Sekolah",-1)),e("td",null,m((u=l(d).kepala_sekolah)==null?void 0:u.nama_lengkap),1)])])]}),_:1})]),_:1}))]),_:1}),t(T,{cols:"5",md:"5",sm:"12"},{default:o(()=>[l(v)?(c(),x(M,{key:0,title:"Informasi Aplikasi"},{default:o(()=>[t(X,{class:"text-center"},{default:o(()=>[t(O,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(c(),x(M,{key:1,title:"Informasi Aplikasi",class:"pb-2"},{default:o(()=>[t(te),t(oe,{class:"text-no-wrap"},{default:o(()=>[e("tbody",null,[e("tr",null,[a[14]||(a[14]=e("td",null,"Nama Aplikasi",-1)),e("td",null,m(l(b).app_name),1)]),e("tr",null,[a[15]||(a[15]=e("td",null,"Versi Aplikasi",-1)),e("td",null,m(l(b).app_version),1)]),e("tr",null,[a[16]||(a[16]=e("td",null,"Versi Database",-1)),e("td",null,m(l(b).db_version),1)]),e("tr",null,[a[17]||(a[17]=e("td",null,"Status Penilaian",-1)),e("td",null,[t(ve,{modelValue:l(f),"onUpdate:modelValue":[a[0]||(a[0]=u=>q(f)?f.value=u:null),$],label:`${l(f)?"Aktif":"Non Aktif"}`},null,8,["modelValue","label"])])]),a[18]||(a[18]=e("tr",null,[e("td",null,"Link Group Diskusi"),e("td",null,[e("a",{href:"https://chat.whatsapp.com/DASJrtiDNF5LI45QoKEB8Z",target:"_blank",rel:"noopener noreferrer"}," Group WA 1"),e("br"),e("a",{href:"https://chat.whatsapp.com/FkkPKImP5ZI0kRqPOrSL1M",target:"_blank",rel:"noopener noreferrer"},"Group WA 2"),e("br"),e("a",{href:"https://t.me/eRaporSMK",target:"_blank",rel:"noopener noreferrer"},"Group Telegram"),ae(),e("br")])],-1))])]),_:1}),t(te),t(X,null,{default:o(()=>a[19]||(a[19]=[e("p",null,null,-1),e("p",null,"Aplikasi ini dibuat dan dikembangkan oleh SMK, dari SMK, untuk SMK",-1)])),_:1})]),_:1}))]),_:1})]),_:1})]),_:1}),t(C,{isDialogVisible:l(w),"onUpdate:isDialogVisible":a[1]||(a[1]=u=>q(w)?w.value=u:null),isNotifVisible:l(S),"onUpdate:isNotifVisible":a[2]||(a[2]=u=>q(S)?S.value=u:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":l(K),"confirm-color":l(k).color,"confirm-title":l(k).title,"confirm-msg":l(k).text,onConfirm:B,onClose:N},null,8,["isDialogVisible","isNotifVisible","confirmation-text","confirm-color","confirm-title","confirm-msg"])]),_:1})}}},Ee=ke(Oe,[["__scopeId","data-v-1ad8449e"]]),He={class:"d-flex align-center text-disabled text-subtitle-2"},Je={key:0,class:"text-center"},Ze={class:"text-center"},Qe={key:0},Ye={class:"text-center"},Xe={class:"text-center"},ea={class:"text-center"},aa={class:"text-center"},ta={class:"text-center"},la={class:"text-center"},na={key:1},ce={__name:"CardPembelajaran",props:{cardTitle:{type:String,required:!1},cardSubTitle:{type:Boolean,default:!1},cardUrl:{type:String,required:!0}},setup(r){const f=r,h=s(f.cardTitle);pe(async()=>{await g()});const d=s(!0),b=s(!1),D=s(""),j=s(),v=s(!1),K=s(),w=s([]),S=s([]),k=s(""),A=s(!1),$=s(!1),B=s([]),N=s({color:"",title:"",text:""}),g=async()=>{try{const p=await ee(f.cardUrl,{method:"POST",body:{guru_id:le.guru_id,periode_aktif:F.nama,sekolah_id:le.sekolah_id,semester_id:F.semester_id},onResponse({request:i,response:V,options:Q}){var Y;let n=V._data;j.value=n.rombel,h.value=h.value??`Anda adalah Wali Kelas Rombongan Belajar ${j.value.nama}`,v.value=!((Y=j.value)!=null&&Y.kunci_nilai),K.value=n.rombel_pilihan,w.value=n.pembelajaran,S.value=n.pembelajaran_pilihan}})}catch(p){console.error(p)}finally{d.value=!1}},a=s(),y=s(),C=s([]),u=s(!1),I=s(!1),z=s({}),E=async p=>{B.value[p.pembelajaran_id]=!0,await ee("/dashboard/detil-penilaian",{method:"POST",body:{pembelajaran_id:p.pembelajaran_id,rombongan_belajar_id:p.rombongan_belajar_id},onResponse({request:i,response:V,options:Q}){let n=V._data;B.value[p.pembelajaran_id]=!1,b.value=!0,z.value=n.pembelajaran,D.value=`Detil Penilaian Mata Pelajaran ${n.pembelajaran.nama_mata_pelajaran}`,a.value=n.pembelajaran.induk,n.pembelajaran.mata_pelajaran_id==800001e3?y.value=1:y.value=n.pembelajaran.tema_count,C.value=n.data_siswa,u.value=n.merdeka,I.value=n.is_ppa}})},H=s(),J=s(),Z=async p=>{H.value=p.pembelajaran_id,J.value=p.rombongan_belajar_id,E({pembelajaran_id:p.pembelajaran_id,rombongan_belajar_id:p.rombongan_belajar_id})},G=p=>{p?k.value="Penilaian akan di aktifkan":k.value="Penilaian akan di nonaktifkan",A.value=!0},U=async p=>{p||(v.value=!v.value),await ee("/dashboard/status-penilaian",{method:"POST",body:{status:v.value,rombongan_belajar_id:j.value.rombongan_belajar_id},onResponse({request:i,response:V,options:Q}){let n=V._data;$.value=!0,N.value=n}})},W=()=>{$.value=!1,setTimeout(()=>{N.value={color:"",title:"",text:""}},300),g()},P=()=>{console.log("refreshNilai"),E({pembelajaran_id:H.value,rombongan_belajar_id:J.value})};return(p,i)=>{const V=ze,Q=fe;return c(),_("div",null,[t(L,null,{default:o(()=>[t(T,{cols:"12"},{default:o(()=>[l(d)?(c(),x(M,{key:0,class:"text-center mb-10"},{default:o(()=>[t(O,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})):(c(),x(M,{key:1},{default:o(()=>[t(ge,{class:"pb-4"},Be({default:o(()=>[t(ye,null,{default:o(()=>[ae(m(l(h)),1)]),_:1})]),_:2},[r.cardSubTitle?{name:"append",fn:o(()=>[e("div",He,[i[4]||(i[4]=ae("Status Penilaian di Rombongan Belajar ini :     ")),t(ve,{modelValue:l(v),"onUpdate:modelValue":[i[0]||(i[0]=n=>q(v)?v.value=n:null),G],label:`${l(v)?"Aktif":"Non Aktif"}`},null,8,["modelValue","label"])])]),key:"0"}:void 0]),1024),t(te),t(oe,{class:"text-no-wrap"},{default:o(()=>[e("thead",null,[e("tr",null,[i[7]||(i[7]=e("th",{class:"text-center"},"No",-1)),i[8]||(i[8]=e("th",{class:"text-center"},"Mata Pelajaran",-1)),l(j)?(c(),_("th",Je,"Guru Mata Pelajaran")):(c(),_(R,{key:1},[i[5]||(i[5]=e("th",{class:"text-center"},"Rombel",-1)),i[6]||(i[6]=e("th",{class:"text-center"},"Wali Kelas",-1))],64)),i[9]||(i[9]=e("th",{class:"text-center"},"Jml PD",-1)),i[10]||(i[10]=e("th",{class:"text-center"},"Jml PD Dinilai",-1)),i[11]||(i[11]=e("th",{class:"text-center"},"Detil",-1))])]),e("tbody",null,[l(w).length?(c(!0),_(R,{key:0},ne(l(w),(n,Y)=>(c(),_("tr",{class:Ie({"bg-light-warning":n.induk_pembelajaran_id})},[e("td",Ze,m(Y+1),1),e("td",null,m(n.nama_mata_pelajaran),1),l(j)?(c(),_("td",Qe,m(n.guru),1)):(c(),_(R,{key:1},[e("td",Ye,m(n.rombel),1),e("td",null,m(n.wali_kelas),1)],64)),n.mata_pelajaran_id===800001e3?(c(),_(R,{key:2},[e("td",Xe,m(n.pd_pkl_count),1),e("td",ea,m(n.pd_pkl_dinilai),1)],64)):(c(),_(R,{key:3},[e("td",aa,m(n.pd),1),e("td",ta,m(n.pd_dinilai),1)],64)),e("td",la,[t(Me,{size:"x-small",color:"success",onClick:oa=>Z(n),loading:l(B)[n.pembelajaran_id],disabled:l(B)[n.pembelajaran_id]},{default:o(()=>i[12]||(i[12]=[ae(" Detil ")])),_:2},1032,["onClick","loading","disabled"])])],2))),256)):(c(),_("tr",na,i[13]||(i[13]=[e("td",{colspan:"7",class:"text-center"},"Tidak ada data untuk ditampilkan",-1)])))])]),_:1})]),_:1}))]),_:1}),t(V,{isDialogVisible:l(b),"onUpdate:isDialogVisible":i[1]||(i[1]=n=>q(b)?b.value=n:null),"item-data":l(z),"title-detil-nilai":l(D),merdeka:l(u),"is-ppa":l(I),"data-siswa":l(C),"sub-mapel":l(y),onRefresh:P},null,8,["isDialogVisible","item-data","title-detil-nilai","merdeka","is-ppa","data-siswa","sub-mapel"]),t(Q,{isDialogVisible:l(A),"onUpdate:isDialogVisible":i[2]||(i[2]=n=>q(A)?A.value=n:null),isNotifVisible:l($),"onUpdate:isNotifVisible":i[3]||(i[3]=n=>q($)?$.value=n:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":l(k),"confirm-color":l(N).color,"confirm-title":l(N).title,"confirm-msg":l(N).text,onConfirm:U,onClose:W},null,8,["isDialogVisible","isNotifVisible","confirmation-text","confirm-color","confirm-title","confirm-msg"])]),_:1})])}}},sa={__name:"Guru",setup(r){return(f,h)=>(c(),_("div",null,[t(L,null,{default:o(()=>[t(T,{cols:"12"},{default:o(()=>[t(ce,{"card-title":`Mata Pelajaran yang diampu di Tahun Pelajaran ${("$semester"in f?f.$semester:l(F)).nama}`,"card-url":"/dashboard"},null,8,["card-title"])]),_:1}),f.$can("read","Wali")?(c(),x(T,{key:0,cols:"12"},{default:o(()=>[t(ce,{"card-url":"/dashboard/wali",cardSubTitle:!0})]),_:1})):se("",!0)]),_:1})]))}},Aa={__name:"index",setup(r){return(f,h)=>(c(),_("div",null,[f.$can("read","Administrator")||f.$can("read","TataUsaha")?(c(),x(Ee,{key:0})):se("",!0),f.$can("read","Guru")?(c(),x(sa,{key:1})):se("",!0)]))}};export{Aa as default};
