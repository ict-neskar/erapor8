import{_ as w}from"./TablePagination-BRD4F1BT.js";import{_ as x}from"./ProfilePtk-bRQjrdDT.js";import{_ as T}from"./AppTextField-Bdwte880.js";import{_ as U}from"./AppAutocomplete-CQHIUyq3.js";import{_ as $}from"./AppSelect-DFrAhbhb.js";import{d as _,a as v}from"./mixins-BjVJEZvR.js";import{u as A,c as K}from"./createUrl-8zoAcX36.js";import{V as Q,c as S,a as B,b as F}from"./VCard-CswHtBsG.js";import{V as I}from"./VDivider-DBczu0Ow.js";import{V as N,a as g}from"./VRow-C9aDKUvo.js";import{V as R}from"./VDataTableServer-BXGcUj1U.js";import{r as m,G as q,w as y,f as M,e as l,o as E,b as r,t as u,m as o,v as c}from"./main-4ibPTuoX.js";import"./VImg-B9UUOYt7.js";import"./VAvatar-DuOErqu_.js";import"./VLabel-B0eCB5jg.js";/* empty css                   */import"./VField-DDWomVtf.js";import"./forwardRefs-DWGaNmQL.js";import"./VSelect-CJIVueWh.js";import"./VList-DRMF5v6F.js";import"./ssrBoot-CGBhTCaE.js";import"./VOverlay-Dt1Dy2Gr.js";import"./scopeId-DgdHYkHx.js";import"./VMenu-HPtXLDMp.js";import"./VSelectionControl-Dw3cA4UE.js";import"./VChip-ClHLREYK.js";import"./VSlideGroup-DECG9arN.js";import"./filter-CCPSJzNa.js";import"./index-BxkgbwWS.js";/* empty css              */import"./VTable-CFJBDt5I.js";const Pe={__name:"nilai-ukk",setup(G){const e=m({itemsPerPage:10,searchQuery:null,page:1,sortby:"updated_at",sortbydesc:"DESC",rombongan_belajar_id:null}),V=i=>{var t,n;e.value.sortby=(t=i[0])==null?void 0:t.key,e.value.sortbydesc=(n=i[0])==null?void 0:n.order},P=m([]),f=m([]),d=m(0),p=m(!1),h=[{key:"jurusan",title:"Program/Kompetensi Keahlian",sortable:!1},{key:"kode",title:"Kode Paket",sortable:!1,align:"center"},{key:"nama",title:"Nama Paket",sortable:!1},{key:"guru_internal",title:"Penguji Internal",sortable:!1},{key:"guru_eksternal",title:"Instruktur",sortable:!1},{key:"pd_count",title:"Jumlah PD",sortable:!1,align:"center"}];q(async()=>{await k()}),y(e,async()=>{await k()},{deep:!0}),y(()=>e.value.searchQuery,()=>{e.value.page=1});const s=m({user_id:_.user_id,guru_id:_.guru_id,sekolah_id:_.sekolah_id,semester_id:v.semester_id,periode_aktif:v.nama,data:"nilai-ukk"}),k=async()=>{p.value=!0;try{let t=(await A(K("/monitoring",{query:{user_id:s.value.user_id,guru_id:s.value.guru_id,sekolah_id:s.value.sekolah_id,semester_id:s.value.semester_id,periode_aktif:s.value.nama,data:s.value.data,q:e.value.searchQuery,page:e.value.page,per_page:e.value.itemsPerPage,sortby:e.value.sortby,sortbydesc:e.value.sortbydesc,rombongan_belajar_id:e.value.rombongan_belajar_id}}))).data.value;f.value=t.data,d.value=t.total}catch(i){console.error(i)}finally{p.value=!1}};return(i,t)=>{const n=$,j=U,C=T,b=x,D=w;return E(),M(Q,{class:"mb-6"},{default:l(()=>[r(B,{class:"pb-4"},{default:l(()=>[r(S,null,{default:l(()=>t[4]||(t[4]=[u("Monitoring Â» Penilaian UKK")])),_:1})]),_:1}),r(I),r(F,null,{default:l(()=>[r(N,null,{default:l(()=>[r(g,{cols:"12",md:"4"},{default:l(()=>[r(n,{modelValue:o(e).itemsPerPage,"onUpdate:modelValue":t[0]||(t[0]=a=>o(e).itemsPerPage=a),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"}]},null,8,["modelValue"])]),_:1}),r(g,{cols:"12",md:"4"},{default:l(()=>[r(j,{modelValue:o(e).rombongan_belajar_id,"onUpdate:modelValue":t[1]||(t[1]=a=>o(e).rombongan_belajar_id=a),items:o(P),placeholder:"== Filter Rombel ==","item-value":"rombongan_belajar_id","item-title":"nama"},null,8,["modelValue","items"])]),_:1}),r(g,{cols:"12",md:"4"},{default:l(()=>[r(C,{modelValue:o(e).searchQuery,"onUpdate:modelValue":t[2]||(t[2]=a=>o(e).searchQuery=a),placeholder:"Cari Data"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(R,{items:o(f),"server-items-length":o(d),headers:h,options:o(e),loading:o(p),"loading-text":"Loading...","onUpdate:sortBy":V},{"item.jurusan":l(({item:a})=>[u(c(a.paket_ukk.jurusan.nama_jurusan),1)]),"item.kode":l(({item:a})=>[u(c(a.paket_ukk.nomor_paket),1)]),"item.nama":l(({item:a})=>[u(c(a.paket_ukk.nama_paket_id),1)]),"item.guru_internal":l(({item:a})=>[r(b,{item:a.guru_internal},null,8,["item"])]),"item.guru_eksternal":l(({item:a})=>[r(b,{item:a.guru_eksternal},null,8,["item"])]),bottom:l(()=>[r(D,{page:o(e).page,"onUpdate:page":t[3]||(t[3]=a=>o(e).page=a),"items-per-page":o(e).itemsPerPage,"total-items":o(d)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items","server-items-length","options","loading"])]),_:1})}}};export{Pe as default};
