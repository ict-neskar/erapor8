import{u as $,c as z}from"./createUrl-8zoAcX36.js";import{V as F,a as G,c as S,b as k}from"./VCard-CswHtBsG.js";import{V as B}from"./VDivider-DBczu0Ow.js";import{V as W,a as q,b as D,c as E}from"./VTabs-C-cnEJlL.js";import{G as R,r as i,c as m,b as t,e as l,o,t as h,m as s,a2 as x,F as N,h as M,f as v,am as P,d as n,an as j,aa as A,y as J,$ as K,v as V}from"./main-4ibPTuoX.js";import{V as O}from"./VTable-CFJBDt5I.js";import"./index-BxkgbwWS.js";import"./VAvatar-DuOErqu_.js";import"./VImg-B9UUOYt7.js";import"./forwardRefs-DWGaNmQL.js";import"./scopeId-DgdHYkHx.js";import"./ssrBoot-CGBhTCaE.js";import"./VSlideGroup-DECG9arN.js";const Q=["innerHTML"],X={key:0,class:"text-center"},Y={class:"text-center"},Z={class:"py-2"},ee=["innerHTML"],ae={class:"text-center"},te={key:1},Ve={__name:"changelog",setup(le){R(async()=>{await b()});const r=i("changelog"),p=i(!1),_=i(),g=i([]),u=i({page:1,perPage:10}),b=async()=>{var d,e,a,f;p.value=!0;try{let c=(await $(z(`/setting/${r.value}`,{query:{page:u.value.page,per_page:u.value.perPage}}))).data.value;r.value=="changelog"?_.value=c.data:(g.value=c==null?void 0:c.data,c.headers.length&&(T.value=!((e=(d=c.headers)==null?void 0:d.Link[0])!=null&&e.includes("first")),C.value=!((f=(a=c.headers)==null?void 0:a.Link[0])!=null&&f.includes("last"))))}catch(L){console.error(L)}finally{p.value=!1}},H=async()=>{await b()},I=[{name:"changelog",icon:"tabler-brand-google-play",title:"Aplikasi"},{name:"github",icon:"tabler-brand-github",title:"Github"}],U=d=>d.replace(/\n/g,"<br />"),y=i("next"),T=i(!0),C=i(!1),w=async d=>{d=="next"?u.value.page=u.value.page+1:u.value.page=u.value.page-1,await b()};return(d,e)=>(o(),m("div",null,[t(F,null,{default:l(()=>[t(G,{class:"pb-4"},{default:l(()=>[t(S,null,{default:l(()=>e[5]||(e[5]=[h("Daftar Perubahan Aplikasi")])),_:1})]),_:1}),t(B),t(W,{modelValue:s(r),"onUpdate:modelValue":[e[0]||(e[0]=a=>x(r)?r.value=a:null),H],grow:"",stacked:""},{default:l(()=>[(o(),m(N,null,M(I,a=>t(E,{key:a.name,value:a.name},{default:l(()=>[t(K,{icon:a.icon,class:"mb-2"},null,8,["icon"]),n("span",null,V(a.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),t(q,{modelValue:s(r),"onUpdate:modelValue":e[4]||(e[4]=a=>x(r)?r.value=a:null)},{default:l(()=>[t(D,{value:"changelog"},{default:l(()=>[s(p)?(o(),v(k,{key:0,class:"text-center"},{default:l(()=>[t(P,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})):(o(),v(k,{key:1},{default:l(()=>[n("span",{innerHTML:s(_)},null,8,Q)]),_:1}))]),_:1}),t(D,{value:"github"},{default:l(()=>[s(p)?(o(),m("div",X,[t(P,{size:60,indeterminate:"",color:"error",class:"my-10"})])):(o(),v(O,{key:1},{default:l(()=>[e[7]||(e[7]=n("thead",null,[n("tr",null,[n("th",{class:"text-center"},"No"),n("th",null,"Date"),n("th",null,"Commit"),n("th",{class:"text-center"},"Author")])],-1)),n("tbody",null,[s(g).length?(o(!0),m(N,{key:0},M(s(g),(a,f)=>(o(),m("tr",null,[n("td",Y,V(f+1+10*s(u).page-10),1),n("td",null,V(new Date(a.commit.author.date).toLocaleString("id-ID",{hour12:!1,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})),1),n("td",Z,[n("span",{innerHTML:U(a.commit.message)},null,8,ee)]),n("td",ae,V(a.commit.author.name),1)]))),256)):(o(),m("tr",te,e[6]||(e[6]=[n("td",{colspan:"4",class:"text-center"},"Tidak ada data untuk ditampilkan",-1)])))])]),_:1})),t(B),s(g).length?(o(),v(k,{key:2,class:"text-center"},{default:l(()=>[t(j,{modelValue:s(y),"onUpdate:modelValue":e[3]||(e[3]=a=>x(y)?y.value=a:null),divided:"",class:"navigasi"},{default:l(()=>[t(A,{value:"prev",disabled:s(T),onClick:e[1]||(e[1]=a=>w("prev"))},{default:l(()=>e[8]||(e[8]=[h(" « prev ")])),_:1},8,["disabled"]),t(A,{value:"next",disabled:s(C),onClick:e[2]||(e[2]=a=>w("next"))},{default:l(()=>e[9]||(e[9]=[h(" next » ")])),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1})):J("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}};export{Ve as default};
