import{r as me}from"./validators-BHkKs9Dp.js";import{r as b,G as ne,w as j,o as S,c as K,b as o,e as u,d as B,m as r,t as $,v as F,f as R,aa as z,$ as Q,q as E,an as je,a2 as I,a3 as q,ar as be,cl as ze,a6 as H,be as Ye,Y as P,a7 as G,F as N,cm as ye,a4 as he,a5 as _e,aG as Le,aI as Xe,aY as qe,bj as He,c2 as Ge,aU as te,O as Ke,J as Ve,aW as Fe,Q as we,ae as xe,c5 as Oe,c6 as Qe,K as Ne,aX as ae,ap as Je,aD as Ze,aL as et,aS as tt,Z as U,bh as at,cn as ot,am as ve,ao as lt,h as st}from"./main-BLua-Hcg.js";import{_ as Te}from"./AlertDialog-N8FQLZ0J.js";import{_ as ie}from"./AppTextField-BKZKkx6u.js";import{_ as Se}from"./AppSelect-DUbA14E0.js";import{u as re,c as ue}from"./createUrl-DGqWtwj4.js";import{d as O,a as L,$ as oe}from"./mixins-DrrH0Fyo.js";import{b as X,V as J}from"./VCard-C9hi6mjk.js";import{V as Ce}from"./VSpacer-Dj43k9d-.js";import{V as Pe}from"./VDivider-HmDD39Wz.js";import{V as Be}from"./VDataTableServer-DUm-lMBM.js";import{V as fe,m as nt,a as ge}from"./VChip-BrDdQYGD.js";import{$ as le}from"./api-BUKC6v0J.js";import{V as pe}from"./VTooltip-BeoAATNs.js";import{V as it}from"./VDialog-C-WyAZXd.js";import{V as ke}from"./VAlert-BKrUh_TZ.js";import{V as ee,a as W}from"./VRow-DfcmxFBv.js";import{c as rt,d as ut,u as dt,b as ct}from"./VOverlay-DLkk1BCg.js";import{V as mt}from"./VForm-CH3mNK77.js";import{f as vt,a as ft,s as gt}from"./forwardRefs-DWGaNmQL.js";import{d as pt}from"./VList-BJMDW3PL.js";import{M as kt}from"./VImg-DwvF1z1X.js";import"./VLabel-SCoY3Kbe.js";import"./VMenu-DzbcMjTl.js";import"./VSelectionControl-7bPQOZnl.js";import"./VAvatar-zoFn7cuv.js";import"./index-BxkgbwWS.js";/* empty css              */import"./VTable-rYr8aSBv.js";const bt={class:"d-flex gap-2 align-center"},yt={class:"d-flex align-center flex-wrap gap-4"},ht={__name:"MatevRapor",props:{isTabActive:{type:String,required:!0}},setup(e){const a=e,l=[{title:"Mata Pelajaran",key:"nm_mata_evaluasi",sortable:!0},{title:"Guru Mapel",key:"guru",sortable:!1},{title:"Nomor Urut",key:"no_urut",align:"center",sortable:!1},{title:"status",key:"status",align:"center",sortable:!1}],t=b({page:1,itemsPerPage:10,searchQuery:"",selectedRole:null,sortby:"mata_pelajaran_id",sortbydesc:"ASC"}),d=b(!1),m=b([]),i=b(0),k=h=>{var g,w;t.value.sortby=(g=h[0])==null?void 0:g.key,t.value.sortbydesc=(w=h[0])==null?void 0:w.order},y=async()=>{d.value=!0;try{let g=(await re(ue("/sinkronisasi/get-matev-rapor",{query:{sekolah_id:O.sekolah_id,semester_id:L.semester_id,q:t.value.searchQuery,page:t.value.page,per_page:t.value.itemsPerPage,sortby:t.value.sortby,sortbydesc:t.value.sortbydesc}}))).data.value;m.value=g.data.data,i.value=g.data.total}catch(h){console.error(h)}finally{d.value=!1}};return ne(async()=>{a.isTabActive=="Mata Evaluasi Rapor"&&await y()}),j(t,async()=>{await y()},{deep:!0}),j(()=>t.value.searchQuery,()=>{t.value.page=1}),j(a,async()=>{a.isTabActive=="Mata Evaluasi Rapor"&&await y()}),(h,g)=>{const w=Se,v=ie;return S(),K("div",null,[o(J,null,{default:u(()=>[o(X,{class:"d-flex flex-wrap gap-4"},{default:u(()=>[B("div",bt,[o(w,{modelValue:r(t).itemsPerPage,"onUpdate:modelValue":g[0]||(g[0]=c=>r(t).itemsPerPage=c),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"}],style:{"inline-size":"15.5rem"}},null,8,["modelValue"])]),o(Ce),B("div",yt,[o(v,{modelValue:r(t).searchQuery,"onUpdate:modelValue":g[1]||(g[1]=c=>r(t).searchQuery=c),placeholder:"Cari data",style:{"inline-size":"15.625rem"}},null,8,["modelValue"])])]),_:1}),o(Pe),o(Be,{page:r(t).page,"onUpdate:page":g[2]||(g[2]=c=>r(t).page=c),"items-per-page":r(t).itemsPerPage,"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:100,title:"100"}],items:r(m),"server-items-length":r(i),"items-length":r(i),headers:l,"items-per-page-text":"Item",class:"text-no-wrap",options:r(t),loading:r(d),"loading-text":"Loading...","onUpdate:sortBy":k},{"item.guru":u(({item:c})=>[$(F(c.pembelajaran.guru.nama_lengkap),1)]),"item.status":u(({item:c})=>[c.status?(S(),R(fe,{key:0,size:"small",color:"success"},{default:u(()=>g[3]||(g[3]=[$(" Terkirim ")])),_:1})):(S(),R(fe,{key:1,size:"small",color:"error"},{default:u(()=>g[4]||(g[4]=[$(" Belum Terkirim ")])),_:1}))]),_:1},8,["page","items-per-page","items","server-items-length","items-length","options","loading"])]),_:1})])}}},_t={class:"d-flex gap-2 align-center"},Vt={class:"d-flex align-center flex-wrap gap-4"},wt={__name:"RombonganBelajar",props:{isTabActive:{type:String,required:!0},urlDapodik:{type:String,default:""},tokenDapodik:{type:String,default:""}},setup(e){const a=e,l=[{title:"Kelas",key:"nama",sortable:!0},{title:"Wali Kelas",key:"wali_kelas",sortable:!1},{title:"Mata Evaluasi",key:"matev",align:"center",sortable:!1},{title:"Mata Evaluasi Terkirim",key:"matev_terkirim",align:"center",sortable:!1},{title:"Generate Matev",key:"generate_matev",align:"center",sortable:!1},{title:"Kirim Nilai",key:"nilai",align:"center",sortable:!1}],t=b({page:1,itemsPerPage:10,searchQuery:"",selectedRole:null,sortby:"nama",sortbydesc:"ASC"}),d=b(!1),m=b([]),i=b(0),k=b(),y=b(),h=s=>{var n,p;t.value.sortby=(n=s[0])==null?void 0:n.key,t.value.sortbydesc=(p=s[0])==null?void 0:p.order},g=async()=>{d.value=!0;try{let n=(await re(ue("/sinkronisasi/rombongan-belajar",{query:{sekolah_id:O.sekolah_id,semester_id:L.semester_id,q:t.value.searchQuery,page:t.value.page,per_page:t.value.itemsPerPage,sortby:t.value.sortby,sortbydesc:t.value.sortbydesc}}))).data.value;m.value=n.data.data,i.value=n.data.total,k.value=n.url_dapodik,y.value=n.token_dapodik}catch(s){console.error(s)}finally{d.value=!1}},w=b(!1),v=b(!1),c=b({color:"",title:"",text:""});b();const V=(s,n)=>{v.value=!0,D(s,n)},T=(s,n)=>{v.value=!0,A(s,n)},D=async(s,n)=>{await le("/sinkronisasi/matev-rapor",{method:"POST",body:{rombongan_belajar_id:s,nama_kelas:n},onResponse({request:p,response:f,options:C}){let _=f._data;c.value=_,v.value=!1,w.value=!0}})},A=async(s,n)=>{await le("/sinkronisasi/kirim-nilai",{method:"POST",body:{rombongan_belajar_id:s,nama_kelas:n,npsn:oe.npsn,semester_id:L.semester_id,url_dapodik:a.urlDapodik,token_dapodik:a.tokenDapodik},onResponse({request:p,response:f,options:C}){let _=f._data;c.value=_,v.value=!1,w.value=!0}})},x=async()=>{await g()};return ne(async()=>{a.isTabActive=="Rombongan Belajar"&&await g()}),j(t,async()=>{await g()},{deep:!0}),j(()=>t.value.searchQuery,()=>{t.value.page=1}),j(a,async()=>{a.isTabActive=="Rombongan Belajar"&&await g()},{deep:!0}),(s,n)=>{const p=Se,f=ie,C=Te;return S(),K("div",null,[o(X,{class:"d-flex flex-wrap gap-4"},{default:u(()=>[B("div",_t,[o(p,{modelValue:r(t).itemsPerPage,"onUpdate:modelValue":n[0]||(n[0]=_=>r(t).itemsPerPage=_),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"}],style:{"inline-size":"15.5rem"}},null,8,["modelValue"])]),o(Ce),B("div",Vt,[o(f,{modelValue:r(t).searchQuery,"onUpdate:modelValue":n[1]||(n[1]=_=>r(t).searchQuery=_),placeholder:"Cari data",style:{"inline-size":"15.625rem"}},null,8,["modelValue"])])]),_:1}),o(Pe),o(Be,{page:r(t).page,"onUpdate:page":n[2]||(n[2]=_=>r(t).page=_),"items-per-page":r(t).itemsPerPage,"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:100,title:"100"}],items:r(m),"server-items-length":r(i),"items-length":r(i),headers:l,"items-per-page-text":"Item",class:"text-no-wrap",options:r(t),loading:r(d),"loading-text":"Loading...","onUpdate:sortBy":h},{"item.wali_kelas":u(({item:_})=>[$(F(_.wali_kelas.nama_lengkap),1)]),"item.generate_matev":u(({item:_})=>[_.pembelajaran_count?(S(),R(z,{key:0,color:"warning",size:"small",onClick:M=>V(_.rombongan_belajar_id,_.nama)},{default:u(()=>[o(Q,{start:"",icon:"tabler-bolt"}),n[5]||(n[5]=$("Generate "))]),_:2},1032,["onClick"])):(S(),R(pe,{key:1,location:"top"},{activator:u(({props:M})=>[o(Q,E(M,{size:"30",icon:"tabler-help"}),null,16)]),default:u(()=>[B("span",null,"Kelas "+F(_.nama)+" belum memiliki Pembelajaran termapping!",1)]),_:2},1024))]),"item.nilai":u(({item:_})=>[_.matev?(S(),R(z,{key:0,color:"primary",size:"small",onClick:M=>T(_.rombongan_belajar_id,_.nama)},{default:u(()=>[o(Q,{start:"",icon:"tabler-database"}),n[6]||(n[6]=$("Kirim Data "))]),_:2},1032,["onClick"])):(S(),R(pe,{key:1,location:"top"},{activator:u(({props:M})=>[o(Q,E(M,{size:"30",icon:"tabler-help"}),null,16)]),default:u(()=>[B("span",null,"Kelas "+F(_.nama)+" belum memiliki Mata Evaluasi!",1)]),_:2},1024))]),_:1},8,["page","items-per-page","items","server-items-length","items-length","options","loading"]),o(it,{modelValue:r(v),"onUpdate:modelValue":n[3]||(n[3]=_=>I(v)?v.value=_:null),width:"300",persistent:""},{default:u(()=>[o(J,{color:"primary",width:"300"},{default:u(()=>[o(X,{class:"pt-3"},{default:u(()=>[n[7]||(n[7]=$(" Mohon menunggu... ")),o(je,{indeterminate:"","bg-color":"rgba(var(--v-theme-surface), 0.1)",height:8,class:"mb-0 mt-4"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(C,{isDialogVisible:r(w),"onUpdate:isDialogVisible":n[4]||(n[4]=_=>I(w)?w.value=_:null),"confirm-color":r(c).color,"confirm-title":r(c).title,"confirm-msg":r(c).text,onConfirm:x},null,8,["isDialogVisible","confirm-color","confirm-title","confirm-msg"])])}}},de=Symbol.for("vuetify:v-tabs"),xt=q({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...be(ze({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),De=H()({name:"VTab",props:xt(),setup(e,a){let{slots:l,attrs:t}=a;const{textColorClasses:d,textColorStyles:m}=Ye(e,"sliderColor"),i=b(),k=b(),y=P(()=>e.direction==="horizontal"),h=P(()=>{var w,v;return((v=(w=i.value)==null?void 0:w.group)==null?void 0:v.isSelected.value)??!1});function g(w){var c,V;let{value:v}=w;if(v){const T=(V=(c=i.value)==null?void 0:c.$el.parentElement)==null?void 0:V.querySelector(".v-tab--selected .v-tab__slider"),D=k.value;if(!T||!D)return;const A=getComputedStyle(T).color,x=T.getBoundingClientRect(),s=D.getBoundingClientRect(),n=y.value?"x":"y",p=y.value?"X":"Y",f=y.value?"right":"bottom",C=y.value?"width":"height",_=x[n],M=s[n],Y=_>M?x[f]-s[f]:x[n]-s[n],Me=Math.sign(Y)>0?y.value?"right":"bottom":Math.sign(Y)<0?y.value?"left":"top":"center",Ue=(Math.abs(Y)+(Math.sign(Y)<0?x[C]:s[C]))/Math.max(x[C],s[C])||0,We=x[C]/s[C]||0,ce=1.5;ft(D,{backgroundColor:[A,"currentcolor"],transform:[`translate${p}(${Y}px) scale${p}(${We})`,`translate${p}(${Y/ce}px) scale${p}(${(Ue-1)/ce+1})`,"none"],transformOrigin:Array(3).fill(Me)},{duration:225,easing:gt})}}return G(()=>{const w=z.filterProps(e);return o(z,E({symbol:de,ref:i,class:["v-tab",e.class],style:e.style,tabindex:h.value?0:-1,role:"tab","aria-selected":String(h.value),active:!1},w,t,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":g}),{...l,default:()=>{var v;return o(N,null,[((v=l.default)==null?void 0:v.call(l))??e.text,!e.hideSlider&&o("div",{ref:k,class:["v-tab__slider",d.value],style:m.value},null)])}})}),vt({},i)}}),Tt=e=>{const{touchstartX:a,touchendX:l,touchstartY:t,touchendY:d}=e,m=.5,i=16;e.offsetX=l-a,e.offsetY=d-t,Math.abs(e.offsetY)<m*Math.abs(e.offsetX)&&(e.left&&l<a-i&&e.left(e),e.right&&l>a+i&&e.right(e)),Math.abs(e.offsetX)<m*Math.abs(e.offsetY)&&(e.up&&d<t-i&&e.up(e),e.down&&d>t+i&&e.down(e))};function St(e,a){var t;const l=e.changedTouches[0];a.touchstartX=l.clientX,a.touchstartY=l.clientY,(t=a.start)==null||t.call(a,{originalEvent:e,...a})}function Ct(e,a){var t;const l=e.changedTouches[0];a.touchendX=l.clientX,a.touchendY=l.clientY,(t=a.end)==null||t.call(a,{originalEvent:e,...a}),Tt(a)}function Pt(e,a){var t;const l=e.changedTouches[0];a.touchmoveX=l.clientX,a.touchmoveY=l.clientY,(t=a.move)==null||t.call(a,{originalEvent:e,...a})}function Bt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:l=>St(l,a),touchend:l=>Ct(l,a),touchmove:l=>Pt(l,a)}}function Dt(e,a){var k;const l=a.value,t=l!=null&&l.parent?e.parentElement:e,d=(l==null?void 0:l.options)??{passive:!0},m=(k=a.instance)==null?void 0:k.$.uid;if(!t||!m)return;const i=Bt(a.value);t._touchHandlers=t._touchHandlers??Object.create(null),t._touchHandlers[m]=i,ye(i).forEach(y=>{t.addEventListener(y,i[y],d)})}function $t(e,a){var m,i;const l=(m=a.value)!=null&&m.parent?e.parentElement:e,t=(i=a.instance)==null?void 0:i.$.uid;if(!(l!=null&&l._touchHandlers)||!t)return;const d=l._touchHandlers[t];ye(d).forEach(k=>{l.removeEventListener(k,d[k])}),delete l._touchHandlers[t]}const $e={mounted:Dt,unmounted:$t},Re=Symbol.for("vuetify:v-window"),Ae=Symbol.for("vuetify:v-window-group"),Ie=q({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...he(),..._e(),...Le()},"VWindow"),se=H()({name:"VWindow",directives:{Touch:$e},props:Ie(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:l}=a;const{themeClasses:t}=Xe(e),{isRtl:d}=qe(),{t:m}=He(),i=Ge(e,Ae),k=b(),y=P(()=>d.value?!e.reverse:e.reverse),h=te(!1),g=P(()=>{const n=e.direction==="vertical"?"y":"x",f=(y.value?!h.value:h.value)?"-reverse":"";return`v-window-${n}${f}-transition`}),w=te(0),v=b(void 0),c=P(()=>i.items.value.findIndex(n=>i.selected.value.includes(n.id)));j(c,(n,p)=>{const f=i.items.value.length,C=f-1;f<=2?h.value=n<p:n===C&&p===0?h.value=!0:n===0&&p===C?h.value=!1:h.value=n<p}),Ke(Re,{transition:g,isReversed:h,transitionCount:w,transitionHeight:v,rootRef:k});const V=P(()=>e.continuous||c.value!==0),T=P(()=>e.continuous||c.value!==i.items.value.length-1);function D(){V.value&&i.prev()}function A(){T.value&&i.next()}const x=P(()=>{const n=[],p={icon:d.value?e.nextIcon:e.prevIcon,class:`v-window__${y.value?"right":"left"}`,onClick:i.prev,"aria-label":m("$vuetify.carousel.prev")};n.push(V.value?l.prev?l.prev({props:p}):o(z,p,null):o("div",null,null));const f={icon:d.value?e.prevIcon:e.nextIcon,class:`v-window__${y.value?"left":"right"}`,onClick:i.next,"aria-label":m("$vuetify.carousel.next")};return n.push(T.value?l.next?l.next({props:f}):o(z,f,null):o("div",null,null)),n}),s=P(()=>e.touch===!1?e.touch:{...{left:()=>{y.value?D():A()},right:()=>{y.value?A():D()},start:p=>{let{originalEvent:f}=p;f.stopPropagation()}},...e.touch===!0?{}:e.touch});return G(()=>Ve(o(e.tag,{ref:k,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},t.value,e.class],style:e.style},{default:()=>{var n,p;return[o("div",{class:"v-window__container",style:{height:v.value}},[(n=l.default)==null?void 0:n.call(l,{group:i}),e.showArrows!==!1&&o("div",{class:"v-window__controls"},[x.value])]),(p=l.additional)==null?void 0:p.call(l,{group:i})]}}),[[Fe("touch"),s.value]])),{group:i}}}),Rt=q({...be(Ie(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),At=H()({name:"VTabsWindow",props:Rt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:l}=a;const t=we(de,null),d=xe(e,"modelValue"),m=P({get(){var i;return d.value!=null||!t?d.value:(i=t.items.value.find(k=>t.selected.value.includes(k.id)))==null?void 0:i.value},set(i){d.value=i}});return G(()=>{const i=se.filterProps(e);return o(se,E({_as:"VTabsWindow"},i,{modelValue:m.value,"onUpdate:modelValue":k=>m.value=k,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),l)}),{}}}),Ee=q({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...he(),...Oe(),...rt()},"VWindowItem"),Z=H()({name:"VWindowItem",directives:{Touch:$e},props:Ee(),emits:{"group:selected":e=>!0},setup(e,a){let{slots:l}=a;const t=we(Re),d=Qe(e,Ae),{isBooted:m}=pt();if(!t||!d)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const i=te(!1),k=P(()=>m.value&&(t.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function y(){!i.value||!t||(i.value=!1,t.transitionCount.value>0&&(t.transitionCount.value-=1,t.transitionCount.value===0&&(t.transitionHeight.value=void 0)))}function h(){var V;i.value||!t||(i.value=!0,t.transitionCount.value===0&&(t.transitionHeight.value=ae((V=t.rootRef.value)==null?void 0:V.clientHeight)),t.transitionCount.value+=1)}function g(){y()}function w(V){i.value&&Je(()=>{!k.value||!i.value||!t||(t.transitionHeight.value=ae(V.clientHeight))})}const v=P(()=>{const V=t.isReversed.value?e.reverseTransition:e.transition;return k.value?{name:typeof V!="string"?t.transition.value:V,onBeforeEnter:h,onAfterEnter:y,onEnterCancelled:g,onBeforeLeave:h,onAfterLeave:y,onLeaveCancelled:g,onEnter:w}:!1}),{hasContent:c}=ut(e,d.isSelected);return G(()=>o(kt,{transition:v.value,disabled:!m.value},{default:()=>{var V;return[Ve(o("div",{class:["v-window-item",d.selectedClass.value,e.class],style:e.style},[c.value&&((V=l.default)==null?void 0:V.call(l))]),[[Ne,d.isSelected.value]])]}})),{groupItem:d}}}),It=q({...Ee()},"VTabsWindowItem"),Et=H()({name:"VTabsWindowItem",props:It(),setup(e,a){let{slots:l}=a;return G(()=>{const t=Z.filterProps(e);return o(Z,E({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),l)}),{}}});function Mt(e){return e?e.map(a=>ot(a)?a:{text:a,value:a}):[]}const Ut=q({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...nt({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Ze(),..._e()},"VTabs"),Wt=H()({name:"VTabs",props:Ut(),emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:l,slots:t}=a;const d=xe(e,"modelValue"),m=P(()=>Mt(e.items)),{densityClasses:i}=et(e),{backgroundColorClasses:k,backgroundColorStyles:y}=tt(U(e,"bgColor")),{scopeId:h}=dt();return at({VTab:{color:U(e,"color"),direction:U(e,"direction"),stacked:U(e,"stacked"),fixed:U(e,"fixedTabs"),sliderColor:U(e,"sliderColor"),hideSlider:U(e,"hideSlider")}}),G(()=>{const g=ge.filterProps(e),w=!!(t.window||e.items.length>0);return o(N,null,[o(ge,E(g,{modelValue:d.value,"onUpdate:modelValue":v=>d.value=v,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},i.value,k.value,e.class],style:[{"--v-tabs-height":ae(e.height)},y.value,e.style],role:"tablist",symbol:de},h,l),{default:()=>{var v;return[((v=t.default)==null?void 0:v.call(t))??m.value.map(c=>{var V;return((V=t.tab)==null?void 0:V.call(t,{item:c}))??o(De,E(c,{key:c.text,value:c.value}),{default:t[`tab.${c.value}`]?()=>{var T;return(T=t[`tab.${c.value}`])==null?void 0:T.call(t,{item:c})}:void 0})})]}}),w&&o(At,E({modelValue:d.value,"onUpdate:modelValue":v=>d.value=v,key:"tabs-window"},h),{default:()=>{var v;return[m.value.map(c=>{var V;return((V=t.item)==null?void 0:V.call(t,{item:c}))??o(Et,{value:c.value},{default:()=>{var T;return(T=t[`item.${c.value}`])==null?void 0:T.call(t,{item:c})}})}),(v=t.window)==null?void 0:v.call(t)]}})])}),{}}}),ga={__name:"kirim-nilai-dapodik",setup(e){const a=b("Rombongan Belajar"),l=["Rombongan Belajar","Mata Evaluasi Rapor"];ne(async()=>{await y()});const t=b(!0),d=b(!1),m=b({url_dapodik:null,token_dapodik:null}),i=b(),k=b(""),y=async()=>{t.value=!0;try{let s=(await re(ue("/sinkronisasi/nilai-dapodik",{query:{sekolah_id:O.sekolah_id,user_id:O.user_id,npsn:oe.npsn,semester_id:L.semester_id,periode_aktif:L.nama}}))).data.value;d.value=!!s.url_dapodik,d.value&&(k.value="Rombongan Belajar"),m.value.url_dapodik=s.url_dapodik,m.value.token_dapodik=s.token_dapodik,i.value=s.dapodik}catch(x){console.error(x)}finally{t.value=!1}};b(!1),b(""),b("");const h=b(!1),g=b({color:"",title:"",text:""}),w=x=>{k.value=x},v=b(!1),c=b(),V=()=>{var x;(x=c.value)==null||x.validate().then(({valid:s})=>{s&&D()})},T=b({url_dapodik:void 0,token_dapodik:void 0}),D=async()=>{console.log("cekKoneksi"),v.value=!0,await le("/sinkronisasi/cek-koneksi",{method:"POST",body:{sekolah_id:O.sekolah_id,semester_id:L.semester_id,url_dapodik:m.value.url_dapodik,token_dapodik:m.value.token_dapodik,npsn:oe.npsn},onResponse({request:x,response:s,options:n}){let p=s._data;console.log(p),v.value=!1,p.errors?T.value=p.errors:(T.value={url_dapodik:void 0,token_dapodik:void 0},g.value={color:p.color,title:p.title,text:p.text},h.value=!0)}})},A=()=>{v.value=!1,y()};return(x,s)=>{const n=ie,p=Te;return S(),K("div",null,[r(t)?(S(),R(J,{key:0,title:"Kirim Nilai ke Dapodik"},{default:u(()=>[o(X,{class:"text-center"},{default:u(()=>[o(ve,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(S(),R(J,{key:1,title:"Kirim Nilai ke Dapodik"},{default:u(()=>[r(d)?(S(),K(N,{key:1},[o(X,{class:"mt-4"},{default:u(()=>[o(ke,{color:"warning"},{default:u(()=>s[12]||(s[12]=[B("h2",{class:"mt-4 mb-4 text-white"},"Informasi Penting",-1),B("p",null,"Prioritaskan pengiriman nilai semester pada tingkat akhir, nilai rapor 5 semester untuk siswa kelas 12 dan 7 semester untuk siswa kelas 13 ke Dapodik",-1)])),_:1})]),_:1}),o(Wt,{modelValue:r(a),"onUpdate:modelValue":[s[3]||(s[3]=f=>I(a)?a.value=f:null),w],grow:""},{default:u(()=>[(S(),K(N,null,st(l,f=>o(De,{key:f,value:f},{default:u(()=>[$(F(f),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),o(se,{modelValue:r(a),"onUpdate:modelValue":s[6]||(s[6]=f=>I(a)?a.value=f:null)},{default:u(()=>[o(Z,{value:"Rombongan Belajar"},{default:u(()=>[o(wt,{isTabActive:r(k),"onUpdate:isTabActive":s[4]||(s[4]=f=>I(k)?k.value=f:null),"url-dapodik":r(m).url_dapodik,"token-dapodik":r(m).token_dapodik},null,8,["isTabActive","url-dapodik","token-dapodik"])]),_:1}),o(Z,{value:"Mata Evaluasi Rapor"},{default:u(()=>[o(ht,{isTabActive:r(k),"onUpdate:isTabActive":s[5]||(s[5]=f=>I(k)?k.value=f:null)},null,8,["isTabActive"])]),_:1})]),_:1},8,["modelValue"])],64)):(S(),R(X,{key:0,class:"mt-4"},{default:u(()=>[o(ke,{color:"info",class:"mb-4"},{default:u(()=>s[8]||(s[8]=[B("h2",{class:"mt-4 mb-4 text-white"},"Pengaturan Web Services Dapodik",-1),B("p",null,"Untuk melakukan pengiriman nilai e-Rapor ke Dapodik, silahkan isi form dibawah ini:",-1)])),_:1}),o(mt,{ref_key:"refVForm",ref:c,onSubmit:lt(V,["prevent"])},{default:u(()=>[o(ee,null,{default:u(()=>[o(W,{cols:"12"},{default:u(()=>[o(ee,{"no-gutters":""},{default:u(()=>[o(W,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:u(()=>s[9]||(s[9]=[B("label",{class:"v-label text-body-2 text-high-emphasis",for:"url_dapodik"},"URL Dapodik",-1)])),_:1}),o(W,{cols:"12",md:"9"},{default:u(()=>[o(n,{id:"url_dapodik",modelValue:r(m).url_dapodik,"onUpdate:modelValue":s[0]||(s[0]=f=>r(m).url_dapodik=f),placeholder:"Contoh: http://localhost:5774 (tanpa garis miring di akhir!)","persistent-placeholder":"",rules:["requiredValidator"in x?x.requiredValidator:r(me)],"error-messages":r(T).url_dapodik},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1}),o(W,{cols:"12"},{default:u(()=>[o(ee,{"no-gutters":""},{default:u(()=>[o(W,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:u(()=>s[10]||(s[10]=[B("label",{class:"v-label text-body-2 text-high-emphasis",for:"token_dapodik"},"Token Dapodik",-1)])),_:1}),o(W,{cols:"12",md:"9"},{default:u(()=>[o(n,{id:"token_dapodik",modelValue:r(m).token_dapodik,"onUpdate:modelValue":s[1]||(s[1]=f=>r(m).token_dapodik=f),placeholder:"Token Dapodik","persistent-placeholder":"",rules:["requiredValidator"in x?x.requiredValidator:r(me)],"error-messages":r(T).token_dapodik},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1}),o(W,{"offset-md":"3",cols:"12",md:"9",class:"d-flex gap-4"},{default:u(()=>[o(z,{type:"submit"},{default:u(()=>s[11]||(s[11]=[$(" Cek Koneksi ")])),_:1})]),_:1}),o(ct,{modelValue:r(v),"onUpdate:modelValue":s[2]||(s[2]=f=>I(v)?v.value=f:null),contained:"",persistent:"","scroll-strategy":"none",class:"align-center justify-center"},{default:u(()=>[o(ve,{indeterminate:""})]),_:1},8,["modelValue"])]),_:1})]),_:1},512)]),_:1}))]),_:1})),o(p,{isDialogVisible:r(h),"onUpdate:isDialogVisible":s[7]||(s[7]=f=>I(h)?h.value=f:null),"confirm-color":r(g).color,"confirm-title":r(g).title,"confirm-msg":r(g).text,onConfirm:A},null,8,["isDialogVisible","confirm-color","confirm-title","confirm-msg"])])}}};export{ga as default};
