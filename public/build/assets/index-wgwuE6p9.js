import{_ as fe}from"./ConfirmDialog-bk0D98nm.js";import{u as be,c as _e}from"./createUrl-Dx8y2st0.js";import{a as H,d as se}from"./mixins-CKTOKEkb.js";import{$ as ae}from"./api-DV11byyd.js";import{_ as ke}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as B,V as L}from"./VRow-BwW1PfoV.js";import{V as $,b as G,a as ge,c as ye}from"./VCard-Av5KF9XZ.js";import{a3 as Ve,a6 as xe,ae as ie,af as he,r as o,ag as De,Y as re,ah as we,a7 as je,ai as Se,b as a,q as ue,F as R,aj as Ce,ak as Pe,$ as $e,al as Ae,am as F,G as pe,a as Ne,o as u,f as g,e as n,m as l,c as b,h as te,d as e,I as Te,v as m,t as le,a2 as z,a9 as Be,aa as Re,y as oe}from"./main-Ba5E192h.js";import{V as Me}from"./VAvatar-Cnp5qM21.js";import{V as E}from"./VDivider-xKTMVaVZ.js";import{V as ne}from"./VTable-WZOTEkgO.js";import{m as Ie,u as Ue,V as de}from"./VLabel-BtGXOH7p.js";import{m as Ke,V as me}from"./VSelectionControl-RkTZifSY.js";import{_ as ze}from"./DetilNilaiDialog-D0Eiun1D.js";import"./VDialog-CMVIV99-.js";import"./VOverlay-B8TKvbjl.js";import"./forwardRefs-DWGaNmQL.js";import"./scopeId-FMl0qGlW.js";import"./VImg-BD46ZmSh.js";import"./index-BxkgbwWS.js";/* empty css              */import"./AlertDialog-BdufrwgT.js";import"./DialogCloseBtn-0CqDtnvv.js";const qe=Ve({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ie(),...Ke()},"VSwitch"),ve=xe()({name:"VSwitch",inheritAttrs:!1,props:qe(),emits:{"update:focused":d=>!0,"update:modelValue":d=>!0,"update:indeterminate":d=>!0},setup(d,f){let{attrs:w,slots:c}=f;const _=ie(d,"indeterminate"),x=ie(d,"modelValue"),{loaderClasses:h}=he(d),{isFocused:v,focus:U,blur:j}=Ue(d),S=o(),y=De&&window.matchMedia("(forced-colors: active)").matches,A=re(()=>typeof d.loading=="string"&&d.loading!==""?d.loading:d.color),N=we(),M=re(()=>d.id||`switch-${N}`);function T(){_.value&&(_.value=!1)}function V(t){var k,C;t.stopPropagation(),t.preventDefault(),(C=(k=S.value)==null?void 0:k.input)==null||C.click()}return je(()=>{const[t,k]=Se(w),C=de.filterProps(d),r=me.filterProps(d);return a(de,ue({class:["v-switch",{"v-switch--flat":d.flat},{"v-switch--inset":d.inset},{"v-switch--indeterminate":_.value},h.value,d.class]},t,C,{modelValue:x.value,"onUpdate:modelValue":I=>x.value=I,id:M.value,focused:v.value,style:d.style}),{...c,default:I=>{let{id:q,messagesId:J,isDisabled:Y,isReadonly:Q,isValid:X}=I;const O={model:x,isValid:X};return a(me,ue({ref:S},r,{modelValue:x.value,"onUpdate:modelValue":[K=>x.value=K,T],id:q.value,"aria-describedby":J.value,type:"checkbox","aria-checked":_.value?"mixed":void 0,disabled:Y.value,readonly:Q.value,onFocus:U,onBlur:j},k),{...c,default:K=>{let{backgroundColorClasses:W,backgroundColorStyles:P}=K;return a("div",{class:["v-switch__track",y?void 0:W.value],style:P.value,onClick:V},[c["track-true"]&&a("div",{key:"prepend",class:"v-switch__track-true"},[c["track-true"](O)]),c["track-false"]&&a("div",{key:"append",class:"v-switch__track-false"},[c["track-false"](O)])])},input:K=>{let{inputNode:W,icon:P,backgroundColorClasses:p,backgroundColorStyles:i}=K;return a(R,null,[W,a("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":P||d.loading},d.inset||y?void 0:p.value],style:d.inset?void 0:i.value},[c.thumb?a(Ce,{defaults:{VIcon:{icon:P,size:"x-small"}}},{default:()=>[c.thumb({...O,icon:P})]}):a(Pe,null,{default:()=>[d.loading?a(Ae,{name:"v-switch",active:!0,color:X.value===!1?void 0:A.value},{default:D=>c.loader?c.loader(D):a(F,{active:D.isActive,color:D.color,indeterminate:!0,size:"16",width:"2"},null)}):P&&a($e,{key:String(P),icon:P,size:"x-small"},null)]})])])}})}})}),{}}}),Fe={class:"d-flex align-center gap-x-4 mb-1"},He={class:"text-h4"},Oe={class:"text-body-1 mb-1"},We=["href"],Ge={__name:"Administrator",setup(d){pe(async()=>{await A()});const f=o(!1),w=o([]),c=o(),_=o(),x=o([]),h=o(),v=o(!0),U=o(""),j=o(!1),S=o(!1),y=o({color:"",title:"",text:""}),A=async()=>{try{let t=(await be(_e("/dashboard",{query:{periode_aktif:H.nama,sekolah_id:se.sekolah_id,semester_id:H.semester_id}}))).data;f.value=t.value.app.status_penilaian,w.value=t.value.rekap,c.value=t.value.sekolah,_.value=t.value.app,x.value=t.value.helpdesk,h.value=t.value.text_wa}catch(V){console.error(V)}finally{v.value=!1}},N=V=>{V?U.value="Penilaian akan di aktifkan":U.value="Penilaian akan di nonaktifkan",j.value=!0},M=async V=>{V||(f.value=!f.value),await ae("/dashboard/status-penilaian",{method:"POST",body:{status:f.value,sekolah_id:se.sekolah_id,semester_id:H.semester_id},onResponse({request:t,response:k,options:C}){let r=k._data;S.value=!0,y.value=r}})},T=()=>{S.value=!1,setTimeout(()=>{y.value={color:"",title:"",text:""}},300),A()};return(V,t)=>{const k=Ne("font-awesome-icon"),C=fe;return u(),g(L,null,{default:n(()=>[a(B,{cols:"12"},{default:n(()=>[a(L,{class:"match-height"},{default:n(()=>[l(v)?(u(),b(R,{key:0},te(6,r=>a(B,{key:r,cols:"6",sm:"2"},{default:n(()=>[e("div",null,[a($,{class:"text-center"},{default:n(()=>[a(F,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})])]),_:2},1024)),64)):(u(!0),b(R,{key:1},te(l(w),(r,I)=>(u(),g(B,{key:I,cols:"6",sm:"2"},{default:n(()=>[e("div",null,[a($,{class:"logistics-card-statistics cursor-pointer",style:Te(r.isHover?`border-block-end-color: rgb(var(--v-theme-${r.color}))`:`border-block-end-color: rgba(var(--v-theme-${r.variant}),0.38)`),onMouseenter:q=>r.isHover=!0,onMouseleave:q=>r.isHover=!1},{default:n(()=>[a(G,null,{default:n(()=>[e("div",Fe,[a(Me,{variant:"tonal",color:r.variant,rounded:""},{default:n(()=>[a(k,{icon:["fas",r.icon],size:"lg"},null,8,["icon"])]),_:2},1032,["color"]),e("h4",He,m(r.jml),1)]),e("div",Oe,m(r.data),1)]),_:2},1024)]),_:2},1032,["style","onMouseenter","onMouseleave"])])]),_:2},1024))),128))]),_:1})]),_:1}),a(B,{cols:"12"},{default:n(()=>[a(L,null,{default:n(()=>[a(B,{cols:"7",md:"7",sm:"12"},{default:n(()=>[l(v)?(u(),g($,{key:0,title:"Data Sekolah"},{default:n(()=>[a(G,{class:"text-center"},{default:n(()=>[a(F,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(u(),g($,{key:1,title:"Data Sekolah",class:"mb-10"},{default:n(()=>[a(E),a(ne,{class:"text-no-wrap"},{default:n(()=>{var r;return[e("tbody",null,[e("tr",null,[t[3]||(t[3]=e("td",null,"Nama Sekolah",-1)),e("td",null,m(l(c).nama),1)]),e("tr",null,[t[4]||(t[4]=e("td",null,"NPSN",-1)),e("td",null,m(l(c).npsn),1)]),e("tr",null,[t[5]||(t[5]=e("td",null,"Alamat",-1)),e("td",null,m(l(c).alamat),1)]),e("tr",null,[t[6]||(t[6]=e("td",null,"Kodepos",-1)),e("td",null,m(l(c).kode_pos),1)]),e("tr",null,[t[7]||(t[7]=e("td",null,"Desa/Kelurahan",-1)),e("td",null,m(l(c).desa_kelurahan),1)]),e("tr",null,[t[8]||(t[8]=e("td",null,"Kecamatan",-1)),e("td",null,m(l(c).kecamatan),1)]),e("tr",null,[t[9]||(t[9]=e("td",null,"Kabupaten/Kota",-1)),e("td",null,m(l(c).kabupaten),1)]),e("tr",null,[t[10]||(t[10]=e("td",null,"Provinsi",-1)),e("td",null,m(l(c).provinsi),1)]),e("tr",null,[t[11]||(t[11]=e("td",null,"Email",-1)),e("td",null,m(l(c).email),1)]),e("tr",null,[t[12]||(t[12]=e("td",null,"Website",-1)),e("td",null,m(l(c).website),1)]),e("tr",null,[t[13]||(t[13]=e("td",null,"Kepala Sekolah",-1)),e("td",null,m((r=l(c).kepala_sekolah)==null?void 0:r.nama_lengkap),1)])])]}),_:1}),a(E),a(G,null,{default:n(()=>t[14]||(t[14]=[le(" Aplikasi e-Rapor SMK ini dibuat dan dikembangkan oleh Direktorat Sekolah Menengah Kejuruan Kementerian Pendidikan Dasar dan Menengah Republik Indonesia ")])),_:1})]),_:1}))]),_:1}),a(B,{cols:"5",md:"5",sm:"12"},{default:n(()=>[l(v)?(u(),g($,{key:0,title:"Informasi Aplikasi"},{default:n(()=>[a(G,{class:"text-center"},{default:n(()=>[a(F,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(u(),g($,{key:1,title:"Informasi Aplikasi",class:"pb-2"},{default:n(()=>[a(E),a(ne,{density:"compact",class:"text-no-wrap"},{default:n(()=>[e("tbody",null,[e("tr",null,[t[15]||(t[15]=e("td",null,"Nama Aplikasi",-1)),e("td",null,m(l(_).app_name),1)]),e("tr",null,[t[16]||(t[16]=e("td",null,"Versi Aplikasi",-1)),e("td",null,m(l(_).app_version),1)]),e("tr",null,[t[17]||(t[17]=e("td",null,"Versi Database",-1)),e("td",null,m(l(_).db_version),1)]),e("tr",null,[t[18]||(t[18]=e("td",null,"Status Penilaian",-1)),e("td",null,[a(ve,{modelValue:l(f),"onUpdate:modelValue":[t[0]||(t[0]=r=>z(f)?f.value=r:null),N],label:`${l(f)?"Aktif":"Non Aktif"}`},null,8,["modelValue","label"])])])])]),_:1})]),_:1})),l(v)?(u(),g($,{key:2,class:"mt-4",title:"Helpdesk e-Rapor SMK"},{default:n(()=>[a(G,{class:"text-center"},{default:n(()=>[a(F,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(u(),g($,{key:3,title:"Helpdesk e-Rapor SMK",class:"mt-4 pb-2"},{default:n(()=>[a(E),a(ne,{density:"compact",class:"text-no-wrap"},{default:n(()=>[e("thead",null,[e("tr",null,[t[19]||(t[19]=e("th",null,"Nama",-1)),t[20]||(t[20]=e("th",null,"Instansi",-1)),e("th",null,[a(k,{icon:["fab","whatsapp"]})])])]),e("tbody",null,[(u(!0),b(R,null,te(l(x),r=>(u(),b("tr",{key:r.hp},[e("td",null,m(r.nama),1),e("td",null,m(r.instansi),1),e("td",null,[e("a",{target:"_blank",href:`https://wa.me/${r.hp}/?text=${l(h)}`},[a(k,{icon:["fab","whatsapp"]})],8,We)])]))),128))])]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1}),a(C,{isDialogVisible:l(j),"onUpdate:isDialogVisible":t[1]||(t[1]=r=>z(j)?j.value=r:null),isNotifVisible:l(S),"onUpdate:isNotifVisible":t[2]||(t[2]=r=>z(S)?S.value=r:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":l(U),"confirm-color":l(y).color,"confirm-title":l(y).title,"confirm-msg":l(y).text,onConfirm:M,onClose:T},null,8,["isDialogVisible","isNotifVisible","confirmation-text","confirm-color","confirm-title","confirm-msg"])]),_:1})}}},Ee=ke(Ge,[["__scopeId","data-v-5c281c1d"]]),Le={class:"d-flex align-center text-disabled text-subtitle-2"},Je={key:0,class:"text-center"},Ye={class:"text-center"},Qe={key:0},Xe={class:"text-center"},Ze={class:"text-center"},ea={class:"text-center"},aa={class:"text-center"},ta={class:"text-center"},la={class:"text-center"},na={key:1},ce={__name:"CardPembelajaran",props:{cardTitle:{type:String,required:!1},cardSubTitle:{type:Boolean,default:!1},cardUrl:{type:String,required:!0}},setup(d){const f=d,w=o(f.cardTitle);pe(async()=>{await V()});const c=o(!0),_=o(!1),x=o(""),h=o(),v=o(!1),U=o(),j=o([]),S=o([]),y=o(""),A=o(!1),N=o(!1),M=o([]),T=o({color:"",title:"",text:""}),V=async()=>{try{const p=await ae(f.cardUrl,{method:"POST",body:{guru_id:se.guru_id,periode_aktif:H.nama,sekolah_id:se.sekolah_id,semester_id:H.semester_id},onResponse({request:i,response:D,options:Z}){var ee;let s=D._data;h.value=s.rombel,w.value=w.value??`Anda adalah Wali Kelas Rombongan Belajar ${h.value.nama}`,v.value=!((ee=h.value)!=null&&ee.kunci_nilai),U.value=s.rombel_pilihan,j.value=s.pembelajaran,S.value=s.pembelajaran_pilihan}})}catch(p){console.error(p)}finally{c.value=!1}},t=o(),k=o(),C=o([]),r=o(!1),I=o(!1),q=o({}),J=async p=>{M.value[p.pembelajaran_id]=!0,await ae("/dashboard/detil-penilaian",{method:"POST",body:{pembelajaran_id:p.pembelajaran_id,rombongan_belajar_id:p.rombongan_belajar_id},onResponse({request:i,response:D,options:Z}){let s=D._data;M.value[p.pembelajaran_id]=!1,_.value=!0,q.value=s.pembelajaran,x.value=`Detil Penilaian Mata Pelajaran ${s.pembelajaran.nama_mata_pelajaran}`,t.value=s.pembelajaran.induk,s.pembelajaran.mata_pelajaran_id==800001e3?k.value=1:k.value=s.pembelajaran.tema_count,C.value=s.data_siswa,r.value=s.merdeka,I.value=s.is_ppa}})},Y=o(),Q=o(),X=async p=>{Y.value=p.pembelajaran_id,Q.value=p.rombongan_belajar_id,J({pembelajaran_id:p.pembelajaran_id,rombongan_belajar_id:p.rombongan_belajar_id})},O=p=>{p?y.value="Penilaian akan di aktifkan":y.value="Penilaian akan di nonaktifkan",A.value=!0},K=async p=>{p||(v.value=!v.value),await ae("/dashboard/status-penilaian",{method:"POST",body:{status:v.value,rombongan_belajar_id:h.value.rombongan_belajar_id},onResponse({request:i,response:D,options:Z}){let s=D._data;N.value=!0,T.value=s}})},W=()=>{N.value=!1,setTimeout(()=>{T.value={color:"",title:"",text:""}},300),V()},P=()=>{console.log("refreshNilai"),J({pembelajaran_id:Y.value,rombongan_belajar_id:Q.value})};return(p,i)=>{const D=ze,Z=fe;return u(),b("div",null,[a(L,null,{default:n(()=>[a(B,{cols:"12"},{default:n(()=>[l(c)?(u(),g($,{key:0,class:"text-center mb-10"},{default:n(()=>[a(F,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})):(u(),g($,{key:1},{default:n(()=>[a(ge,{class:"pb-4"},Be({default:n(()=>[a(ye,null,{default:n(()=>[le(m(l(w)),1)]),_:1})]),_:2},[d.cardSubTitle?{name:"append",fn:n(()=>[e("div",Le,[i[4]||(i[4]=le("Status Penilaian di Rombongan Belajar ini :     ")),a(ve,{modelValue:l(v),"onUpdate:modelValue":[i[0]||(i[0]=s=>z(v)?v.value=s:null),O],label:`${l(v)?"Aktif":"Non Aktif"}`},null,8,["modelValue","label"])])]),key:"0"}:void 0]),1024),a(E),a(ne,{class:"text-no-wrap"},{default:n(()=>[e("thead",null,[e("tr",null,[i[7]||(i[7]=e("th",{class:"text-center"},"No",-1)),i[8]||(i[8]=e("th",{class:"text-center"},"Mata Pelajaran",-1)),l(h)?(u(),b("th",Je,"Guru Mata Pelajaran")):(u(),b(R,{key:1},[i[5]||(i[5]=e("th",{class:"text-center"},"Rombel",-1)),i[6]||(i[6]=e("th",{class:"text-center"},"Wali Kelas",-1))],64)),i[9]||(i[9]=e("th",{class:"text-center"},"Jml PD",-1)),i[10]||(i[10]=e("th",{class:"text-center"},"Jml PD Dinilai",-1)),i[11]||(i[11]=e("th",{class:"text-center"},"Detil",-1))])]),e("tbody",null,[l(j).length?(u(!0),b(R,{key:0},te(l(j),(s,ee)=>(u(),b("tr",null,[e("td",Ye,m(ee+1),1),e("td",null,m(s.nama_mata_pelajaran),1),l(h)?(u(),b("td",Qe,m(s.guru),1)):(u(),b(R,{key:1},[e("td",Xe,m(s.rombel),1),e("td",null,m(s.wali_kelas),1)],64)),s.mata_pelajaran_id===800001e3?(u(),b(R,{key:2},[e("td",Ze,m(s.pd_pkl_count),1),e("td",ea,m(s.pd_pkl_dinilai),1)],64)):(u(),b(R,{key:3},[e("td",aa,m(s.pd),1),e("td",ta,m(s.pd_dinilai),1)],64)),e("td",la,[a(Re,{size:"x-small",color:"success",onClick:oa=>X(s),loading:l(M)[s.pembelajaran_id],disabled:l(M)[s.pembelajaran_id]},{default:n(()=>i[12]||(i[12]=[le(" Detil ")])),_:2},1032,["onClick","loading","disabled"])])]))),256)):(u(),b("tr",na,i[13]||(i[13]=[e("td",{colspan:"7",class:"text-center"},"Tidak ada data untuk ditampilkan",-1)])))])]),_:1})]),_:1}))]),_:1}),a(D,{isDialogVisible:l(_),"onUpdate:isDialogVisible":i[1]||(i[1]=s=>z(_)?_.value=s:null),"item-data":l(q),"title-detil-nilai":l(x),merdeka:l(r),"is-ppa":l(I),"data-siswa":l(C),"sub-mapel":l(k),onRefresh:P},null,8,["isDialogVisible","item-data","title-detil-nilai","merdeka","is-ppa","data-siswa","sub-mapel"]),a(Z,{isDialogVisible:l(A),"onUpdate:isDialogVisible":i[2]||(i[2]=s=>z(A)?A.value=s:null),isNotifVisible:l(N),"onUpdate:isNotifVisible":i[3]||(i[3]=s=>z(N)?N.value=s:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":l(y),"confirm-color":l(T).color,"confirm-title":l(T).title,"confirm-msg":l(T).text,onConfirm:K,onClose:W},null,8,["isDialogVisible","isNotifVisible","confirmation-text","confirm-color","confirm-title","confirm-msg"])]),_:1})])}}},sa={__name:"Guru",setup(d){return(f,w)=>(u(),b("div",null,[a(L,null,{default:n(()=>[a(B,{cols:"12"},{default:n(()=>[a(ce,{"card-title":`Mata Pelajaran yang diampu di Tahun Pelajaran ${("$semester"in f?f.$semester:l(H)).nama}`,"card-url":"/dashboard"},null,8,["card-title"])]),_:1}),f.$can("read","Wali")?(u(),g(B,{key:0,cols:"12"},{default:n(()=>[a(ce,{"card-url":"/dashboard/wali",cardSubTitle:!0})]),_:1})):oe("",!0)]),_:1})]))}},$a={__name:"index",setup(d){return(f,w)=>(u(),b("div",null,[f.$can("read","Administrator")||f.$can("read","TataUsaha")?(u(),g(Ee,{key:0})):oe("",!0),f.$can("read","Guru")?(u(),g(sa,{key:1})):oe("",!0)]))}};export{$a as default};
