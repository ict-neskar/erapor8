import{_ as ce}from"./ConfirmDialog-CY_9uydO.js";import{$ as L}from"./api-CqoQuUrQ.js";import{a as G,d as le}from"./mixins-CToSDW15.js";import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as A,V as E}from"./VRow-BacuoGYF.js";import{V as I,b as X,a as _e,c as ke}from"./VCard-CHmpSx-c.js";import{a3 as ge,a6 as ye,ae as ie,af as Ve,r as i,ag as he,Y as re,ah as xe,a7 as De,ai as je,b as a,q as ue,F as K,aj as we,ak as Se,$ as Pe,al as Ce,am as H,G as fe,a as $e,o as c,f as x,e as s,m as t,c as k,h as se,d as e,I as Ae,v as m,a2 as z,t as ee,a9 as Ne,x as Te,aa as Be,y as te}from"./main-BpmS5yjl.js";import{V as Me}from"./VAvatar-CwdAusxZ.js";import{V as ae}from"./VDivider-gWeRf3Xl.js";import{V as oe}from"./VTable-DH5oZuZ_.js";import{m as Re,u as Ie,V as de}from"./VLabel-D6Y69236.js";import{m as Ke,V as me}from"./VSelectionControl-Bjw4k3ug.js";import{_ as Ue}from"./DetilNilaiDialog-CcCNmr2a.js";import"./VDialog-DmAehLsX.js";import"./VOverlay-yY7p8is2.js";import"./forwardRefs-DWGaNmQL.js";import"./scopeId-DiP191uI.js";import"./VImg-1iDcvPVu.js";import"./index-BxkgbwWS.js";/* empty css              */import"./AlertDialog-xD4eD_SX.js";import"./DialogCloseBtn-C7kHu8Gc.js";const qe=ge({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Re(),...Ke()},"VSwitch"),pe=ye()({name:"VSwitch",inheritAttrs:!1,props:qe(),emits:{"update:focused":r=>!0,"update:modelValue":r=>!0,"update:indeterminate":r=>!0},setup(r,f){let{attrs:y,slots:d}=f;const _=ie(r,"indeterminate"),j=ie(r,"modelValue"),{loaderClasses:D}=Ve(r),{isFocused:v,focus:U,blur:w}=Ie(r),S=i(),V=he&&window.matchMedia("(forced-colors: active)").matches,N=re(()=>typeof r.loading=="string"&&r.loading!==""?r.loading:r.color),T=xe(),M=re(()=>r.id||`switch-${T}`);function B(){_.value&&(_.value=!1)}function h(l){var g,p;l.stopPropagation(),l.preventDefault(),(p=(g=S.value)==null?void 0:g.input)==null||p.click()}return De(()=>{const[l,g]=je(y),p=de.filterProps(r),u=me.filterProps(r);return a(de,ue({class:["v-switch",{"v-switch--flat":r.flat},{"v-switch--inset":r.inset},{"v-switch--indeterminate":_.value},D.value,r.class]},l,p,{modelValue:j.value,"onUpdate:modelValue":R=>j.value=R,id:M.value,focused:v.value,style:r.style}),{...d,default:R=>{let{id:F,messagesId:J,isDisabled:Z,isReadonly:Q,isValid:Y}=R;const W={model:j,isValid:Y};return a(me,ue({ref:S},u,{modelValue:j.value,"onUpdate:modelValue":[q=>j.value=q,B],id:F.value,"aria-describedby":J.value,type:"checkbox","aria-checked":_.value?"mixed":void 0,disabled:Z.value,readonly:Q.value,onFocus:U,onBlur:w},g),{...d,default:q=>{let{backgroundColorClasses:O,backgroundColorStyles:P}=q;return a("div",{class:["v-switch__track",V?void 0:O.value],style:P.value,onClick:h},[d["track-true"]&&a("div",{key:"prepend",class:"v-switch__track-true"},[d["track-true"](W)]),d["track-false"]&&a("div",{key:"append",class:"v-switch__track-false"},[d["track-false"](W)])])},input:q=>{let{inputNode:O,icon:P,backgroundColorClasses:b,backgroundColorStyles:o}=q;return a(K,null,[O,a("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":P||r.loading},r.inset||V?void 0:b.value],style:r.inset?void 0:o.value},[d.thumb?a(we,{defaults:{VIcon:{icon:P,size:"x-small"}}},{default:()=>[d.thumb({...W,icon:P})]}):a(Se,null,{default:()=>[r.loading?a(Ce,{name:"v-switch",active:!0,color:Y.value===!1?void 0:N.value},{default:C=>d.loader?d.loader(C):a(H,{active:C.isActive,color:C.color,indeterminate:!0,size:"16",width:"2"},null)}):P&&a(Pe,{key:String(P),icon:P,size:"x-small"},null)]})])])}})}})}),{}}}),ze={class:"d-flex align-center gap-x-4 mb-1"},Fe={class:"text-h4"},Ge={class:"text-body-1 mb-1"},We={__name:"Administrator",setup(r){fe(async()=>{await N()});const f=i(!1),y=i([]),d=i(),_=i(),j=i([]),D=i(),v=i(!0),U=i(""),w=i(!1),S=i(!1),V=i({color:"",title:"",text:""}),N=async()=>{try{await L("/dashboard",{method:"POST",body:{periode_aktif:G.nama,sekolah_id:le.sekolah_id,semester_id:G.semester_id},onResponse({request:h,response:l,options:g}){let p=l._data;p&&p.app&&(f.value=p.app.status_penilaian,y.value=p.rekap,d.value=p.sekolah,_.value=p.app,j.value=p.helpdesk,D.value=p.text_wa)}})}catch(h){console.error("fetchData",h)}finally{v.value=!1}},T=h=>{h?U.value="Penilaian akan di aktifkan":U.value="Penilaian akan di nonaktifkan",w.value=!0},M=async h=>{h||(f.value=!f.value),await L("/dashboard/status-penilaian",{method:"POST",body:{status:f.value,sekolah_id:le.sekolah_id,semester_id:G.semester_id},onResponse({request:l,response:g,options:p}){let u=g._data;S.value=!0,V.value=u}})},B=()=>{S.value=!1,setTimeout(()=>{V.value={color:"",title:"",text:""}},300),N()};return(h,l)=>{const g=$e("font-awesome-icon"),p=ce;return c(),x(E,null,{default:s(()=>[a(A,{cols:"12"},{default:s(()=>[a(E,{class:"match-height"},{default:s(()=>[t(v)?(c(),k(K,{key:0},se(6,u=>a(A,{key:u,cols:"6",sm:"2"},{default:s(()=>[e("div",null,[a(I,{class:"text-center"},{default:s(()=>[a(H,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})])]),_:2},1024)),64)):(c(!0),k(K,{key:1},se(t(y),(u,R)=>(c(),x(A,{key:R,cols:"6",sm:"2"},{default:s(()=>[e("div",null,[a(I,{class:"logistics-card-statistics cursor-pointer",style:Ae(u.isHover?`border-block-end-color: rgb(var(--v-theme-${u.color}))`:`border-block-end-color: rgba(var(--v-theme-${u.variant}),0.38)`),onMouseenter:F=>u.isHover=!0,onMouseleave:F=>u.isHover=!1},{default:s(()=>[a(X,null,{default:s(()=>[e("div",ze,[a(Me,{variant:"tonal",color:u.variant,rounded:""},{default:s(()=>[a(g,{icon:["fas",u.icon],size:"lg"},null,8,["icon"])]),_:2},1032,["color"]),e("h4",Fe,m(u.jml),1)]),e("div",Ge,m(u.data),1)]),_:2},1024)]),_:2},1032,["style","onMouseenter","onMouseleave"])])]),_:2},1024))),128))]),_:1})]),_:1}),a(A,{cols:"12"},{default:s(()=>[a(E,null,{default:s(()=>[a(A,{cols:"7",md:"7",sm:"12"},{default:s(()=>[t(v)?(c(),x(I,{key:0,title:"Data Sekolah"},{default:s(()=>[a(X,{class:"text-center"},{default:s(()=>[a(H,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(c(),x(I,{key:1,title:"Data Sekolah",class:"mb-10"},{default:s(()=>[a(ae),a(oe,{class:"text-no-wrap"},{default:s(()=>{var u;return[e("tbody",null,[e("tr",null,[l[3]||(l[3]=e("td",null,"Nama Sekolah",-1)),e("td",null,m(t(d).nama),1)]),e("tr",null,[l[4]||(l[4]=e("td",null,"NPSN",-1)),e("td",null,m(t(d).npsn),1)]),e("tr",null,[l[5]||(l[5]=e("td",null,"Alamat",-1)),e("td",null,m(t(d).alamat),1)]),e("tr",null,[l[6]||(l[6]=e("td",null,"Kodepos",-1)),e("td",null,m(t(d).kode_pos),1)]),e("tr",null,[l[7]||(l[7]=e("td",null,"Desa/Kelurahan",-1)),e("td",null,m(t(d).desa_kelurahan),1)]),e("tr",null,[l[8]||(l[8]=e("td",null,"Kecamatan",-1)),e("td",null,m(t(d).kecamatan),1)]),e("tr",null,[l[9]||(l[9]=e("td",null,"Kabupaten/Kota",-1)),e("td",null,m(t(d).kabupaten),1)]),e("tr",null,[l[10]||(l[10]=e("td",null,"Provinsi",-1)),e("td",null,m(t(d).provinsi),1)]),e("tr",null,[l[11]||(l[11]=e("td",null,"Email",-1)),e("td",null,m(t(d).email),1)]),e("tr",null,[l[12]||(l[12]=e("td",null,"Website",-1)),e("td",null,m(t(d).website),1)]),e("tr",null,[l[13]||(l[13]=e("td",null,"Kepala Sekolah",-1)),e("td",null,m((u=t(d).kepala_sekolah)==null?void 0:u.nama_lengkap),1)])])]}),_:1})]),_:1}))]),_:1}),a(A,{cols:"5",md:"5",sm:"12"},{default:s(()=>[t(v)?(c(),x(I,{key:0,title:"Informasi Aplikasi"},{default:s(()=>[a(X,{class:"text-center"},{default:s(()=>[a(H,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(c(),x(I,{key:1,title:"Informasi Aplikasi",class:"pb-2"},{default:s(()=>[a(ae),a(oe,{class:"text-no-wrap"},{default:s(()=>[e("tbody",null,[e("tr",null,[l[14]||(l[14]=e("td",null,"Nama Aplikasi",-1)),e("td",null,m(t(_).app_name),1)]),e("tr",null,[l[15]||(l[15]=e("td",null,"Versi Aplikasi",-1)),e("td",null,m(t(_).app_version),1)]),e("tr",null,[l[16]||(l[16]=e("td",null,"Versi Database",-1)),e("td",null,m(t(_).db_version),1)]),e("tr",null,[l[17]||(l[17]=e("td",null,"Status Penilaian",-1)),e("td",null,[a(pe,{modelValue:t(f),"onUpdate:modelValue":[l[0]||(l[0]=u=>z(f)?f.value=u:null),T],label:`${t(f)?"Aktif":"Non Aktif"}`},null,8,["modelValue","label"])])]),l[18]||(l[18]=e("tr",null,[e("td",null,"Link Group Diskusi"),e("td",null,[e("a",{href:"https://chat.whatsapp.com/DASJrtiDNF5LI45QoKEB8Z",target:"_blank",rel:"noopener noreferrer"}," Group WA 1"),e("br"),e("a",{href:"https://chat.whatsapp.com/FkkPKImP5ZI0kRqPOrSL1M",target:"_blank",rel:"noopener noreferrer"},"Group WA 2"),e("br"),e("a",{href:"https://t.me/eRaporSMK",target:"_blank",rel:"noopener noreferrer"},"Group Telegram"),ee(),e("br")])],-1))])]),_:1}),a(ae),a(X,null,{default:s(()=>l[19]||(l[19]=[e("p",null,null,-1),e("p",null,"Aplikasi ini dibuat dan dikembangkan oleh SMK, dari SMK, untuk SMK",-1)])),_:1})]),_:1}))]),_:1})]),_:1})]),_:1}),a(p,{isDialogVisible:t(w),"onUpdate:isDialogVisible":l[1]||(l[1]=u=>z(w)?w.value=u:null),isNotifVisible:t(S),"onUpdate:isNotifVisible":l[2]||(l[2]=u=>z(S)?S.value=u:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":t(U),"confirm-color":t(V).color,"confirm-title":t(V).title,"confirm-msg":t(V).text,onConfirm:M,onClose:B},null,8,["isDialogVisible","isNotifVisible","confirmation-text","confirm-color","confirm-title","confirm-msg"])]),_:1})}}},Oe=ve(We,[["__scopeId","data-v-b4058197"]]),Le={class:"d-flex align-center text-disabled text-subtitle-2"},Ee={key:0,class:"text-center"},He={class:"text-center"},Je={key:0},Ze={class:"text-center"},Qe={class:"text-center"},Ye={class:"text-center"},Xe={class:"text-center"},ea={class:"text-center"},aa={class:"text-center"},la={key:1},ne={__name:"CardPembelajaran",props:{cardTitle:{type:String,required:!1},cardSubTitle:{type:Boolean,default:!1},cardUrl:{type:String,required:!0}},setup(r){const f=r,y=i(f.cardTitle);fe(async()=>{await h()});const d=i(!0),_=i(!1),j=i(""),D=i(),v=i(!1),U=i(),w=i([]),S=i([]),V=i(""),N=i(!1),T=i(!1),M=i([]),B=i({color:"",title:"",text:""}),h=async()=>{try{await L(f.cardUrl,{method:"POST",body:{guru_id:le.guru_id,periode_aktif:G.nama,sekolah_id:le.sekolah_id,semester_id:G.semester_id},onResponse({request:b,response:o,options:C}){var n;let $=o._data;D.value=$.rombel,$.rombel?$.rombel.jenis_rombel==1?y.value=`Anda adalah Wali Kelas Rombongan Belajar ${D.value.nama}`:y.value=`Anda adalah Wali Kelas Rombongan Belajar (Matpel Pilihan) ${D.value.nama}`:y.value=y.value,v.value=!((n=D.value)!=null&&n.kunci_nilai),U.value=$.rombel_pilihan,w.value=$.pembelajaran,S.value=$.pembelajaran_pilihan}})}catch(b){console.error(b)}finally{d.value=!1}},l=i(),g=i(),p=i([]),u=i(!1),R=i(!1),F=i({}),J=async b=>{M.value[b.pembelajaran_id]=!0,await L("/dashboard/detil-penilaian",{method:"POST",body:{pembelajaran_id:b.pembelajaran_id,rombongan_belajar_id:b.rombongan_belajar_id},onResponse({request:o,response:C,options:$}){let n=C._data;M.value[b.pembelajaran_id]=!1,_.value=!0,F.value=n.pembelajaran,j.value=`Detil Penilaian Mata Pelajaran ${n.pembelajaran.nama_mata_pelajaran}`,l.value=n.pembelajaran.induk,n.pembelajaran.mata_pelajaran_id==800001e3?g.value=1:g.value=n.pembelajaran.tema_count,p.value=n.data_siswa,u.value=n.merdeka,R.value=n.is_ppa}})},Z=i(),Q=i(),Y=async b=>{Z.value=b.pembelajaran_id,Q.value=b.rombongan_belajar_id,J({pembelajaran_id:b.pembelajaran_id,rombongan_belajar_id:b.rombongan_belajar_id})},W=b=>{b?V.value="Penilaian akan di aktifkan":V.value="Penilaian akan di nonaktifkan",N.value=!0},q=async b=>{b||(v.value=!v.value),await L("/dashboard/status-penilaian",{method:"POST",body:{status:v.value,rombongan_belajar_id:D.value.rombongan_belajar_id},onResponse({request:o,response:C,options:$}){let n=C._data;T.value=!0,B.value=n}})},O=()=>{T.value=!1,setTimeout(()=>{B.value={color:"",title:"",text:""}},300),h()},P=()=>{console.log("refreshNilai"),J({pembelajaran_id:Z.value,rombongan_belajar_id:Q.value})};return(b,o)=>{const C=Ue,$=ce;return c(),k("div",null,[a(E,null,{default:s(()=>[a(A,{cols:"12"},{default:s(()=>[t(d)?(c(),x(I,{key:0,class:"text-center mb-10"},{default:s(()=>[a(H,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})):(c(),x(I,{key:1},{default:s(()=>[a(_e,{class:"pb-4"},Ne({default:s(()=>[a(ke,null,{default:s(()=>[ee(m(t(y)),1)]),_:1})]),_:2},[r.cardSubTitle?{name:"append",fn:s(()=>[e("div",Le,[o[4]||(o[4]=ee("Status Penilaian di Rombongan Belajar ini :     ")),a(pe,{modelValue:t(v),"onUpdate:modelValue":[o[0]||(o[0]=n=>z(v)?v.value=n:null),W],label:`${t(v)?"Aktif":"Non Aktif"}`},null,8,["modelValue","label"])])]),key:"0"}:void 0]),1024),a(ae),a(oe,{class:"text-no-wrap"},{default:s(()=>[e("thead",null,[e("tr",null,[o[7]||(o[7]=e("th",{class:"text-center"},"No",-1)),o[8]||(o[8]=e("th",{class:"text-center"},"Mata Pelajaran",-1)),t(D)?(c(),k("th",Ee,"Guru Mata Pelajaran")):(c(),k(K,{key:1},[o[5]||(o[5]=e("th",{class:"text-center"},"Rombel",-1)),o[6]||(o[6]=e("th",{class:"text-center"},"Wali Kelas",-1))],64)),o[9]||(o[9]=e("th",{class:"text-center"},"Jml PD",-1)),o[10]||(o[10]=e("th",{class:"text-center"},"Jml PD Dinilai",-1)),o[11]||(o[11]=e("th",{class:"text-center"},"Detil",-1))])]),e("tbody",null,[t(w).length?(c(!0),k(K,{key:0},se(t(w),(n,be)=>(c(),k("tr",{class:Te({"bg-light-warning":n.induk_pembelajaran_id})},[e("td",He,m(be+1),1),e("td",null,m(n.nama_mata_pelajaran),1),t(D)?(c(),k("td",Je,m(n.guru),1)):(c(),k(K,{key:1},[e("td",Ze,m(n.rombel),1),e("td",null,m(n.wali_kelas),1)],64)),n.mata_pelajaran_id===800001e3?(c(),k(K,{key:2},[e("td",Qe,m(n.pd_pkl_count),1),e("td",Ye,m(n.pd_pkl_dinilai),1)],64)):(c(),k(K,{key:3},[e("td",Xe,m(n.pd),1),e("td",ea,m(n.pd_dinilai),1)],64)),e("td",aa,[a(Be,{size:"x-small",color:"success",onClick:na=>Y(n),loading:t(M)[n.pembelajaran_id],disabled:t(M)[n.pembelajaran_id]},{default:s(()=>o[12]||(o[12]=[ee(" Detil ")])),_:2},1032,["onClick","loading","disabled"])])],2))),256)):(c(),k("tr",la,o[13]||(o[13]=[e("td",{colspan:"7",class:"text-center"},"Tidak ada data untuk ditampilkan",-1)])))])]),_:1})]),_:1}))]),_:1}),a(C,{isDialogVisible:t(_),"onUpdate:isDialogVisible":o[1]||(o[1]=n=>z(_)?_.value=n:null),"item-data":t(F),"title-detil-nilai":t(j),merdeka:t(u),"is-ppa":t(R),"data-siswa":t(p),"sub-mapel":t(g),onRefresh:P},null,8,["isDialogVisible","item-data","title-detil-nilai","merdeka","is-ppa","data-siswa","sub-mapel"]),a($,{isDialogVisible:t(N),"onUpdate:isDialogVisible":o[2]||(o[2]=n=>z(N)?N.value=n:null),isNotifVisible:t(T),"onUpdate:isNotifVisible":o[3]||(o[3]=n=>z(T)?T.value=n:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":t(V),"confirm-color":t(B).color,"confirm-title":t(B).title,"confirm-msg":t(B).text,onConfirm:q,onClose:O},null,8,["isDialogVisible","isNotifVisible","confirmation-text","confirm-color","confirm-title","confirm-msg"])]),_:1})])}}},ta={__name:"Guru",setup(r){return(f,y)=>(c(),k("div",null,[a(E,null,{default:s(()=>[a(A,{cols:"12"},{default:s(()=>[a(ne,{"card-title":`Mata Pelajaran yang diampu di Tahun Pelajaran ${("$semester"in f?f.$semester:t(G)).nama}`,"card-url":"/dashboard"},null,8,["card-title"])]),_:1}),f.$can("read","Wali")?(c(),x(A,{key:0,cols:"12"},{default:s(()=>[a(ne,{"card-url":"/dashboard/wali",cardSubTitle:!0})]),_:1})):te("",!0),f.$can("read","Pilihan")?(c(),x(A,{key:1,cols:"12"},{default:s(()=>[a(ne,{"card-url":"/dashboard/wali-matpil",cardSubTitle:!0})]),_:1})):te("",!0)]),_:1})]))}},Sa={__name:"index",setup(r){return(f,y)=>(c(),k("div",null,[f.$can("read","Administrator")||f.$can("read","TataUsaha")?(c(),x(Oe,{key:0})):te("",!0),f.$can("read","Guru")?(c(),x(ta,{key:1})):te("",!0)]))}};export{Sa as default};
