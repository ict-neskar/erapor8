import{_ as R}from"./ConfirmDialog-CY_9uydO.js";import{$ as w}from"./api-CqoQuUrQ.js";import{V as P}from"./VCard-CHmpSx-c.js";import{V as U,a as j,b as F}from"./VToolbarItems-PGonIyt_.js";import{r as d,o as n,c as f,b as o,e as i,aa as _,$ as h,t as T,v as s,d as t,am as z,F as C,h as E,f as N,m as l,a2 as $}from"./main-BpmS5yjl.js";import{V as K}from"./VSpacer-CrjoVGP9.js";import{V as M}from"./VTable-DH5oZuZ_.js";import{V as O}from"./VDialog-DmAehLsX.js";const G={key:0},H={class:"text-center",colspan:"7"},J={class:"text-center"},Q={class:"text-center"},W={class:"text-center"},X={class:"text-center"},Y={key:2},sa={__name:"AnggotaRombelDialog",props:{isDialogVisible:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!0},dialogTitle:{type:String,required:!0},listData:{type:Array,required:!0}},emits:["update:isDialogVisible","refresh","close"],setup(u,{emit:B}){const q=u,k=m=>{V("update:isDialogVisible",m),V("close")},V=B,b=d(!1),c=d(!1),g=d({color:"",title:"",text:""}),r=d([]),p=d(),v=d(),x=async(m,e)=>{p.value=m,v.value=e,b.value=!0},A=async()=>{r.value[p.value]=!0,await w("/referensi/rombongan-belajar/hapus-anggota-rombel",{method:"POST",body:{anggota_rombel_id:p.value,data:v.value},onResponse({request:m,response:e,options:y}){let a=e._data;r.value[p.value]=!1,g.value=a,c.value=!0}})},L=async()=>{c.value=!1,setTimeout(()=>{g.value={color:"",title:"",text:""}},300),V("refresh")};return(m,e)=>{const y=R;return n(),f(C,null,[o(O,{"model-value":q.isDialogVisible,"onUpdate:modelValue":k,fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:i(()=>[o(P,null,{default:i(()=>[o(U,{color:"primary",class:"sticky-header"},{default:i(()=>[o(_,{icon:"",variant:"plain",onClick:e[0]||(e[0]=a=>k(!1))},{default:i(()=>[o(h,{color:"white",icon:"tabler-x"})]),_:1}),o(j,null,{default:i(()=>[T(s(u.dialogTitle),1)]),_:1}),o(K),o(F,null,{default:i(()=>[o(_,{variant:"text",onClick:e[1]||(e[1]=a=>k(!1))},{default:i(()=>[o(h,{icon:"tabler-x",class:"me-2"}),e[4]||(e[4]=T(" Tutup "))]),_:1})]),_:1})]),_:1}),o(M,{class:"permission-table mb-6"},{default:i(()=>[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"No"),t("th",null,"Nama"),t("th",{class:"text-center"},"NISN"),t("th",{class:"text-center"},"L/P"),t("th",null,"Tempat, Tanggal Lahir"),t("th",null,"Agama"),t("th",{class:"text-center"},"Keluarkan")])],-1)),t("tbody",null,[u.isLoading?(n(),f("tr",G,[t("td",H,[o(z,{size:60,indeterminate:"",color:"error",class:"my-10"})])])):u.listData.length?(n(!0),f(C,{key:1},E(u.listData,(a,S)=>{var D;return n(),f("tr",null,[t("td",J,s(S+1),1),t("td",null,s(a.nama),1),t("td",Q,s(a.nisn),1),t("td",W,s(a.jenis_kelamin),1),t("td",null,s(a.tempat_tanggal_lahir),1),t("td",null,s((D=a.agama)==null?void 0:D.nama),1),t("td",X,[a.anggota_akt_pd?(n(),N(_,{key:0,loading:l(r)[a.anggota_akt_pd.anggota_akt_pd_id],disabled:l(r)[a.anggota_akt_pd.anggota_akt_pd_id],color:"error",icon:"tabler-trash",onClick:I=>x(a.anggota_akt_pd.anggota_akt_pd_id,"prakerin")},null,8,["loading","disabled","onClick"])):(n(),N(_,{key:1,loading:l(r)[a.anggota_rombel.anggota_rombel_id],disabled:l(r)[a.anggota_rombel.anggota_rombel_id],color:"error",icon:"tabler-trash",onClick:I=>x(a.anggota_rombel.anggota_rombel_id,"rombel")},null,8,["loading","disabled","onClick"]))])])}),256)):(n(),f("tr",Y,e[5]||(e[5]=[t("td",{class:"text-center",colspan:"7"},"Tidak ada untuk ditampilkan",-1)])))])]),_:1})]),_:1})]),_:1},8,["model-value"]),o(y,{isDialogVisible:l(b),"onUpdate:isDialogVisible":e[2]||(e[2]=a=>$(b)?b.value=a:null),isNotifVisible:l(c),"onUpdate:isNotifVisible":e[3]||(e[3]=a=>$(c)?c.value=a:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":"Tindakan ini tidak dapat dikembalikan!","confirm-color":l(g).color,"confirm-title":l(g).title,"confirm-msg":l(g).text,onConfirm:A,onClose:L},null,8,["isDialogVisible","isNotifVisible","confirm-color","confirm-title","confirm-msg"])],64)}}};export{sa as _};
