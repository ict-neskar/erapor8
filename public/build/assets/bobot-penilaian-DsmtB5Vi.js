import{_ as U}from"./ConfirmDialog-DyhpdMWt.js";import{_ as $}from"./AppTextField-BKZKkx6u.js";import{u as w,c as j}from"./createUrl-DGqWtwj4.js";import{d as V,a as k}from"./mixins-DrrH0Fyo.js";import{$ as A}from"./api-BUKC6v0J.js";import{V as R,a as S,c as F,b as y}from"./VCard-C9hi6mjk.js";import{V as P}from"./VDivider-HmDD39Wz.js";import{G as q,r as i,c as m,b as a,e as l,m as s,a2 as v,o as n,t as h,f as z,am as E,F as D,d as t,h as G,aa as I,v as g}from"./main-BLua-Hcg.js";import{V as L}from"./VTable-rYr8aSBv.js";import"./VDialog-C-WyAZXd.js";import"./VOverlay-DLkk1BCg.js";import"./forwardRefs-DWGaNmQL.js";import"./VImg-DwvF1z1X.js";import"./VLabel-SCoY3Kbe.js";import"./index-BxkgbwWS.js";import"./VAvatar-zoFn7cuv.js";const M={class:"text-center"},O={class:"text-center"},H={key:1},de={__name:"bobot-penilaian",setup(J){q(async()=>{await C()});const d=i([]),p=i(!1),C=async()=>{p.value=!0;try{let e=(await w(j("/referensi/bobot-penilaian",{query:{user_id:V.user_id,guru_id:V.guru_id,sekolah_id:V.sekolah_id,semester_id:k.semester_id,periode_aktif:k.nama}}))).data;d.value=e.value}catch(r){console.error(r)}finally{p.value=!1}},b=i(!1),u=i(!1),f=i({color:null,title:null,text:null}),c=i(),B=async()=>{c.value=!0,await A("/referensi/bobot-penilaian",{method:"POST",body:d.value,onResponse({response:r}){c.value=!1;let e=r._data;u.value=!0,f.value=e}})};return(r,e)=>{const x=$,N=U;return n(),m("div",null,[a(R,{class:"mb-6"},{default:l(()=>[a(S,{class:"pb-4"},{default:l(()=>[a(F,null,{default:l(()=>e[2]||(e[2]=[h("Referensi Bobot Penilaian")])),_:1})]),_:1}),a(P),s(p)?(n(),z(y,{key:0,class:"text-center"},{default:l(()=>[a(E,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})):(n(),m(D,{key:1},[a(L,{class:"permission-table"},{default:l(()=>[e[4]||(e[4]=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"No"),t("th",{class:"text-center"},"mata pelajaran"),t("th",{class:"text-center"},"Rombel"),t("th",{class:"text-center"},"bobot sumatif materi"),t("th",{class:"text-center"},"bobot sumatif akhir")])],-1)),t("tbody",null,[s(d).length?(n(!0),m(D,{key:0},G(s(d),(o,T)=>(n(),m("tr",null,[t("td",M,g(T+1),1),t("td",null,g(o.nama_mata_pelajaran),1),t("td",O,g(o.rombongan_belajar.nama),1),t("td",null,[a(x,{modelValue:o.bobot_sumatif_materi,"onUpdate:modelValue":_=>o.bobot_sumatif_materi=_},null,8,["modelValue","onUpdate:modelValue"])]),t("td",null,[a(x,{modelValue:o.bobot_sumatif_akhir,"onUpdate:modelValue":_=>o.bobot_sumatif_akhir=_},null,8,["modelValue","onUpdate:modelValue"])])]))),256)):(n(),m("tr",H,e[3]||(e[3]=[t("td",{class:"text-center",colspan:"5"},"Tidak ada data untuk ditampilkan",-1)])))])]),_:1}),a(y,{class:"d-flex justify-end gap-3 flex-wrap"},{default:l(()=>[a(I,{onClick:B,loading:s(c),disabled:s(c)},{default:l(()=>e[5]||(e[5]=[h("Simpan")])),_:1},8,["loading","disabled"])]),_:1})],64))]),_:1}),a(N,{isDialogVisible:s(b),"onUpdate:isDialogVisible":e[0]||(e[0]=o=>v(b)?b.value=o:null),isNotifVisible:s(u),"onUpdate:isNotifVisible":e[1]||(e[1]=o=>v(u)?u.value=o:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":"confirmationText","confirm-color":s(f).color,"confirm-title":s(f).title,"confirm-msg":s(f).text},null,8,["isDialogVisible","isNotifVisible","confirm-color","confirm-title","confirm-msg"])])}}};export{de as default};
