import{u as $,c as z}from"./createUrl-5K3jXwP3.js";import{V as F,a as G,c as S,b as x}from"./VCard-B6efkknt.js";import{V as B}from"./VDivider-DIWjfe5J.js";import{V as W,a as q,b as D,c as E}from"./VTabs-CJWGdgFI.js";import{G as R,r as i,c,b as t,e as l,o,t as h,m as s,a2 as _,F as N,h as M,f as V,am as P,d as n,an as j,aa as A,y as J,$ as K,v as b}from"./main-WcaAB0Vb.js";import{V as O}from"./VTable-Dxydgzys.js";import"./index-BxkgbwWS.js";import"./VAvatar-C5PogN-2.js";import"./VImg-BR-W7-GF.js";import"./forwardRefs-DWGaNmQL.js";import"./scopeId-UpMB3NtI.js";import"./ssrBoot-Dq8dOG3X.js";import"./VSlideGroup-aRldGfCL.js";const Q=["innerHTML"],X={key:0,class:"text-center"},Y={class:"text-center"},Z={class:"py-2"},ee=["innerHTML"],ae={class:"text-center"},te={key:1},Ve={__name:"changelog",setup(le){R(async()=>{await y()});const r=i("changelog"),p=i(!1),T=i(),g=i([]),u=i({page:1,perPage:10}),y=async()=>{var d,e,a;p.value=!0;try{let m=(await $(z(`/setting/${r.value}`,{query:{page:u.value.page,per_page:u.value.perPage}}))).data.value;if(r.value=="changelog")T.value=m.data;else{g.value=m==null?void 0:m.data;const v=m.headers.Link;v.length&&(C.value=!((d=v[0])!=null&&d.includes("first"))||!((e=v[0])!=null&&e.includes("prev")),w.value=!((a=v[0])!=null&&a.includes("last")))}}catch(f){console.error(f)}finally{p.value=!1}},H=async()=>{await y()},I=[{name:"changelog",icon:"tabler-brand-google-play",title:"Aplikasi"},{name:"github",icon:"tabler-brand-github",title:"Github"}],U=d=>d.replace(/\n/g,"<br />"),k=i("next"),C=i(!0),w=i(!1),L=async d=>{d=="next"?u.value.page=u.value.page+1:u.value.page=u.value.page-1,await y()};return(d,e)=>(o(),c("div",null,[t(F,null,{default:l(()=>[t(G,{class:"pb-4"},{default:l(()=>[t(S,null,{default:l(()=>e[5]||(e[5]=[h("Daftar Perubahan Aplikasi")])),_:1})]),_:1}),t(B),t(W,{modelValue:s(r),"onUpdate:modelValue":[e[0]||(e[0]=a=>_(r)?r.value=a:null),H],grow:"",stacked:""},{default:l(()=>[(o(),c(N,null,M(I,a=>t(E,{key:a.name,value:a.name},{default:l(()=>[t(K,{icon:a.icon,class:"mb-2"},null,8,["icon"]),n("span",null,b(a.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),t(q,{modelValue:s(r),"onUpdate:modelValue":e[4]||(e[4]=a=>_(r)?r.value=a:null)},{default:l(()=>[t(D,{value:"changelog"},{default:l(()=>[s(p)?(o(),V(x,{key:0,class:"text-center"},{default:l(()=>[t(P,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})):(o(),V(x,{key:1},{default:l(()=>[n("span",{innerHTML:s(T)},null,8,Q)]),_:1}))]),_:1}),t(D,{value:"github"},{default:l(()=>[s(p)?(o(),c("div",X,[t(P,{size:60,indeterminate:"",color:"error",class:"my-10"})])):(o(),V(O,{key:1},{default:l(()=>[e[7]||(e[7]=n("thead",null,[n("tr",null,[n("th",{class:"text-center"},"No"),n("th",null,"Date"),n("th",null,"Commit"),n("th",{class:"text-center"},"Author")])],-1)),n("tbody",null,[s(g).length?(o(!0),c(N,{key:0},M(s(g),(a,f)=>(o(),c("tr",null,[n("td",Y,b(f+1+10*s(u).page-10),1),n("td",null,b(new Date(a.commit.author.date).toLocaleString("id-ID",{hour12:!1,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})),1),n("td",Z,[n("span",{innerHTML:U(a.commit.message)},null,8,ee)]),n("td",ae,b(a.commit.author.name),1)]))),256)):(o(),c("tr",te,e[6]||(e[6]=[n("td",{colspan:"4",class:"text-center"},"Tidak ada data untuk ditampilkan",-1)])))])]),_:1})),t(B),s(g).length?(o(),V(x,{key:2,class:"text-center"},{default:l(()=>[t(j,{modelValue:s(k),"onUpdate:modelValue":e[3]||(e[3]=a=>_(k)?k.value=a:null),divided:"",class:"navigasi"},{default:l(()=>[t(A,{value:"prev",disabled:s(C),onClick:e[1]||(e[1]=a=>L("prev"))},{default:l(()=>e[8]||(e[8]=[h(" « prev ")])),_:1},8,["disabled"]),t(A,{value:"next",disabled:s(w),onClick:e[2]||(e[2]=a=>L("next"))},{default:l(()=>e[9]||(e[9]=[h(" next » ")])),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1})):J("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}};export{Ve as default};
