import{_ as y}from"./ProfileSiswa-BlSG8edM.js";import{d as m,a as k}from"./mixins-BjVJEZvR.js";import{u as v,c as w}from"./createUrl-8zoAcX36.js";import{V as $,c as V,a as z,b as C}from"./VCard-CswHtBsG.js";import{V as D}from"./VDivider-DBczu0Ow.js";import{G as B,r as g,f as b,e as _,o as r,b as s,t as P,m as a,c as o,am as T,F as f,d as l,y as d,h as N,aa as i}from"./main-4ibPTuoX.js";import{V as R}from"./VTable-CFJBDt5I.js";import"./VImg-B9UUOYt7.js";import"./VAvatar-DuOErqu_.js";import"./index-BxkgbwWS.js";const F={key:0,class:"text-center"},A={key:1,class:"text-center"},S={class:"text-center"},j={key:0,class:"text-center"},q={key:1,class:"text-center"},E={key:2,class:"text-center"},G={key:3,class:"text-center"},H={key:4,class:"text-center"},I={class:"text-center"},ee={__name:"cetak-rapor",setup(L){B(async()=>{await h()});const p=g({body:!1}),e=g({user_id:m.user_id,guru_id:m.guru_id,sekolah_id:m.sekolah_id,semester_id:k.semester_id,periode_aktif:k.nama,aksi:"cetak-rapor",rapor_pts:!1,merdeka:!1,is_ppa:!1,is_new_ppa:!0}),c=g({siswa:[]}),h=async()=>{p.value.body=!0;try{let t=(await v(w("/walas",{query:{user_id:e.value.user_id,guru_id:e.value.guru_id,sekolah_id:e.value.sekolah_id,semester_id:e.value.semester_id,periode_aktif:e.value.nama,aksi:e.value.aksi}}))).data.value;e.value.rapor_pts=t.rapor_pts,e.value.merdeka=t.merdeka,e.value.is_ppa=t.is_ppa,e.value.is_new_ppa=t.is_new_ppa,c.value.siswa=t.data_siswa}catch(u){console.error(u)}finally{p.value.body=!1}};return(u,t)=>{const x=y;return r(),b($,null,{default:_(()=>[s(z,{class:"pb-4"},{default:_(()=>[s(V,null,{default:_(()=>t[0]||(t[0]=[P("Cetak Rapor")])),_:1})]),_:1}),a(p).body?(r(),o(f,{key:0},[s(D),s(C,{class:"text-center"},{default:_(()=>[s(T,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})],64)):(r(),o(f,{key:1},[a(c).siswa.length?(r(),b(R,{key:0,class:"text-no-wrap"},{default:_(()=>[l("thead",null,[l("tr",null,[t[1]||(t[1]=l("th",{class:"text-center"},"Peserta Didik",-1)),t[2]||(t[2]=l("th",{class:"text-center"},"Halaman Depan",-1)),t[3]||(t[3]=l("th",{class:"text-center"},"Rapor Akademik",-1)),a(e).rapor_pts?(r(),o("th",F,"Rapor Tengah Semester")):d("",!0),a(e).merdeka&&!a(e).is_new_ppa?(r(),o("th",A,"Rapor P5")):d("",!0),t[4]||(t[4]=l("th",{class:"text-center"},"Dokumen Pendukung",-1))])]),l("tbody",null,[(r(!0),o(f,null,N(a(c).siswa,n=>(r(),o("tr",null,[l("td",null,[s(x,{item:n},null,8,["item"])]),l("td",S,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"success",variant:"text",href:`/cetak/rapor-cover/${n.anggota_rombel.anggota_rombel_id}`,target:"_blank"},null,8,["href"])]),a(e).is_new_ppa?(r(),o("td",j,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-akademik/${n.anggota_rombel.anggota_rombel_id}/${a(e).sekolah_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])):a(e).merdeka||a(e).is_ppa?(r(),o("td",q,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-nilai-akhir/${n.anggota_rombel.anggota_rombel_id}/${a(e).sekolah_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])):(r(),o("td",E,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-semester/${n.anggota_rombel.anggota_rombel_id}/${a(e).sekolah_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])),a(e).rapor_pts?(r(),o("td",G,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"primary",variant:"text",href:`/cetak/rapor-tengah-semester/${n.anggota_rombel.anggota_rombel_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])):d("",!0),a(e).merdeka&&!a(e).is_new_ppa?(r(),o("td",H,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"info",variant:"text",href:`/cetak/rapor-p5/${n.anggota_rombel.anggota_rombel_id}/${a(e).semester_id}`,target:"_blank"},null,8,["href"])])):d("",!0),l("td",I,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"error",variant:"text",href:`/cetak/rapor-pelengkap/${n.anggota_rombel.anggota_rombel_id}/${n.anggota_rombel.rombongan_belajar_id}`,target:"_blank"},null,8,["href"])])]))),256))])]),_:1})):d("",!0)],64))]),_:1})}}};export{ee as default};
