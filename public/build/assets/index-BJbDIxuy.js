import{_ as fe}from"./ConfirmDialog-CjIZbuav.js";import{u as _e,c as ke}from"./createUrl-B7F4S3LC.js";import{a as H,d as ne}from"./mixins-DyiT8LKv.js";import{$ as ae}from"./api-DY3HI8Y7.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as B,V as L}from"./VRow-Dpp8ZYcA.js";import{V as $,b as G}from"./VCard-8hK8qPdX.js";import{a3 as ye,a6 as Ve,ae as ie,af as xe,r as o,ag as he,Y as re,ah as De,a7 as we,ai as je,b as t,q as ue,F as R,aj as Se,ak as Ce,$ as Pe,al as $e,am as F,G as pe,a as ve,o as u,f as g,e as s,m as l,c as b,h as te,d as e,I as Ae,v as m,t as se,a2 as z,a9 as Ne,aa as Te,y as oe}from"./main-mJ4grY_1.js";import{V as Be}from"./VAvatar-stc9ON8V.js";import{V as E}from"./VDivider-B79LGQs3.js";import{V as le}from"./VTable-CiEvRGFc.js";import{m as Re,u as Me,V as de}from"./VLabel-BQsO3C8I.js";import{m as Ie,V as me}from"./VSelectionControl-Cj7rAUrd.js";import"./VDialog-Btk1DTC-.js";import"./VOverlay-BjYBV5sL.js";import"./forwardRefs-DWGaNmQL.js";import"./VImg-D3Cnwq1n.js";import"./index-BxkgbwWS.js";/* empty css              */const Ke=ye({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Re(),...Ie()},"VSwitch"),be=Ve()({name:"VSwitch",inheritAttrs:!1,props:Ke(),emits:{"update:focused":d=>!0,"update:modelValue":d=>!0,"update:indeterminate":d=>!0},setup(d,f){let{attrs:w,slots:c}=f;const _=ie(d,"indeterminate"),x=ie(d,"modelValue"),{loaderClasses:h}=xe(d),{isFocused:v,focus:K,blur:j}=Me(d),S=o(),y=he&&window.matchMedia("(forced-colors: active)").matches,A=re(()=>typeof d.loading=="string"&&d.loading!==""?d.loading:d.color),N=De(),M=re(()=>d.id||`switch-${N}`);function T(){_.value&&(_.value=!1)}function V(a){var k,C;a.stopPropagation(),a.preventDefault(),(C=(k=S.value)==null?void 0:k.input)==null||C.click()}return we(()=>{const[a,k]=je(w),C=de.filterProps(d),r=me.filterProps(d);return t(de,ue({class:["v-switch",{"v-switch--flat":d.flat},{"v-switch--inset":d.inset},{"v-switch--indeterminate":_.value},h.value,d.class]},a,C,{modelValue:x.value,"onUpdate:modelValue":I=>x.value=I,id:M.value,focused:v.value,style:d.style}),{...c,default:I=>{let{id:q,messagesId:J,isDisabled:Y,isReadonly:Q,isValid:X}=I;const O={model:x,isValid:X};return t(me,ue({ref:S},r,{modelValue:x.value,"onUpdate:modelValue":[U=>x.value=U,T],id:q.value,"aria-describedby":J.value,type:"checkbox","aria-checked":_.value?"mixed":void 0,disabled:Y.value,readonly:Q.value,onFocus:K,onBlur:j},k),{...c,default:U=>{let{backgroundColorClasses:W,backgroundColorStyles:P}=U;return t("div",{class:["v-switch__track",y?void 0:W.value],style:P.value,onClick:V},[c["track-true"]&&t("div",{key:"prepend",class:"v-switch__track-true"},[c["track-true"](O)]),c["track-false"]&&t("div",{key:"append",class:"v-switch__track-false"},[c["track-false"](O)])])},input:U=>{let{inputNode:W,icon:P,backgroundColorClasses:p,backgroundColorStyles:i}=U;return t(R,null,[W,t("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":P||d.loading},d.inset||y?void 0:p.value],style:d.inset?void 0:i.value},[c.thumb?t(Se,{defaults:{VIcon:{icon:P,size:"x-small"}}},{default:()=>[c.thumb({...O,icon:P})]}):t(Ce,null,{default:()=>[d.loading?t($e,{name:"v-switch",active:!0,color:X.value===!1?void 0:A.value},{default:D=>c.loader?c.loader(D):t(F,{active:D.isActive,color:D.color,indeterminate:!0,size:"16",width:"2"},null)}):P&&t(Pe,{key:String(P),icon:P,size:"x-small"},null)]})])])}})}})}),{}}}),Ue={class:"d-flex align-center gap-x-4 mb-1"},ze={class:"text-h4"},qe={class:"text-body-1 mb-1"},Fe=["href"],He={__name:"Administrator",setup(d){pe(async()=>{await A()});const f=o(!1),w=o([]),c=o(),_=o(),x=o([]),h=o(),v=o(!0),K=o(""),j=o(!1),S=o(!1),y=o({color:"",title:"",text:""}),A=async()=>{try{let a=(await _e(ke("/dashboard",{query:{periode_aktif:H.nama,sekolah_id:ne.sekolah_id,semester_id:H.semester_id}}))).data;f.value=a.value.app.status_penilaian,w.value=a.value.rekap,c.value=a.value.sekolah,_.value=a.value.app,x.value=a.value.helpdesk,h.value=a.value.text_wa}catch(V){console.error(V)}finally{v.value=!1}},N=V=>{V?K.value="Penilaian akan di aktifkan":K.value="Penilaian akan di nonaktifkan",j.value=!0},M=async V=>{V||(f.value=!f.value),await ae("/dashboard/status-penilaian",{method:"POST",body:{status:f.value,sekolah_id:ne.sekolah_id,semester_id:H.semester_id},onResponse({request:a,response:k,options:C}){let r=k._data;S.value=!0,y.value=r}})},T=()=>{S.value=!1,setTimeout(()=>{y.value={color:"",title:"",text:""}},300),A()};return(V,a)=>{const k=ve("font-awesome-icon"),C=fe;return u(),g(L,null,{default:s(()=>[t(B,{cols:"12"},{default:s(()=>[t(L,{class:"match-height"},{default:s(()=>[l(v)?(u(),b(R,{key:0},te(6,r=>t(B,{key:r,cols:"6",sm:"2"},{default:s(()=>[e("div",null,[t($,{class:"text-center"},{default:s(()=>[t(F,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})])]),_:2},1024)),64)):(u(!0),b(R,{key:1},te(l(w),(r,I)=>(u(),g(B,{key:I,cols:"6",sm:"2"},{default:s(()=>[e("div",null,[t($,{class:"logistics-card-statistics cursor-pointer",style:Ae(r.isHover?`border-block-end-color: rgb(var(--v-theme-${r.color}))`:`border-block-end-color: rgba(var(--v-theme-${r.variant}),0.38)`),onMouseenter:q=>r.isHover=!0,onMouseleave:q=>r.isHover=!1},{default:s(()=>[t(G,null,{default:s(()=>[e("div",Ue,[t(Be,{variant:"tonal",color:r.variant,rounded:""},{default:s(()=>[t(k,{icon:["fas",r.icon],size:"lg"},null,8,["icon"])]),_:2},1032,["color"]),e("h4",ze,m(r.jml),1)]),e("div",qe,m(r.data),1)]),_:2},1024)]),_:2},1032,["style","onMouseenter","onMouseleave"])])]),_:2},1024))),128))]),_:1})]),_:1}),t(B,{cols:"12"},{default:s(()=>[t(L,null,{default:s(()=>[t(B,{cols:"7",md:"7",sm:"12"},{default:s(()=>[l(v)?(u(),g($,{key:0,title:"Data Sekolah"},{default:s(()=>[t(G,{class:"text-center"},{default:s(()=>[t(F,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(u(),g($,{key:1,title:"Data Sekolah",class:"mb-10"},{default:s(()=>[t(E),t(le,{class:"text-no-wrap"},{default:s(()=>{var r;return[e("tbody",null,[e("tr",null,[a[3]||(a[3]=e("td",null,"Nama Sekolah",-1)),e("td",null,m(l(c).nama),1)]),e("tr",null,[a[4]||(a[4]=e("td",null,"NPSN",-1)),e("td",null,m(l(c).npsn),1)]),e("tr",null,[a[5]||(a[5]=e("td",null,"Alamat",-1)),e("td",null,m(l(c).alamat),1)]),e("tr",null,[a[6]||(a[6]=e("td",null,"Kodepos",-1)),e("td",null,m(l(c).kode_pos),1)]),e("tr",null,[a[7]||(a[7]=e("td",null,"Desa/Kelurahan",-1)),e("td",null,m(l(c).desa_kelurahan),1)]),e("tr",null,[a[8]||(a[8]=e("td",null,"Kecamatan",-1)),e("td",null,m(l(c).kecamatan),1)]),e("tr",null,[a[9]||(a[9]=e("td",null,"Kabupaten/Kota",-1)),e("td",null,m(l(c).kabupaten),1)]),e("tr",null,[a[10]||(a[10]=e("td",null,"Provinsi",-1)),e("td",null,m(l(c).provinsi),1)]),e("tr",null,[a[11]||(a[11]=e("td",null,"Email",-1)),e("td",null,m(l(c).email),1)]),e("tr",null,[a[12]||(a[12]=e("td",null,"Website",-1)),e("td",null,m(l(c).website),1)]),e("tr",null,[a[13]||(a[13]=e("td",null,"Kepala Sekolah",-1)),e("td",null,m((r=l(c).kepala_sekolah)==null?void 0:r.nama_lengkap),1)])])]}),_:1}),t(E),t(G,null,{default:s(()=>a[14]||(a[14]=[se(" Aplikasi e-Rapor SMK ini dibuat dan dikembangkan oleh Direktorat Sekolah Menengah Kejuruan Kementerian Pendidikan Dasar dan Menengah Republik Indonesia ")])),_:1})]),_:1}))]),_:1}),t(B,{cols:"5",md:"5",sm:"12"},{default:s(()=>[l(v)?(u(),g($,{key:0,title:"Informasi Aplikasi"},{default:s(()=>[t(G,{class:"text-center"},{default:s(()=>[t(F,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(u(),g($,{key:1,title:"Informasi Aplikasi",class:"pb-2"},{default:s(()=>[t(E),t(le,{density:"compact",class:"text-no-wrap"},{default:s(()=>[e("tbody",null,[e("tr",null,[a[15]||(a[15]=e("td",null,"Nama Aplikasi",-1)),e("td",null,m(l(_).app_name),1)]),e("tr",null,[a[16]||(a[16]=e("td",null,"Versi Aplikasi",-1)),e("td",null,m(l(_).app_version),1)]),e("tr",null,[a[17]||(a[17]=e("td",null,"Versi Database",-1)),e("td",null,m(l(_).db_version),1)]),e("tr",null,[a[18]||(a[18]=e("td",null,"Status Penilaian",-1)),e("td",null,[t(be,{modelValue:l(f),"onUpdate:modelValue":[a[0]||(a[0]=r=>z(f)?f.value=r:null),N],label:`${l(f)?"Aktif":"Non Aktif"}`},null,8,["modelValue","label"])])])])]),_:1})]),_:1})),l(v)?(u(),g($,{key:2,class:"mt-4",title:"Helpdesk e-Rapor SMK"},{default:s(()=>[t(G,{class:"text-center"},{default:s(()=>[t(F,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})]),_:1})):(u(),g($,{key:3,title:"Helpdesk e-Rapor SMK",class:"mt-4 pb-2"},{default:s(()=>[t(E),t(le,{density:"compact",class:"text-no-wrap"},{default:s(()=>[e("thead",null,[e("tr",null,[a[19]||(a[19]=e("th",null,"Nama",-1)),a[20]||(a[20]=e("th",null,"Instansi",-1)),e("th",null,[t(k,{icon:["fab","whatsapp"]})])])]),e("tbody",null,[(u(!0),b(R,null,te(l(x),r=>(u(),b("tr",{key:r.hp},[e("td",null,m(r.nama),1),e("td",null,m(r.instansi),1),e("td",null,[e("a",{target:"_blank",href:`https://wa.me/${r.hp}/?text=${l(h)}`},[t(k,{icon:["fab","whatsapp"]})],8,Fe)])]))),128))])]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1}),t(C,{isDialogVisible:l(j),"onUpdate:isDialogVisible":a[1]||(a[1]=r=>z(j)?j.value=r:null),isNotifVisible:l(S),"onUpdate:isNotifVisible":a[2]||(a[2]=r=>z(S)?S.value=r:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":l(K),"confirm-color":l(y).color,"confirm-title":l(y).title,"confirm-msg":l(y).text,onConfirm:M,onClose:T},null,8,["isDialogVisible","isNotifVisible","confirmation-text","confirm-color","confirm-title","confirm-msg"])]),_:1})}}},Oe=ge(He,[["__scopeId","data-v-5c281c1d"]]),We={class:"d-flex align-center text-disabled text-subtitle-2"},Ge={key:0,class:"text-center"},Ee={class:"text-center"},Le={key:0},Je={class:"text-center"},Ye={class:"text-center"},Qe={class:"text-center"},Xe={class:"text-center"},Ze={class:"text-center"},ea={class:"text-center"},aa={key:1},ce={__name:"CardPembelajaran",props:{cardTitle:{type:String,required:!1},cardSubTitle:{type:Boolean,default:!1},cardUrl:{type:String,required:!0}},setup(d){const f=d,w=o(f.cardTitle);pe(async()=>{await V()});const c=o(!0),_=o(!1),x=o(""),h=o(),v=o(!1),K=o(),j=o([]),S=o([]),y=o(""),A=o(!1),N=o(!1),M=o([]),T=o({color:"",title:"",text:""}),V=async()=>{try{const p=await ae(f.cardUrl,{method:"POST",body:{guru_id:ne.guru_id,periode_aktif:H.nama,sekolah_id:ne.sekolah_id,semester_id:H.semester_id},onResponse({request:i,response:D,options:Z}){var ee;let n=D._data;h.value=n.rombel,w.value=w.value??`Anda adalah Wali Kelas Rombongan Belajar ${h.value.nama}`,v.value=!((ee=h.value)!=null&&ee.kunci_nilai),K.value=n.rombel_pilihan,j.value=n.pembelajaran,S.value=n.pembelajaran_pilihan}})}catch(p){console.error(p)}finally{c.value=!1}},a=o(),k=o(),C=o([]),r=o(!1),I=o(!1),q=o({}),J=async p=>{M.value[p.pembelajaran_id]=!0,await ae("/dashboard/detil-penilaian",{method:"POST",body:{pembelajaran_id:p.pembelajaran_id,rombongan_belajar_id:p.rombongan_belajar_id},onResponse({request:i,response:D,options:Z}){let n=D._data;M.value[p.pembelajaran_id]=!1,_.value=!0,q.value=n.pembelajaran,x.value=`Detil Penilaian Mata Pelajaran ${n.pembelajaran.nama_mata_pelajaran}`,a.value=n.pembelajaran.induk,n.pembelajaran.mata_pelajaran_id==800001e3?k.value=1:k.value=n.pembelajaran.tema_count,C.value=n.data_siswa,r.value=n.merdeka,I.value=n.is_ppa}})},Y=o(),Q=o(),X=async p=>{Y.value=p.pembelajaran_id,Q.value=p.rombongan_belajar_id,J({pembelajaran_id:p.pembelajaran_id,rombongan_belajar_id:p.rombongan_belajar_id})},O=p=>{p?y.value="Penilaian akan di aktifkan":y.value="Penilaian akan di nonaktifkan",A.value=!0},U=async p=>{p||(v.value=!v.value),await ae("/dashboard/status-penilaian",{method:"POST",body:{status:v.value,rombongan_belajar_id:h.value.rombongan_belajar_id},onResponse({request:i,response:D,options:Z}){let n=D._data;N.value=!0,T.value=n}})},W=()=>{N.value=!1,setTimeout(()=>{T.value={color:"",title:"",text:""}},300),V()},P=()=>{console.log("refreshNilai"),J({pembelajaran_id:Y.value,rombongan_belajar_id:Q.value})};return(p,i)=>{const D=ve("DetilNilaiDialog"),Z=fe;return u(),b("div",null,[t(L,null,{default:s(()=>[t(B,{cols:"12"},{default:s(()=>[l(c)?(u(),g($,{key:0,class:"text-center mb-10"},{default:s(()=>[t(F,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})):(u(),g($,{key:1,title:l(w)},Ne({default:s(()=>[t(E),t(le,{class:"text-no-wrap"},{default:s(()=>[e("thead",null,[e("tr",null,[i[7]||(i[7]=e("th",{class:"text-center"},"No",-1)),i[8]||(i[8]=e("th",{class:"text-center"},"Mata Pelajaran",-1)),l(h)?(u(),b("th",Ge,"Guru Mata Pelajaran")):(u(),b(R,{key:1},[i[5]||(i[5]=e("th",{class:"text-center"},"Rombel",-1)),i[6]||(i[6]=e("th",{class:"text-center"},"Wali Kelas",-1))],64)),i[9]||(i[9]=e("th",{class:"text-center"},"Jml PD",-1)),i[10]||(i[10]=e("th",{class:"text-center"},"Jml PD Dinilai",-1)),i[11]||(i[11]=e("th",{class:"text-center"},"Detil",-1))])]),e("tbody",null,[l(j).length?(u(!0),b(R,{key:0},te(l(j),(n,ee)=>(u(),b("tr",null,[e("td",Ee,m(ee+1),1),e("td",null,m(n.nama_mata_pelajaran),1),l(h)?(u(),b("td",Le,m(n.guru),1)):(u(),b(R,{key:1},[e("td",Je,m(n.rombel),1),e("td",null,m(n.wali_kelas),1)],64)),n.mata_pelajaran_id===800001e3?(u(),b(R,{key:2},[e("td",Ye,m(n.pd_pkl_count),1),e("td",Qe,m(n.pd_pkl_dinilai),1)],64)):(u(),b(R,{key:3},[e("td",Xe,m(n.pd),1),e("td",Ze,m(n.pd_dinilai),1)],64)),e("td",ea,[t(Te,{size:"x-small",color:"success",onClick:la=>X(n),loading:l(M)[n.pembelajaran_id],disabled:l(M)[n.pembelajaran_id]},{default:s(()=>i[12]||(i[12]=[se(" Detil ")])),_:2},1032,["onClick","loading","disabled"])])]))),256)):(u(),b("tr",aa,i[13]||(i[13]=[e("td",{colspan:"7",class:"text-center"},"Tidak ada data untuk ditampilkan",-1)])))])]),_:1})]),_:2},[d.cardSubTitle?{name:"append",fn:s(()=>[e("div",We,[i[4]||(i[4]=se("Status Penilaian di Rombongan Belajar ini :     ")),t(be,{modelValue:l(v),"onUpdate:modelValue":[i[0]||(i[0]=n=>z(v)?v.value=n:null),O],label:`${l(v)?"Aktif":"Non Aktif"}`},null,8,["modelValue","label"])])]),key:"0"}:void 0]),1032,["title"]))]),_:1}),t(D,{isDialogVisible:l(_),"onUpdate:isDialogVisible":i[1]||(i[1]=n=>z(_)?_.value=n:null),"item-data":l(q),"title-detil-nilai":l(x),merdeka:l(r),"is-ppa":l(I),"data-siswa":l(C),"sub-mapel":l(k),onRefresh:P},null,8,["isDialogVisible","item-data","title-detil-nilai","merdeka","is-ppa","data-siswa","sub-mapel"]),t(Z,{isDialogVisible:l(A),"onUpdate:isDialogVisible":i[2]||(i[2]=n=>z(A)?A.value=n:null),isNotifVisible:l(N),"onUpdate:isNotifVisible":i[3]||(i[3]=n=>z(N)?N.value=n:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":l(y),"confirm-color":l(T).color,"confirm-title":l(T).title,"confirm-msg":l(T).text,onConfirm:U,onClose:W},null,8,["isDialogVisible","isNotifVisible","confirmation-text","confirm-color","confirm-title","confirm-msg"])]),_:1})])}}},ta={__name:"Guru",setup(d){return(f,w)=>(u(),b("div",null,[t(L,null,{default:s(()=>[t(B,{cols:"12"},{default:s(()=>[t(ce,{"card-title":`Mata Pelajaran yang diampu di Tahun Pelajaran ${("$semester"in f?f.$semester:l(H)).nama}`,"card-url":"/dashboard"},null,8,["card-title"])]),_:1}),f.$can("read","Wali")?(u(),g(B,{key:0,cols:"12"},{default:s(()=>[t(ce,{"card-url":"/dashboard/wali",cardSubTitle:!0})]),_:1})):oe("",!0)]),_:1})]))}},ha={__name:"index",setup(d){return(f,w)=>(u(),b("div",null,[f.$can("read","Administrator")?(u(),g(Oe,{key:0})):oe("",!0),f.$can("read","Guru")?(u(),g(ta,{key:1})):oe("",!0)]))}};export{ha as default};
