import{_ as y}from"./ProfileSiswa-BsnphuhC.js";import{d as m,a as k}from"./mixins-RGhIXACJ.js";import{u as v,c as $}from"./createUrl-Ba6GRlYQ.js";import{V,c as w,a as C,b as z}from"./VCard-D_lTQokD.js";import{V as D}from"./VDivider-CVqQjHI4.js";import{G as B,r as f,f as b,e as d,o as r,b as s,t as P,m as t,c as o,am as T,F as g,d as l,y as _,h as N,aa as i}from"./main-C3sapBSz.js";import{V as R}from"./VTable-BCYREMx6.js";import"./VImg-BMjvK6WQ.js";import"./VAvatar-BdK8wC9P.js";import"./index-BxkgbwWS.js";const F={key:0,class:"text-center"},A={key:1,class:"text-center"},S={class:"text-center"},j={key:0,class:"text-center"},q={key:1,class:"text-center"},E={key:2,class:"text-center"},G={key:3,class:"text-center"},H={class:"text-center"},Z={__name:"cetak-rapor",setup(I){B(async()=>{await h()});const c=f({body:!1}),e=f({user_id:m.user_id,guru_id:m.guru_id,sekolah_id:m.sekolah_id,semester_id:k.semester_id,periode_aktif:k.nama,aksi:"cetak-rapor",rapor_pts:!1,merdeka:!1,is_ppa:!1}),p=f({siswa:[]}),h=async()=>{c.value.body=!0;try{let a=(await v($("/walas",{query:{user_id:e.value.user_id,guru_id:e.value.guru_id,sekolah_id:e.value.sekolah_id,semester_id:e.value.semester_id,periode_aktif:e.value.nama,aksi:e.value.aksi}}))).data.value;e.value.rapor_pts=a.rapor_pts,e.value.merdeka=a.merdeka,e.value.is_ppa=a.is_ppa,p.value.siswa=a.data_siswa}catch(u){console.error(u)}finally{c.value.body=!1}};return(u,a)=>{const x=y;return r(),b(V,null,{default:d(()=>[s(C,{class:"pb-4"},{default:d(()=>[s(w,null,{default:d(()=>a[0]||(a[0]=[P("Cetak Rapor")])),_:1})]),_:1}),t(c).body?(r(),o(g,{key:0},[s(D),s(z,{class:"text-center"},{default:d(()=>[s(T,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})],64)):(r(),o(g,{key:1},[t(p).siswa.length?(r(),b(R,{key:0,class:"text-no-wrap"},{default:d(()=>[l("thead",null,[l("tr",null,[a[1]||(a[1]=l("th",{class:"text-center"},"Peserta Didik",-1)),a[2]||(a[2]=l("th",{class:"text-center"},"Halaman Depan",-1)),a[3]||(a[3]=l("th",{class:"text-center"},"Rapor Akademik",-1)),t(e).rapor_pts?(r(),o("th",F,"Rapor Tengah Semester")):_("",!0),t(e).merdeka?(r(),o("th",A,"Rapor P5")):_("",!0),a[4]||(a[4]=l("th",{class:"text-center"},"Dokumen Pendukung",-1))])]),l("tbody",null,[(r(!0),o(g,null,N(t(p).siswa,n=>(r(),o("tr",null,[l("td",null,[s(x,{item:n},null,8,["item"])]),l("td",S,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"success",variant:"text",href:`/cetak/rapor-cover/${n.anggota_rombel.anggota_rombel_id}`,target:"_blank"},null,8,["href"])]),t(e).merdeka||t(e).is_ppa?(r(),o("td",j,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-nilai-akhir/${n.anggota_rombel.anggota_rombel_id}/${t(e).sekolah_id}/${t(e).semester_id}`,target:"_blank"},null,8,["href"])])):(r(),o("td",q,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-semester/${n.anggota_rombel.anggota_rombel_id}/${t(e).sekolah_id}/${t(e).semester_id}`,target:"_blank"},null,8,["href"])])),t(e).rapor_pts?(r(),o("td",E,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"primary",variant:"text",href:`/cetak/rapor-tengah-semester/${n.anggota_rombel.anggota_rombel_id}/${t(e).semester_id}`,target:"_blank"},null,8,["href"])])):_("",!0),t(e).merdeka?(r(),o("td",G,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"info",variant:"text",href:`/cetak/rapor-p5/${n.anggota_rombel.anggota_rombel_id}/${t(e).semester_id}`,target:"_blank"},null,8,["href"])])):_("",!0),l("td",H,[s(i,{size:"x-large",icon:"tabler-file-type-pdf",color:"error",variant:"text",href:`/cetak/rapor-pelengkap/${n.anggota_rombel.anggota_rombel_id}/${n.anggota_rombel.rombongan_belajar_id}`,target:"_blank"},null,8,["href"])])]))),256))])]),_:1})):_("",!0)],64))]),_:1})}}};export{Z as default};
