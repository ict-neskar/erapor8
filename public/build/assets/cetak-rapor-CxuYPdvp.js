import{a as v,d as k,t as P}from"./mixins-CBttQXZp.js";import{_ as R}from"./ProfileSiswa-DfVEXrms.js";import{_ as z}from"./AppSelect-Cj2leHwv.js";import{_ as B}from"./AppTextField-BMvQ8WrJ.js";import{$ as D}from"./api-CIH0TMz4.js";import{V as F,c as K,a as N,b as w}from"./VCard-Dn2VV2H7.js";import{V as $}from"./VDivider-Cli9Rzjn.js";import{V as b,a as p}from"./VRow-BMWdY0j6.js";import{r as x,f as V,e as l,o,b as e,t as S,d as i,m as a,c as d,am as A,F as h,y as f,h as I,aa as c}from"./main-DTgXPFc_.js";import{V as U}from"./VTable-DfzOh2S8.js";import"./VImg-E3q5rB4t.js";import"./VAvatar-CPHR_8wG.js";import"./VLabel-DbQU7QW3.js";import"./VSelect-Dh6F9nrh.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-C92Vqzwr.js";import"./ssrBoot-DCaD977T.js";import"./VOverlay-D7F3Td89.js";import"./scopeId-CWRV6RWD.js";import"./VMenu-kPhWghR1.js";import"./VSelectionControl-kBSdCo0e.js";import"./VChip-B6rlhz_b.js";import"./VSlideGroup-sVolGIL-.js";/* empty css                   */import"./VField-CleIpW0s.js";import"./index-BxkgbwWS.js";/* empty css              */const E={key:0,class:"text-center"},H={key:1,class:"text-center"},L={class:"text-center"},M={key:0,class:"text-center"},O={key:1,class:"text-center"},q={key:2,class:"text-center"},G={key:3,class:"text-center"},J={key:4,class:"text-center"},Q={class:"text-center"},$e={__name:"cetak-rapor",setup(W){const t=x({tingkat:null,rombongan_belajar_id:null,semester_id:v.semester_id,user_id:k.user_id,guru_id:k.guru_id,sekolah_id:k.sekolah_id,merdeka:!1,rapor_pts:!1,is_ppa:!1,is_new_ppa:!0}),_=x({rombel:[],siswa:[]}),u=x({rombel:!1,body:!1}),y=async n=>{const r={...n,...t.value};await D("/monitoring/get-data",{method:"POST",body:r,onResponse({response:g}){let m=g._data;n.data=="rombel"&&(_.value.rombel=m),n.data=="siswa"&&(_.value.siswa=m.data_siswa,t.value.merdeka=m.merdeka,t.value.rapor_pts=m.rapor_pts,t.value.is_ppa=m.is_ppa,t.value.is_new_ppa=m.is_new_ppa)}})},T=async n=>{t.value.rombongan_belajar_id=null,_.value.rombel=[],_.value.siswa=[],n&&(u.value.rombel=!0,await y({data:"rombel"}).then(()=>{u.value.rombel=!1}))},j=async n=>{_.value.siswa=[],n&&(u.value.body=!0,await y({data:"siswa"}).then(()=>{u.value.body=!1}))};return(n,r)=>{const g=B,m=z,C=R;return o(),V(F,{class:"mb-6"},{default:l(()=>[e(N,{class:"pb-4"},{default:l(()=>[e(K,null,{default:l(()=>r[2]||(r[2]=[S("Monitoring Â» Cetak Rapor")])),_:1})]),_:1}),e($),e(w,null,{default:l(()=>[e(b,null,{default:l(()=>[e(p,{cols:"12"},{default:l(()=>[e(b,{"no-gutters":""},{default:l(()=>[e(p,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[3]||(r[3]=[i("label",{class:"v-label text-body-2 text-high-emphasis",for:"semester_id"},"Tahun Pelajaran",-1)])),_:1}),e(p,{cols:"12",md:"9"},{default:l(()=>[e(g,{id:"semester_id",value:("$semester"in n?n.$semester:a(v)).nama,disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(p,{cols:"12"},{default:l(()=>[e(b,{"no-gutters":""},{default:l(()=>[e(p,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[4]||(r[4]=[i("label",{class:"v-label text-body-2 text-high-emphasis",for:"tingkat"},"Tingkat Kelas",-1)])),_:1}),e(p,{cols:"12",md:"9"},{default:l(()=>[e(m,{modelValue:a(t).tingkat,"onUpdate:modelValue":[r[0]||(r[0]=s=>a(t).tingkat=s),T],placeholder:"== Pilih Tingkat kelas ==",items:"tingkatKelas"in n?n.tingkatKelas:a(P),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(p,{cols:"12"},{default:l(()=>[e(b,{"no-gutters":""},{default:l(()=>[e(p,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[5]||(r[5]=[i("label",{class:"v-label text-body-2 text-high-emphasis",for:"rombonganBelajarId"},"Rombongan Belajar",-1)])),_:1}),e(p,{cols:"12",md:"9"},{default:l(()=>[e(m,{modelValue:a(t).rombongan_belajar_id,"onUpdate:modelValue":[r[1]||(r[1]=s=>a(t).rombongan_belajar_id=s),j],placeholder:"== Pilih Rombongan Belajar == ",items:a(_).rombel,clearable:"","clear-icon":"tabler-x","item-value":"rombongan_belajar_id","item-title":"nama",loading:a(u).rombel,disabled:a(u).rombel},null,8,["modelValue","items","loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(u).body?(o(),d(h,{key:0},[e($),e(w,{class:"text-center"},{default:l(()=>[e(A,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})],64)):(o(),d(h,{key:1},[a(_).siswa.length?(o(),V(U,{key:0,class:"text-no-wrap"},{default:l(()=>[i("thead",null,[i("tr",null,[r[6]||(r[6]=i("th",{class:"text-center"},"Peserta Didik",-1)),r[7]||(r[7]=i("th",{class:"text-center"},"Halaman Depan",-1)),r[8]||(r[8]=i("th",{class:"text-center"},"Rapor Akademik",-1)),a(t).rapor_pts?(o(),d("th",E,"Rapor Tengah Semester")):f("",!0),a(t).merdeka&&!a(t).is_new_ppa?(o(),d("th",H,"Rapor P5")):f("",!0),r[9]||(r[9]=i("th",{class:"text-center"},"Dokumen Pendukung",-1))])]),i("tbody",null,[(o(!0),d(h,null,I(a(_).siswa,s=>(o(),d("tr",null,[i("td",null,[e(C,{item:s},null,8,["item"])]),i("td",L,[e(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"success",variant:"text",href:`/cetak/rapor-cover/${s.peserta_didik_id}`,target:"_blank"},null,8,["href"])]),a(t).is_new_ppa?(o(),d("td",M,[e(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-akademik/${s.peserta_didik_id}/${a(t).sekolah_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):a(t).merdeka||a(t).is_ppa?(o(),d("td",O,[e(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-nilai-akhir/${s.peserta_didik_id}/${a(t).sekolah_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):(o(),d("td",q,[e(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-semester/${s.peserta_didik_id}/${a(t).sekolah_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])),a(t).rapor_pts?(o(),d("td",G,[e(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"primary",variant:"text",href:`/cetak/rapor-tengah-semester/${s.peserta_didik_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):f("",!0),a(t).merdeka&&!a(t).is_new_ppa?(o(),d("td",J,[e(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"info",variant:"text",href:`/cetak/rapor-p5/${s.peserta_didik_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):f("",!0),i("td",Q,[e(c,{size:"x-large",icon:"tabler-file-type-pdf",color:"error",variant:"text",href:`/cetak/rapor-pelengkap/${s.peserta_didik_id}/${s.anggota_rombel.rombongan_belajar_id}`,target:"_blank"},null,8,["href"])])]))),256))])]),_:1})):f("",!0)],64))]),_:1})}}};export{$e as default};
