import{u as b,c as v}from"./createUrl-Ck_LlMGD.js";import{V as y,a as C,c as V,b as r}from"./VCard-2_qp3Vvc.js";import{V as w}from"./VDivider-DOshNxjC.js";import{G as M,r as t,c as k,b as s,e as i,o as n,t as l,m as u,f as o,ao as S,d as a,y as _}from"./main-BLR2YNPc.js";import{V as m}from"./VAlert-D_wAHgpV.js";import"./index-BxkgbwWS.js";import"./VAvatar-BZJqyIb4.js";import"./VImg-C5whf5xb.js";const K={key:0,class:"ps-1",type:"a"},P={key:1,class:"ps-4"},q={__name:"check-update",setup(R){M(async()=>{await h()});const f=t(!0),d=t(),c=t(),g=t(),h=async()=>{try{let e=(await b(v("/setting/check-update"))).data.value;d.value=e,c.value=e==null?void 0:e.cekDiff.invert,g.value=e==null?void 0:e.cekDiff.human}catch(p){console.error(p)}finally{f.value=!1}};return(p,e)=>(n(),k("div",null,[s(y,null,{default:i(()=>[s(C,{class:"pb-4"},{default:i(()=>[s(V,null,{default:i(()=>e[0]||(e[0]=[l("Cek Pembaharuan Aplikasi")])),_:1})]),_:1}),s(w),u(f)?(n(),o(r,{key:0},{default:i(()=>[s(S,{indeterminate:"","bg-color":"rgba(var(--v-theme-surface), 0.1)",height:8,class:"mb-0 mt-4"})]),_:1})):u(d).tersedia?(n(),o(r,{key:1},{default:i(()=>[s(m,{color:"success",class:"mb-4"},{default:i(()=>e[1]||(e[1]=[l(" Pembaharuan tersedia! ")])),_:1}),u(d).win?(n(),k("ol",K,e[2]||(e[2]=[a("li",null,[a("strong",null,"Manual"),a("ul",{style:{"padding-left":"10px"}},[a("li",null,"Buka Command Prompt (CMD) Run as Administrator"),a("li",null,[l("Ketik "),a("code",null,"cd C:\\eRaporSMK\\dataweb"),l(" [enter]")]),a("li",null,[l("Ketik "),a("code",null,"php artisan app:version --force"),l(". Tunggu sampai proses update versi aplikasi selesai. ")]),a("li",null,"Pastikan di akhir informasi di Command Prompt, versi aplikasi sudah berubah"),a("li",null,"Cek kembali aplikasi e-Rapor SMK, jika ada yang gagal silahkan laporkan ke Tim Helpdesk")])],-1),a("br",null,null,-1),a("li",null,[a("strong",null,"Menggunakan file .bat"),a("ul",{style:{"padding-left":"10px"}},[a("li",null,[l("Silahkan download file "),a("strong",null,"updater e-Rapor SMK v8.0.0.bat"),l(),a("a",{href:"https://drive.google.com/drive/folders/1gjKuWR0-17xa8m5v2WNvqRvmnMgqDk8a?usp=drive_link",target:"_blank"},"disini"),l(".")]),a("li",null,[l("Buka file "),a("strong",null,"updater e-Rapor SMK v8.0.0.bat"),l(" dengan cara klik kanan dan pilih Run as Administartor.")]),a("li",null,"Tunggu sampai proses update versi aplikasi selesai.")])],-1)]))):(n(),k("ul",P,e[3]||(e[3]=[a("li",null,[l("Buka aplikasi Putty, jika belum ada, silahkan unduh "),a("a",{href:"https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html",target:"_blank"},"disini"),l(" kemudian install")],-1),a("li",null,"Login ke SSH menggunakan username & password yang dimiliki",-1),a("li",null,[l("Masuk ke root direktori aplikasi e-Rapor SMK di install.(Contoh "),a("code",null,"cd /var/www/html/erapor"),l(" [enter])")],-1),a("li",null,[l("Ketik "),a("code",null,"php artisan app:version --force"),l(". Tunggu sampai proses update versi aplikasi selesai. ")],-1),a("li",null,"Pastikan di akhir informasi di SSH, versi aplikasi sudah berubah",-1),a("li",null,"Cek kembali aplikasi e-Rapor SMK, jika ada yang gagal silahkan laporkan ke Tim Helpdesk",-1)])))]),_:1})):(n(),o(r,{key:2},{default:i(()=>[s(m,{color:"error"},{default:i(()=>e[4]||(e[4]=[l(" Pembaharuan belum tersedia! ")])),_:1})]),_:1})),u(c)?(n(),o(r,{key:3},{default:i(()=>[s(m,{color:"success",class:"mb-4"},{default:i(()=>e[5]||(e[5]=[l(" Pembaharuan github tersedia! ")])),_:1}),e[6]||(e[6]=a("p",null,[l("Silahkan lakukan "),a("code",null,"git pull"),l(" atau "),a("code",null,"php artisan app:version --force")],-1))]),_:1})):_("",!0)]),_:1})]))}};export{q as default};
