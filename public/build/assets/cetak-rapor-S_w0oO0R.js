import{a as v,d as k,t as P}from"./mixins-RGhIXACJ.js";import{_ as R}from"./ProfileSiswa-BsnphuhC.js";import{_ as B}from"./AppSelect-CJR4JKz4.js";import{_ as z}from"./AppTextField-5FBXgyoS.js";import{$ as D}from"./api-cKcsNrGa.js";import{V as F,c as K,a as N,b as V}from"./VCard-D_lTQokD.js";import{V as $}from"./VDivider-CVqQjHI4.js";import{V as f,a as m}from"./VRow-Bxui0UIi.js";import{r as x,f as w,e as l,o as i,b as e,t as S,d as o,m as a,c as d,am as A,F as h,y as c,h as I,aa as g}from"./main-C3sapBSz.js";import{V as U}from"./VTable-BCYREMx6.js";import"./VImg-BMjvK6WQ.js";import"./VAvatar-BdK8wC9P.js";import"./VLabel-BoDcd68p.js";import"./VSelect-kJg0Kcsb.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-CnXl5Ste.js";import"./ssrBoot-BE7yGWEF.js";import"./VOverlay-D8CESORm.js";import"./scopeId-BWav40DR.js";import"./VMenu-IW7ayEFB.js";import"./VSelectionControl-CUiD9u5E.js";import"./VChip-C7bzxhaf.js";import"./VSlideGroup-CL7KHkCg.js";/* empty css                   */import"./VField-DMGA2emL.js";import"./index-BxkgbwWS.js";/* empty css              */const E={key:0,class:"text-center"},H={key:1,class:"text-center"},L={class:"text-center"},M={key:0,class:"text-center"},O={key:1,class:"text-center"},q={key:2,class:"text-center"},G={key:3,class:"text-center"},J={class:"text-center"},Ve={__name:"cetak-rapor",setup(Q){const r=x({tingkat:null,rombongan_belajar_id:null,semester_id:v.semester_id,user_id:k.user_id,guru_id:k.guru_id,sekolah_id:k.sekolah_id,merdeka:!1,rapor_pts:!1,is_ppa:!1}),_=x({rombel:[],siswa:[]}),u=x({rombel:!1,body:!1}),y=async s=>{const t={...s,...r.value};await D("/monitoring/get-data",{method:"POST",body:t,onResponse({response:b}){let p=b._data;s.data=="rombel"&&(_.value.rombel=p),s.data=="siswa"&&(_.value.siswa=p.data_siswa,r.value.merdeka=p.merdeka,r.value.rapor_pts=p.rapor_pts,r.value.is_ppa=p.is_ppa)}})},T=async s=>{r.value.rombongan_belajar_id=null,_.value.rombel=[],_.value.siswa=[],s&&(u.value.rombel=!0,await y({data:"rombel"}).then(()=>{u.value.rombel=!1}))},j=async s=>{_.value.siswa=[],s&&(u.value.body=!0,await y({data:"siswa"}).then(()=>{u.value.body=!1}))};return(s,t)=>{const b=z,p=B,C=R;return i(),w(F,{class:"mb-6"},{default:l(()=>[e(N,{class:"pb-4"},{default:l(()=>[e(K,null,{default:l(()=>t[2]||(t[2]=[S("Monitoring Â» Cetak Rapor")])),_:1})]),_:1}),e($),e(V,null,{default:l(()=>[e(f,null,{default:l(()=>[e(m,{cols:"12"},{default:l(()=>[e(f,{"no-gutters":""},{default:l(()=>[e(m,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>t[3]||(t[3]=[o("label",{class:"v-label text-body-2 text-high-emphasis",for:"semester_id"},"Tahun Pelajaran",-1)])),_:1}),e(m,{cols:"12",md:"9"},{default:l(()=>[e(b,{id:"semester_id",value:("$semester"in s?s.$semester:a(v)).nama,disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(f,{"no-gutters":""},{default:l(()=>[e(m,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>t[4]||(t[4]=[o("label",{class:"v-label text-body-2 text-high-emphasis",for:"tingkat"},"Tingkat Kelas",-1)])),_:1}),e(m,{cols:"12",md:"9"},{default:l(()=>[e(p,{modelValue:a(r).tingkat,"onUpdate:modelValue":[t[0]||(t[0]=n=>a(r).tingkat=n),T],placeholder:"== Pilih Tingkat kelas ==",items:"tingkatKelas"in s?s.tingkatKelas:a(P),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(f,{"no-gutters":""},{default:l(()=>[e(m,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>t[5]||(t[5]=[o("label",{class:"v-label text-body-2 text-high-emphasis",for:"rombonganBelajarId"},"Rombongan Belajar",-1)])),_:1}),e(m,{cols:"12",md:"9"},{default:l(()=>[e(p,{modelValue:a(r).rombongan_belajar_id,"onUpdate:modelValue":[t[1]||(t[1]=n=>a(r).rombongan_belajar_id=n),j],placeholder:"== Pilih Rombongan Belajar == ",items:a(_).rombel,clearable:"","clear-icon":"tabler-x","item-value":"rombongan_belajar_id","item-title":"nama",loading:a(u).rombel,disabled:a(u).rombel},null,8,["modelValue","items","loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(u).body?(i(),d(h,{key:0},[e($),e(V,{class:"text-center"},{default:l(()=>[e(A,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})],64)):(i(),d(h,{key:1},[a(_).siswa.length?(i(),w(U,{key:0,class:"text-no-wrap"},{default:l(()=>[o("thead",null,[o("tr",null,[t[6]||(t[6]=o("th",{class:"text-center"},"Peserta Didik",-1)),t[7]||(t[7]=o("th",{class:"text-center"},"Halaman Depan",-1)),t[8]||(t[8]=o("th",{class:"text-center"},"Rapor Akademik",-1)),a(r).rapor_pts?(i(),d("th",E,"Rapor Tengah Semester")):c("",!0),a(r).merdeka?(i(),d("th",H,"Rapor P5")):c("",!0),t[9]||(t[9]=o("th",{class:"text-center"},"Dokumen Pendukung",-1))])]),o("tbody",null,[(i(!0),d(h,null,I(a(_).siswa,n=>(i(),d("tr",null,[o("td",null,[e(C,{item:n},null,8,["item"])]),o("td",L,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"success",variant:"text",href:`/cetak/rapor-cover/${n.anggota_rombel.anggota_rombel_id}`,target:"_blank"},null,8,["href"])]),a(r).merdeka||a(r).is_ppa?(i(),d("td",M,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-nilai-akhir/${n.anggota_rombel.anggota_rombel_id}/${a(r).sekolah_id}/${a(r).semester_id}`,target:"_blank"},null,8,["href"])])):(i(),d("td",O,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-semester/${n.anggota_rombel.anggota_rombel_id}/${a(r).sekolah_id}/${a(r).semester_id}`,target:"_blank"},null,8,["href"])])),a(r).rapor_pts?(i(),d("td",q,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"primary",variant:"text",href:`/cetak/rapor-tengah-semester/${n.anggota_rombel.anggota_rombel_id}/${a(r).semester_id}`,target:"_blank"},null,8,["href"])])):c("",!0),a(r).merdeka?(i(),d("td",G,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"info",variant:"text",href:`/cetak/rapor-p5/${n.anggota_rombel.anggota_rombel_id}/${a(r).semester_id}`,target:"_blank"},null,8,["href"])])):c("",!0),o("td",J,[e(g,{size:"x-large",icon:"tabler-file-type-pdf",color:"error",variant:"text",href:`/cetak/rapor-pelengkap/${n.anggota_rombel.anggota_rombel_id}/${n.anggota_rombel.rombongan_belajar_id}`,target:"_blank"},null,8,["href"])])]))),256))])]),_:1})):c("",!0)],64))]),_:1})}}};export{Ve as default};
