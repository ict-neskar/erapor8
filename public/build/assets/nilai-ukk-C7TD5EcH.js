import{_ as w}from"./TablePagination-C3kmBrkT.js";import{_ as x}from"./ProfilePtk-CCd5hsEP.js";import{_ as T}from"./AppTextField-C7kSSQsT.js";import{_ as U}from"./AppAutocomplete-jvNr0OkR.js";import{_ as $}from"./AppSelect-CZ3YcZJq.js";import{d as _,a as v}from"./mixins-CKTOKEkb.js";import{u as A,c as K}from"./createUrl-Dx8y2st0.js";import{V as Q,c as S,a as B,b as F}from"./VCard-Av5KF9XZ.js";import{V as I}from"./VDivider-xKTMVaVZ.js";import{V as N,a as g}from"./VRow-BwW1PfoV.js";import{V as R}from"./VDataTableServer-4vWK3mVg.js";import{r as n,G as q,w as y,f as M,e as l,o as E,b as r,t as u,m as o,v as c}from"./main-Ba5E192h.js";import"./VImg-BD46ZmSh.js";import"./VAvatar-Cnp5qM21.js";import"./VLabel-BtGXOH7p.js";import"./VField-D2ajgn9J.js";import"./forwardRefs-DWGaNmQL.js";import"./VSelect-A1cRPDhv.js";import"./VList-BVPheIBU.js";import"./ssrBoot-SBUkp28z.js";import"./VOverlay-B8TKvbjl.js";import"./scopeId-FMl0qGlW.js";import"./VMenu-BZlhnuPC.js";import"./VSelectionControl-RkTZifSY.js";import"./VChip-BbopsKiC.js";import"./VSlideGroup-BqtQ8Q2P.js";import"./filter-6repwXrG.js";import"./index-BxkgbwWS.js";/* empty css              */import"./VTable-WZOTEkgO.js";const Ve={__name:"nilai-ukk",setup(G){const e=n({itemsPerPage:10,searchQuery:null,page:1,sortby:"updated_at",sortbydesc:"DESC",rombongan_belajar_id:null}),V=i=>{var t,m;e.value.sortby=(t=i[0])==null?void 0:t.key,e.value.sortbydesc=(m=i[0])==null?void 0:m.order},P=n([]),f=n([]),d=n(0),p=n(!1),h=[{key:"jurusan",title:"Program/Kompetensi Keahlian",sortable:!1},{key:"kode",title:"Kode Paket",sortable:!1,align:"center"},{key:"nama",title:"Nama Paket",sortable:!1},{key:"guru_internal",title:"Penguji Internal",sortable:!1},{key:"guru_eksternal",title:"Instruktur",sortable:!1},{key:"pd_count",title:"Jumlah PD",sortable:!1,align:"center"}];q(async()=>{await k()}),y(e,async()=>{await k()},{deep:!0}),y(()=>e.value.searchQuery,()=>{e.value.page=1});const s=n({user_id:_.user_id,guru_id:_.guru_id,sekolah_id:_.sekolah_id,semester_id:v.semester_id,periode_aktif:v.nama,data:"nilai-ukk"}),k=async()=>{p.value=!0;try{let t=(await A(K("/monitoring",{query:{user_id:s.value.user_id,guru_id:s.value.guru_id,sekolah_id:s.value.sekolah_id,semester_id:s.value.semester_id,periode_aktif:s.value.nama,data:s.value.data,q:e.value.searchQuery,page:e.value.page,per_page:e.value.itemsPerPage,sortby:e.value.sortby,sortbydesc:e.value.sortbydesc,rombongan_belajar_id:e.value.rombongan_belajar_id}}))).data.value;f.value=t.data,d.value=t.total}catch(i){console.error(i)}finally{p.value=!1}};return(i,t)=>{const m=$,j=U,C=T,b=x,D=w;return E(),M(Q,{class:"mb-6"},{default:l(()=>[r(B,{class:"pb-4"},{default:l(()=>[r(S,null,{default:l(()=>t[4]||(t[4]=[u("Monitoring Â» Penilaian UKK")])),_:1})]),_:1}),r(I),r(F,null,{default:l(()=>[r(N,null,{default:l(()=>[r(g,{cols:"12",md:"4"},{default:l(()=>[r(m,{modelValue:o(e).itemsPerPage,"onUpdate:modelValue":t[0]||(t[0]=a=>o(e).itemsPerPage=a),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"}]},null,8,["modelValue"])]),_:1}),r(g,{cols:"12",md:"4"},{default:l(()=>[r(j,{modelValue:o(e).rombongan_belajar_id,"onUpdate:modelValue":t[1]||(t[1]=a=>o(e).rombongan_belajar_id=a),items:o(P),placeholder:"== Filter Rombel ==","item-value":"rombongan_belajar_id","item-title":"nama"},null,8,["modelValue","items"])]),_:1}),r(g,{cols:"12",md:"4"},{default:l(()=>[r(C,{modelValue:o(e).searchQuery,"onUpdate:modelValue":t[2]||(t[2]=a=>o(e).searchQuery=a),placeholder:"Cari Data"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(R,{items:o(f),"server-items-length":o(d),headers:h,options:o(e),loading:o(p),"loading-text":"Loading...","onUpdate:sortBy":V},{"item.jurusan":l(({item:a})=>[u(c(a.paket_ukk.jurusan.nama_jurusan),1)]),"item.kode":l(({item:a})=>[u(c(a.paket_ukk.nomor_paket),1)]),"item.nama":l(({item:a})=>[u(c(a.paket_ukk.nama_paket_id),1)]),"item.guru_internal":l(({item:a})=>[r(b,{item:a.guru_internal},null,8,["item"])]),"item.guru_eksternal":l(({item:a})=>[r(b,{item:a.guru_eksternal},null,8,["item"])]),bottom:l(()=>[r(D,{page:o(e).page,"onUpdate:page":t[3]||(t[3]=a=>o(e).page=a),"items-per-page":o(e).itemsPerPage,"total-items":o(d)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items","server-items-length","options","loading"])]),_:1})}}};export{Ve as default};
