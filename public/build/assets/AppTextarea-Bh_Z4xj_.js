import{_ as de}from"./DialogCloseBtn-DcKwnVsf.js";import{V as fe,a as me,c as ve,b as q}from"./VCard-BZDGD_jp.js";import{V as W}from"./VDivider-DpMv7xOp.js";import{b as ge}from"./VOverlay-DZAOnpyg.js";import{r as y,w as b,o as M,f as Z,e as c,b as t,t as A,v as xe,z as ee,m as f,a2 as Ve,am as pe,aa as L,a3 as ye,a6 as be,ae as he,Y as h,aU as we,bB as Ce,G as _e,ac as ke,a7 as Pe,ai as Fe,q as z,F as N,J as Y,aW as Ie,cg as Se,ap as $,bY as Be,aX as De,bA as Re,as as J,av as Te,c as Ae,y as ze,a9 as Ne,h as $e,aw as X,ax as K,x as Me}from"./main-CSMdQ8mb.js";import{V as He}from"./VDialog-BurAdhc7.js";import{m as Ue,u as Ge,V as Q,a as Oe}from"./VLabel-C8L1S7dm.js";import{m as je,f as Ee,V as qe,c as We}from"./AppTextField-Duq1qxek.js";import{f as Le}from"./forwardRefs-DWGaNmQL.js";import{I as Ye}from"./VImg-Coh-qlqv.js";const st={__name:"DefaultDialog",props:{isDialogVisible:{type:Boolean,required:!0},errors:{type:Object,required:!1,default:{}},dialogTitle:{type:String,required:!0},dialogWith:{type:String,default:"90%"}},emits:["update:isDialogVisible","confirm"],setup(e,{emit:x}){const i=e,l=y(!1),n=x,o=()=>{n("confirm",!0),l.value=!0},r=()=>{n("confirm",!1),n("update:isDialogVisible",!1)};return b(i,()=>{i.isDialogVisible||(l.value=!1),Object.keys(i.errors).length&&(l.value=!1)}),(w,m)=>{const I=de;return M(),Z(He,{scrollable:"","content-class":"scrollable-dialog","max-width":i.dialogWith,"model-value":i.isDialogVisible,"onUpdate:modelValue":r},{default:c(()=>[t(I,{onClick:r}),t(fe,null,{default:c(()=>[t(me,{class:"pb-5"},{default:c(()=>[t(ve,null,{default:c(()=>[A(xe(i.dialogTitle),1)]),_:1})]),_:1}),t(W),t(q,{style:{position:"relative"}},{default:c(()=>[ee(w.$slots,"content"),t(ge,{modelValue:f(l),"onUpdate:modelValue":m[0]||(m[0]=S=>Ve(l)?l.value=S:null),contained:"",persistent:"","scroll-strategy":"none",class:"align-center justify-center"},{default:c(()=>[t(pe,{color:"primary",size:"64",indeterminate:""})]),_:1},8,["modelValue"])]),_:3}),t(W),t(q,{class:"d-flex justify-end flex-wrap gap-3 pt-5 overflow-visible"},{default:c(()=>[t(L,{color:"secondary",variant:"tonal",onClick:r,loading:f(l),disabled:f(l)},{default:c(()=>m[1]||(m[1]=[A(" Batal ")])),_:1},8,["loading","disabled"]),t(L,{variant:"elevated",onClick:o,loading:f(l),disabled:f(l)},{default:c(()=>m[2]||(m[2]=[A(" Simpan ")])),_:1},8,["loading","disabled"])]),_:1})]),_:3})]),_:3},8,["max-width","model-value"])}}},Je=ye({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ue(),...je()},"VTextarea"),Xe=be()({name:"VTextarea",directives:{Intersect:Ye},inheritAttrs:!1,props:Je(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,x){let{attrs:i,emit:l,slots:n}=x;const o=he(e,"modelValue"),{isFocused:r,focus:w,blur:m}=Ge(e),I=h(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),S=h(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function te(a,u){var s,d;!e.autofocus||!a||(d=(s=u[0].target)==null?void 0:s.focus)==null||d.call(s)}const H=y(),C=y(),U=we(""),_=y(),ae=h(()=>e.persistentPlaceholder||r.value||e.active);function B(){var a;_.value!==document.activeElement&&((a=_.value)==null||a.focus()),r.value||w()}function le(a){B(),l("click:control",a)}function ne(a){l("mousedown:control",a)}function oe(a){a.stopPropagation(),B(),$(()=>{o.value="",Be(e["onClick:clear"],a)})}function ie(a){var s;const u=a.target;if(o.value=u.value,(s=e.modelModifiers)!=null&&s.trim){const d=[u.selectionStart,u.selectionEnd];$(()=>{u.selectionStart=d[0],u.selectionEnd=d[1]})}}const V=y(),k=y(+e.rows),D=h(()=>["plain","underlined"].includes(e.variant));Ce(()=>{e.autoGrow||(k.value=+e.rows)});function p(){e.autoGrow&&$(()=>{if(!V.value||!C.value)return;const a=getComputedStyle(V.value),u=getComputedStyle(C.value.$el),s=parseFloat(a.getPropertyValue("--v-field-padding-top"))+parseFloat(a.getPropertyValue("--v-input-padding-top"))+parseFloat(a.getPropertyValue("--v-field-padding-bottom")),d=V.value.scrollHeight,P=parseFloat(a.lineHeight),R=Math.max(parseFloat(e.rows)*P+s,parseFloat(u.getPropertyValue("--v-input-control-height"))),T=parseFloat(e.maxRows)*P+s||1/0,g=Re(d??0,R,T);k.value=Math.floor((g-s)/P),U.value=De(g)})}_e(p),b(o,p),b(()=>e.rows,p),b(()=>e.maxRows,p),b(()=>e.density,p);let v;return b(V,a=>{a?(v=new ResizeObserver(p),v.observe(V.value)):v==null||v.disconnect()}),ke(()=>{v==null||v.disconnect()}),Pe(()=>{const a=!!(n.counter||e.counter||e.counterValue),u=!!(a||n.details),[s,d]=Fe(i),{modelValue:P,...R}=Q.filterProps(e),T=Ee(e);return t(Q,z({ref:H,modelValue:o.value,"onUpdate:modelValue":g=>o.value=g,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":D.value},e.class],style:e.style},s,R,{centerAffix:k.value===1&&!D.value,focused:r.value}),{...n,default:g=>{let{id:F,isDisabled:G,isDirty:O,isReadonly:se,isValid:re}=g;return t(qe,z({ref:C,style:{"--v-textarea-control-height":U.value},onClick:le,onMousedown:ne,"onClick:clear":oe,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},T,{id:F.value,active:ae.value||O.value,centerAffix:k.value===1&&!D.value,dirty:O.value||e.dirty,disabled:G.value,focused:r.value,error:re.value===!1}),{...n,default:ue=>{let{props:{class:j,...E}}=ue;return t(N,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),Y(t("textarea",z({ref:_,class:j,value:o.value,onInput:ie,autofocus:e.autofocus,readonly:se.value,disabled:G.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:B,onBlur:m},E,d),null),[[Ie("intersect"),{handler:te},null,{once:!0}]]),e.autoGrow&&Y(t("textarea",{class:[j,"v-textarea__sizer"],id:`${E.id}-sizer`,"onUpdate:modelValue":ce=>o.value=ce,ref:V,readonly:!0,"aria-hidden":"true"},null),[[Se,o.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:u?g=>{var F;return t(N,null,[(F=n.details)==null?void 0:F.call(n,g),a&&t(N,null,[t("span",null,null),t(We,{active:e.persistentCounter||r.value,value:I.value,max:S.value,disabled:e.disabled},n.counter)])])}:void 0})}),Le({},H,C,_)}}),rt=Object.assign({name:"AppTextarea",inheritAttrs:!1},{__name:"AppTextarea",setup(e){const x=h(()=>{const n=J().id,o=Te();return n?`app-textarea-${n}`:o}),i=h(()=>J().label);return(l,n)=>(M(),Ae("div",{class:Me(["app-textarea flex-grow-1",l.$attrs.class])},[f(i)?(M(),Z(Oe,{key:0,for:f(x),class:"mb-1 text-body-2",text:f(i)},null,8,["for","text"])):ze("",!0),t(Xe,X(K({...l.$attrs,class:null,label:void 0,variant:"outlined",id:f(x)})),Ne({_:2},[$e(l.$slots,(o,r)=>({name:r,fn:c(w=>[ee(l.$slots,r,X(K(w||{})))])}))]),1040)],2))}});export{st as _,rt as a};
